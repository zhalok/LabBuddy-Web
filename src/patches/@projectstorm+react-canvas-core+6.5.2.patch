diff --git a/node_modules/@projectstorm/react-canvas-core/.npmignore b/node_modules/@projectstorm/react-canvas-core/.npmignore
new file mode 100644
index 0000000..f9d5e25
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/.npmignore
@@ -0,0 +1,5 @@
+*
+!src/**/*
+!dist/**/*
+!package.json
+!README.md
diff --git a/node_modules/@projectstorm/react-canvas-core/LICENSE b/node_modules/@projectstorm/react-canvas-core/LICENSE
deleted file mode 100644
index aaec249..0000000
--- a/node_modules/@projectstorm/react-canvas-core/LICENSE
+++ /dev/null
@@ -1,21 +0,0 @@
-The MIT License (MIT)
-
-Copyright (c) 2016 Storm
-
-Permission is hereby granted, free of charge, to any person obtaining a copy
-of this software and associated documentation files (the "Software"), to deal
-in the Software without restriction, including without limitation the rights
-to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
-copies of the Software, and to permit persons to whom the Software is
-furnished to do so, subject to the following conditions:
-
-The above copyright notice and this permission notice shall be included in all
-copies or substantial portions of the Software.
-
-THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
-IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
-FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
-AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
-LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
-OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
-SOFTWARE.
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/@types/core-actions/Action.d.ts b/node_modules/@projectstorm/react-canvas-core/dist/@types/core-actions/Action.d.ts
index b0c8e67..722a8a4 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/@types/core-actions/Action.d.ts
+++ b/node_modules/@projectstorm/react-canvas-core/dist/@types/core-actions/Action.d.ts
@@ -1,4 +1,4 @@
-import { MouseEvent, KeyboardEvent, WheelEvent, SyntheticEvent } from 'react';
+import { MouseEvent, KeyboardEvent, WheelEvent, TouchEvent, SyntheticEvent } from 'react';
 import { CanvasEngine } from '../CanvasEngine';
 import { BaseModel } from '../core-models/BaseModel';
 export declare enum InputType {
@@ -7,7 +7,10 @@ export declare enum InputType {
     MOUSE_MOVE = "mouse-move",
     MOUSE_WHEEL = "mouse-wheel",
     KEY_DOWN = "key-down",
-    KEY_UP = "key-up"
+    KEY_UP = "key-up",
+    TOUCH_START = "touch-start",
+    TOUCH_END = "touch-end",
+    TOUCH_MOVE = "touch-move"
 }
 export interface Mapping {
     [InputType.MOUSE_DOWN]: MouseEvent;
@@ -16,6 +19,9 @@ export interface Mapping {
     [InputType.MOUSE_WHEEL]: WheelEvent;
     [InputType.KEY_DOWN]: KeyboardEvent;
     [InputType.KEY_UP]: KeyboardEvent;
+    [InputType.TOUCH_START]: TouchEvent;
+    [InputType.TOUCH_END]: TouchEvent;
+    [InputType.TOUCH_MOVE]: TouchEvent;
 }
 export interface ActionEvent<Event extends SyntheticEvent = SyntheticEvent, Model extends BaseModel = BaseModel> {
     event: Event;
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/@types/core-state/AbstractDisplacementState.d.ts b/node_modules/@projectstorm/react-canvas-core/dist/@types/core-state/AbstractDisplacementState.d.ts
index c1be55e..230de64 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/@types/core-state/AbstractDisplacementState.d.ts
+++ b/node_modules/@projectstorm/react-canvas-core/dist/@types/core-state/AbstractDisplacementState.d.ts
@@ -6,7 +6,7 @@ export interface AbstractDisplacementStateEvent {
     displacementY: number;
     virtualDisplacementX: number;
     virtualDisplacementY: number;
-    event: React.MouseEvent;
+    event: React.MouseEvent | React.TouchEvent;
 }
 export declare abstract class AbstractDisplacementState<E extends CanvasEngine = CanvasEngine> extends State<E> {
     initialX: number;
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js
index f8fc34e..74ad3ca 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js
@@ -10,6 +10,9 @@ var InputType;
     InputType["MOUSE_WHEEL"] = "mouse-wheel";
     InputType["KEY_DOWN"] = "key-down";
     InputType["KEY_UP"] = "key-up";
+    InputType["TOUCH_START"] = "touch-start";
+    InputType["TOUCH_END"] = "touch-end";
+    InputType["TOUCH_MOVE"] = "touch-move";
 })(InputType = exports.InputType || (exports.InputType = {}));
 class Action {
     constructor(options) {
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js.map b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js.map
index 145bf38..6a18198 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/Action.js.map
@@ -1 +1 @@
-{"version":3,"file":"Action.js","sourceRoot":"","sources":["../../src/core-actions/Action.ts"],"names":[],"mappings":";;;AACA,wCAAqC;AAIrC,IAAY,SAOX;AAPD,WAAY,SAAS;IACpB,sCAAyB,CAAA;IACzB,kCAAqB,CAAA;IACrB,sCAAyB,CAAA;IACzB,wCAA2B,CAAA;IAC3B,kCAAqB,CAAA;IACrB,8BAAiB,CAAA;AAClB,CAAC,EAPW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAOpB;AAqBD,MAAa,MAAM;IAKlB,YAAY,OAAsB;QACjC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,SAAS,CAAC,MAAS;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;CACD;AAbD,wBAaC"}
\ No newline at end of file
+{"version":3,"file":"Action.js","sourceRoot":"","sources":["../../src/core-actions/Action.ts"],"names":[],"mappings":";;;AACA,wCAAqC;AAIrC,IAAY,SAUX;AAVD,WAAY,SAAS;IACpB,sCAAyB,CAAA;IACzB,kCAAqB,CAAA;IACrB,sCAAyB,CAAA;IACzB,wCAA2B,CAAA;IAC3B,kCAAqB,CAAA;IACrB,8BAAiB,CAAA;IACjB,wCAA2B,CAAA;IAC3B,oCAAuB,CAAA;IACvB,sCAAyB,CAAA;AAC1B,CAAC,EAVW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAUpB;AAwBD,MAAa,MAAM;IAKlB,YAAY,OAAsB;QACjC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,SAAS,CAAC,MAAS;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;CACD;AAbD,wBAaC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js
index afbb416..3bc5cb0 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js
@@ -58,6 +58,15 @@ class ActionEventBus {
         else if (event.type === 'wheel') {
             return this.getActionsForType(Action_1.InputType.MOUSE_WHEEL);
         }
+        else if (event.type === 'touchstart') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_START);
+        }
+        else if (event.type === 'touchend') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_END);
+        }
+        else if (event.type === 'touchmove') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_MOVE);
+        }
         return [];
     }
     fireAction(actionEvent) {
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js.map b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js.map
index 035d648..b07bedf 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-actions/ActionEventBus.js.map
@@ -1 +1 @@
-{"version":3,"file":"ActionEventBus.js","sourceRoot":"","sources":["../../src/core-actions/ActionEventBus.ts"],"names":[],"mappings":";;;AAAA,qCAA0D;AAE1D,4BAA4B;AAI5B,MAAa,cAAc;IAK1B,YAAY,MAAoB;QAC/B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IAChB,CAAC;IAED,OAAO;QACN,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,cAAc,CAAC,MAAc;QAC5B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;QACjC,OAAO,GAAG,EAAE;YACX,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,MAAc;QAC9B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,iBAAiB,CAAC,IAAe;QAChC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE,EAAE;YACxC,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,WAAoC;QACpD,IAAI,WAAW,CAAC,KAAK,EAAE;YACtB,OAAO,WAAW,CAAC,KAAK,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;IAED,kBAAkB,CAAC,WAAwB;QAC1C,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;QAC9B,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;YAC/B,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,UAAU,CAAC,CAAC;SACpD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;YACpC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,QAAQ,CAAC,CAAC;SAClD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;YACpC,yBAAyB;YACzB,IAAI,CAAC,IAAI,CAAE,KAAuB,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,IAAI,CAAC;YAC7D,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,QAAQ,CAAC,CAAC;SAClD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;YAClC,0BAA0B;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAE,KAAuB,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YAC7D,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,MAAM,CAAC,CAAC;SAChD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;YACtC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,UAAU,CAAC,CAAC;SACpD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;YAClC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,WAAW,CAAC,CAAC;SACrD;QACD,OAAO,EAAE,CAAC;IACX,CAAC;IAED,UAAU,CAAC,WAAwB;QAClC,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;QACrD,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE;YAC3B,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAkB,CAAC,CAAC;SACxC;IACF,CAAC;CACD;AArED,wCAqEC"}
\ No newline at end of file
+{"version":3,"file":"ActionEventBus.js","sourceRoot":"","sources":["../../src/core-actions/ActionEventBus.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js b/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js
index 7c255bd..92efb0d 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js
@@ -42,6 +42,38 @@ class AbstractDisplacementState extends State_1.State {
                 this.eject();
             }
         }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_START,
+            fire: (actionEvent) => {
+                const touch = actionEvent.event.touches[0];
+                this.initialX = touch.clientX;
+                this.initialY = touch.clientY;
+                const rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+                this.initialXRelative = rel.x;
+                this.initialYRelative = rel.y;
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_MOVE,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                const touch = event.touches[0];
+                this.fireMouseMoved({
+                    displacementX: touch.clientX - this.initialX,
+                    displacementY: touch.clientY - this.initialY,
+                    virtualDisplacementX: (touch.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    virtualDisplacementY: (touch.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    event: event
+                });
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_END,
+            fire: (event) => {
+                // when the mouse if up, we eject this state
+                this.eject();
+            }
+        }));
     }
 }
 exports.AbstractDisplacementState = AbstractDisplacementState;
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js.map
index 1dcd88f..669a396 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/core-state/AbstractDisplacementState.js.map
@@ -1 +1 @@
-{"version":3,"file":"AbstractDisplacementState.js","sourceRoot":"","sources":["../../src/core-state/AbstractDisplacementState.ts"],"names":[],"mappings":";;;AAAA,mCAA8C;AAC9C,mDAAwE;AAWxE,MAAsB,yBAAiE,SAAQ,aAAQ;IAMtG,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/F,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;gBAE9B,IAAI,KAAK,CAAC,OAAO,KAAK,CAAC,EAAE;oBACxB,iFAAiF;oBACjF,iDAAiD;oBACjD,IAAI,CAAC,KAAK,EAAE,CAAC;oBAEb,OAAO;iBACP;gBAED,IAAI,CAAC,cAAc,CAAC;oBACnB,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,KAAK,EAAE,KAAK;iBACZ,CAAC,CAAC;YACJ,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,QAAQ;YACxB,IAAI,EAAE,CAAC,KAAoC,EAAE,EAAE;gBAC9C,4CAA4C;gBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CAGD;AAxDD,8DAwDC"}
\ No newline at end of file
+{"version":3,"file":"AbstractDisplacementState.js","sourceRoot":"","sources":["../../src/core-state/AbstractDisplacementState.ts"],"names":[],"mappings":";;;AAAA,mCAA8C;AAC9C,mDAAwE;AAWxE,MAAsB,yBAAiE,SAAQ,aAAQ;IAMtG,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/F,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;gBAE9B,IAAI,KAAK,CAAC,OAAO,KAAK,CAAC,EAAE;oBACxB,iFAAiF;oBACjF,iDAAiD;oBACjD,IAAI,CAAC,KAAK,EAAE,CAAC;oBAEb,OAAO;iBACP;gBAED,IAAI,CAAC,cAAc,CAAC;oBACnB,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,KAAK,EAAE,KAAK;iBACZ,CAAC,CAAC;YACJ,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,QAAQ;YACxB,IAAI,EAAE,CAAC,KAAoC,EAAE,EAAE;gBAC9C,4CAA4C;gBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;SACD,CAAC,CACF,CAAC;QAEF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,WAAW;YAC3B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,MAAM,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC3C,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC;gBAC9B,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC;gBAC9B,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;gBACvE,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;gBAC9B,MAAM,KAAK,GAAG,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;gBAC/B,IAAI,CAAC,cAAc,CAAC;oBACnB,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,KAAK,EAAE,KAAK;iBACZ,CAAC,CAAC;YACJ,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,SAAS;YACzB,IAAI,EAAE,CAAC,KAAoC,EAAE,EAAE;gBAC9C,4CAA4C;gBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CAGD;AA/FD,8DA+FC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js
index 55877ac..092c5eb 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js
@@ -64,6 +64,12 @@ class CanvasWidget extends React.Component {
                 this.props.engine.getActionEventBus().fireAction({ event });
             }, onMouseMove: (event) => {
                 this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchStart: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchEnd: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchMove: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
             } }, model.getLayers().map((layer) => {
             return (React.createElement(TransformLayerWidget_1.TransformLayerWidget, { layer: layer, key: layer.getID() },
                 React.createElement(SmartLayerWidget_1.SmartLayerWidget, { layer: layer, engine: this.props.engine, key: layer.getID() })));
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js.map
index ea9d7be..3bafbae 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/entities/canvas/CanvasWidget.js.map
@@ -1 +1 @@
-{"version":3,"file":"CanvasWidget.js","sourceRoot":"","sources":["../../../src/entities/canvas/CanvasWidget.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"CanvasWidget.js","sourceRoot":"","sources":["../../../src/entities/canvas/CanvasWidget.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js
index 7c10eb7..1ee3276 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js
@@ -14,6 +14,8 @@ var S;
 class SelectionBoxWidget extends React.Component {
     render() {
         const { rect } = this.props;
+        if (!rect)
+            return null;
         return (React.createElement(S.Container, { style: {
                 top: rect.top,
                 left: rect.left,
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js.map
index ecbc698..bee45b8 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/entities/selection/SelectionBoxWidget.js.map
@@ -1 +1 @@
-{"version":3,"file":"SelectionBoxWidget.js","sourceRoot":"","sources":["../../../src/entities/selection/SelectionBoxWidget.tsx"],"names":[],"mappings":";;;AAAA,+BAA+B;AAC/B,4CAAqC;AAMrC,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;IACG,WAAS,GAAG,gBAAM,CAAC,GAAG,CAAA;;;;EAIlC,CAAC;AACH,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;AAED,MAAa,kBAAmB,SAAQ,KAAK,CAAC,SAAkC;IAC/E,MAAM;QACL,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,OAAO,CACN,oBAAC,CAAC,CAAC,SAAS,IACX,KAAK,EAAE;gBACN,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;aACnB,GACA,CACF,CAAC;IACH,CAAC;CACD;AAdD,gDAcC"}
\ No newline at end of file
+{"version":3,"file":"SelectionBoxWidget.js","sourceRoot":"","sources":["../../../src/entities/selection/SelectionBoxWidget.tsx"],"names":[],"mappings":";;;AAAA,+BAA+B;AAC/B,4CAAqC;AAMrC,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;IACG,WAAS,GAAG,gBAAM,CAAC,GAAG,CAAA;;;;EAIlC,CAAC;AACH,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;AAED,MAAa,kBAAmB,SAAQ,KAAK,CAAC,SAAkC;IAC/E,MAAM;QACL,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAE5B,IAAI,CAAC,IAAI;YAAE,OAAO;QAElB,OAAO,CACN,oBAAC,CAAC,CAAC,SAAS,IACX,KAAK,EAAE;gBACN,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;aACnB,GACA,CACF,CAAC;IACH,CAAC;CACD;AAjBD,gDAiBC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js b/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js
new file mode 100644
index 0000000..5cbd635
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js
@@ -0,0 +1,128 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const lodash_1 = require("lodash");
+const FactoryBank_1 = require("./core/FactoryBank");
+const BaseObserver_1 = require("./core/BaseObserver");
+const geometry_1 = require("@projectstorm/geometry");
+const ActionEventBus_1 = require("./core-actions/ActionEventBus");
+const ZoomCanvasAction_1 = require("./actions/ZoomCanvasAction");
+const DeleteItemsAction_1 = require("./actions/DeleteItemsAction");
+const StateMachine_1 = require("./core-state/StateMachine");
+class CanvasEngine extends BaseObserver_1.BaseObserver {
+    constructor(options = {}) {
+        super();
+        this.model = null;
+        this.eventBus = new ActionEventBus_1.ActionEventBus(this);
+        this.stateMachine = new StateMachine_1.StateMachine(this);
+        this.layerFactories = new FactoryBank_1.FactoryBank();
+        this.registerFactoryBank(this.layerFactories);
+        /**
+         * Overrides the standard options with the possible given options
+         */
+        this.options = Object.assign({ registerDefaultDeleteItemsAction: true, registerDefaultZoomCanvasAction: true, repaintDebounceMs: 0 }, options);
+        if (this.options.registerDefaultZoomCanvasAction === true) {
+            this.eventBus.registerAction(new ZoomCanvasAction_1.ZoomCanvasAction());
+        }
+        if (this.options.registerDefaultDeleteItemsAction === true) {
+            this.eventBus.registerAction(new DeleteItemsAction_1.DeleteItemsAction());
+        }
+    }
+    getStateMachine() {
+        return this.stateMachine;
+    }
+    getRelativeMousePoint(event) {
+        const point = this.getRelativePoint(event.clientX, event.clientY);
+        return new geometry_1.Point((point.x - this.model.getOffsetX()) / (this.model.getZoomLevel() / 100.0), (point.y - this.model.getOffsetY()) / (this.model.getZoomLevel() / 100.0));
+    }
+    getRelativePoint(x, y) {
+        const canvasRect = this.canvas.getBoundingClientRect();
+        return new geometry_1.Point(x - canvasRect.left, y - canvasRect.top);
+    }
+    registerFactoryBank(factory) {
+        factory.registerListener({
+            factoryAdded: event => {
+                event.factory.setDiagramEngine(this);
+            },
+            factoryRemoved: event => {
+                event.factory.setDiagramEngine(null);
+            }
+        });
+    }
+    getActionEventBus() {
+        return this.eventBus;
+    }
+    getLayerFactories() {
+        return this.layerFactories;
+    }
+    getFactoryForLayer(layer) {
+        if (typeof layer === 'string') {
+            return this.layerFactories.getFactory(layer);
+        }
+        return this.layerFactories.getFactory(layer.getType());
+    }
+    setModel(model) {
+        this.model = model;
+        if (this.canvas) {
+            requestAnimationFrame(() => {
+                this.repaintCanvas();
+            });
+        }
+    }
+    getModel() {
+        return this.model;
+    }
+    repaintCanvas(promise) {
+        const { repaintDebounceMs } = this.options;
+        /**
+         * The actual repaint function
+         */
+        const repaint = () => {
+            this.iterateListeners(listener => {
+                if (listener.repaintCanvas) {
+                    listener.repaintCanvas();
+                }
+            });
+        };
+        // if the `repaintDebounceMs` option is > 0, then apply the debounce
+        let repaintFn = repaint;
+        if (repaintDebounceMs > 0) {
+            repaintFn = lodash_1.debounce(repaint, repaintDebounceMs);
+        }
+        if (promise) {
+            return new Promise(resolve => {
+                const l = this.registerListener({
+                    rendered: () => {
+                        resolve();
+                        l.deregister();
+                    }
+                });
+                repaintFn();
+            });
+        }
+        repaintFn();
+    }
+    setCanvas(canvas) {
+        if (this.canvas !== canvas) {
+            this.canvas = canvas;
+            if (canvas) {
+                this.fireEvent({}, 'canvasReady');
+            }
+        }
+    }
+    getCanvas() {
+        return this.canvas;
+    }
+    getMouseElement(event) {
+        return null;
+    }
+    zoomToFit() {
+        const xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;
+        const yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;
+        const zoomFactor = xFactor < yFactor ? xFactor : yFactor;
+        this.model.setZoomLevel(this.model.getZoomLevel() * zoomFactor);
+        this.model.setOffset(0, 0);
+        this.repaintCanvas();
+    }
+}
+exports.CanvasEngine = CanvasEngine;
+//# sourceMappingURL=CanvasEngine.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js.map
new file mode 100644
index 0000000..f30ecf6
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/CanvasEngine.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"CanvasEngine.js","sourceRoot":"","sources":["../../src/CanvasEngine.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js b/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js
new file mode 100644
index 0000000..2b0c836
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js
@@ -0,0 +1,33 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const closest = require("closest");
+class Toolkit {
+    /**
+     * Generats a unique ID (thanks Stack overflow :3)
+     * @returns {String}
+     */
+    static UID() {
+        if (Toolkit.TESTING) {
+            Toolkit.TESTING_UID++;
+            return `${Toolkit.TESTING_UID}`;
+        }
+        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, c => {
+            const r = (Math.random() * 16) | 0;
+            const v = c === 'x' ? r : (r & 0x3) | 0x8;
+            return v.toString(16);
+        });
+    }
+    /**
+     * Finds the closest element as a polyfill
+     */
+    static closest(element, selector) {
+        if (document.body.closest) {
+            return element.closest(selector);
+        }
+        return closest(element, selector);
+    }
+}
+Toolkit.TESTING = false;
+Toolkit.TESTING_UID = 0;
+exports.Toolkit = Toolkit;
+//# sourceMappingURL=Toolkit.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js.map
new file mode 100644
index 0000000..837c711
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/Toolkit.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"Toolkit.js","sourceRoot":"","sources":["../../src/Toolkit.ts"],"names":[],"mappings":";;AAAA,mCAAmC;AAEnC,MAAa,OAAO;IAInB;;;OAGG;IACI,MAAM,CAAC,GAAG;QAChB,IAAI,OAAO,CAAC,OAAO,EAAE;YACpB,OAAO,CAAC,WAAW,EAAE,CAAC;YACtB,OAAO,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;SAChC;QACD,OAAO,sCAAsC,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE;YAClE,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC;YACnC,MAAM,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;YAC1C,OAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;QACvB,CAAC,CAAC,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,OAAO,CAAC,OAAgB,EAAE,QAAgB;QACvD,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,EAAE;YAC1B,OAAO,OAAO,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;SACjC;QACD,OAAO,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;IACnC,CAAC;;AA3BM,eAAO,GAAY,KAAK,CAAC;AACzB,mBAAW,GAAG,CAAC,CAAC;AAFxB,0BA6BC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js
new file mode 100644
index 0000000..94ede59
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js
@@ -0,0 +1,30 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Action_1 = require("../core-actions/Action");
+const _ = require("lodash");
+/**
+ * Deletes all selected items
+ */
+class DeleteItemsAction extends Action_1.Action {
+    constructor(options = {}) {
+        const keyCodes = options.keyCodes || [46, 8];
+        const modifiers = Object.assign({ ctrlKey: false, shiftKey: false, altKey: false, metaKey: false }, options.modifiers);
+        super({
+            type: Action_1.InputType.KEY_DOWN,
+            fire: (event) => {
+                const { keyCode, ctrlKey, shiftKey, altKey, metaKey } = event.event;
+                if (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({ ctrlKey, shiftKey, altKey, metaKey }, modifiers)) {
+                    _.forEach(this.engine.getModel().getSelectedEntities(), model => {
+                        // only delete items which are not locked
+                        if (!model.isLocked()) {
+                            model.remove();
+                        }
+                    });
+                    this.engine.repaintCanvas();
+                }
+            }
+        });
+    }
+}
+exports.DeleteItemsAction = DeleteItemsAction;
+//# sourceMappingURL=DeleteItemsAction.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js.map
new file mode 100644
index 0000000..ce01e3a
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/DeleteItemsAction.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"DeleteItemsAction.js","sourceRoot":"","sources":["../../../src/actions/DeleteItemsAction.ts"],"names":[],"mappings":";;AAAA,mDAAwE;AAExE,4BAA4B;AAY5B;;GAEG;AACH,MAAa,iBAAkB,SAAQ,eAAM;IAC5C,YAAY,UAAoC,EAAE;QACjD,MAAM,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;QAC7C,MAAM,SAAS,mBACd,OAAO,EAAE,KAAK,EACd,QAAQ,EAAE,KAAK,EACf,MAAM,EAAE,KAAK,EACb,OAAO,EAAE,KAAK,IACX,OAAO,CAAC,SAAS,CACpB,CAAC;QAEF,KAAK,CAAC;YACL,IAAI,EAAE,kBAAS,CAAC,QAAQ;YACxB,IAAI,EAAE,CAAC,KAAiC,EAAE,EAAE;gBAC3C,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,KAAK,CAAC;gBAEpE,IAAI,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,SAAS,CAAC,EAAE;oBACrG,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,mBAAmB,EAAE,EAAE,KAAK,CAAC,EAAE;wBAC/D,yCAAyC;wBACzC,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE;4BACtB,KAAK,CAAC,MAAM,EAAE,CAAC;yBACf;oBACF,CAAC,CAAC,CAAC;oBACH,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;iBAC5B;YACF,CAAC;SACD,CAAC,CAAC;IACJ,CAAC;CACD;AA5BD,8CA4BC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js
new file mode 100644
index 0000000..417400c
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js
@@ -0,0 +1,57 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Action_1 = require("../core-actions/Action");
+class ZoomCanvasAction extends Action_1.Action {
+    constructor(options = {}) {
+        super({
+            type: Action_1.InputType.MOUSE_WHEEL,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                // we can block layer rendering because we are only targeting the transforms
+                for (let layer of this.engine.getModel().getLayers()) {
+                    layer.allowRepaint(false);
+                }
+                const model = this.engine.getModel();
+                event.stopPropagation();
+                const oldZoomFactor = this.engine.getModel().getZoomLevel() / 100;
+                let scrollDelta = options.inverseZoom ? -event.deltaY : event.deltaY;
+                //check if it is pinch gesture
+                if (event.ctrlKey && scrollDelta % 1 !== 0) {
+                    /*
+                        Chrome and Firefox sends wheel event with deltaY that
+                        have fractional part, also `ctrlKey` prop of the event is true
+                        though ctrl isn't pressed
+                    */
+                    scrollDelta /= 3;
+                }
+                else {
+                    scrollDelta /= 60;
+                }
+                if (model.getZoomLevel() + scrollDelta > 10) {
+                    model.setZoomLevel(model.getZoomLevel() + scrollDelta);
+                }
+                const zoomFactor = model.getZoomLevel() / 100;
+                const boundingRect = event.currentTarget.getBoundingClientRect();
+                const clientWidth = boundingRect.width;
+                const clientHeight = boundingRect.height;
+                // compute difference between rect before and after scroll
+                const widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;
+                const heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;
+                // compute mouse coords relative to canvas
+                const clientX = event.clientX - boundingRect.left;
+                const clientY = event.clientY - boundingRect.top;
+                // compute width and height increment factor
+                const xFactor = (clientX - model.getOffsetX()) / oldZoomFactor / clientWidth;
+                const yFactor = (clientY - model.getOffsetY()) / oldZoomFactor / clientHeight;
+                model.setOffset(model.getOffsetX() - widthDiff * xFactor, model.getOffsetY() - heightDiff * yFactor);
+                this.engine.repaintCanvas();
+                // re-enable rendering
+                for (let layer of this.engine.getModel().getLayers()) {
+                    layer.allowRepaint(true);
+                }
+            }
+        });
+    }
+}
+exports.ZoomCanvasAction = ZoomCanvasAction;
+//# sourceMappingURL=ZoomCanvasAction.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js.map
new file mode 100644
index 0000000..f68a56c
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/actions/ZoomCanvasAction.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"ZoomCanvasAction.js","sourceRoot":"","sources":["../../../src/actions/ZoomCanvasAction.ts"],"names":[],"mappings":";;AACA,mDAAwE;AAMxE,MAAa,gBAAiB,SAAQ,eAAM;IAC3C,YAAY,UAAmC,EAAE;QAChD,KAAK,CAAC;YACL,IAAI,EAAE,kBAAS,CAAC,WAAW;YAC3B,IAAI,EAAE,CAAC,WAAoC,EAAE,EAAE;gBAC9C,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;gBAC9B,4EAA4E;gBAC5E,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;oBACrD,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;iBAC1B;gBAED,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;gBACrC,KAAK,CAAC,eAAe,EAAE,CAAC;gBACxB,MAAM,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,GAAG,CAAC;gBAClE,IAAI,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC;gBACrE,8BAA8B;gBAC9B,IAAI,KAAK,CAAC,OAAO,IAAI,WAAW,GAAG,CAAC,KAAK,CAAC,EAAE;oBAC3C;;;;sBAIE;oBACF,WAAW,IAAI,CAAC,CAAC;iBACjB;qBAAM;oBACN,WAAW,IAAI,EAAE,CAAC;iBAClB;gBACD,IAAI,KAAK,CAAC,YAAY,EAAE,GAAG,WAAW,GAAG,EAAE,EAAE;oBAC5C,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,YAAY,EAAE,GAAG,WAAW,CAAC,CAAC;iBACvD;gBAED,MAAM,UAAU,GAAG,KAAK,CAAC,YAAY,EAAE,GAAG,GAAG,CAAC;gBAE9C,MAAM,YAAY,GAAG,KAAK,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;gBACjE,MAAM,WAAW,GAAG,YAAY,CAAC,KAAK,CAAC;gBACvC,MAAM,YAAY,GAAG,YAAY,CAAC,MAAM,CAAC;gBACzC,0DAA0D;gBAC1D,MAAM,SAAS,GAAG,WAAW,GAAG,UAAU,GAAG,WAAW,GAAG,aAAa,CAAC;gBACzE,MAAM,UAAU,GAAG,YAAY,GAAG,UAAU,GAAG,YAAY,GAAG,aAAa,CAAC;gBAC5E,0CAA0C;gBAC1C,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC;gBAClD,MAAM,OAAO,GAAG,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC,GAAG,CAAC;gBAEjD,4CAA4C;gBAC5C,MAAM,OAAO,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,GAAG,aAAa,GAAG,WAAW,CAAC;gBAC7E,MAAM,OAAO,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,UAAU,EAAE,CAAC,GAAG,aAAa,GAAG,YAAY,CAAC;gBAE9E,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,GAAG,SAAS,GAAG,OAAO,EAAE,KAAK,CAAC,UAAU,EAAE,GAAG,UAAU,GAAG,OAAO,CAAC,CAAC;gBACrG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;gBAE5B,sBAAsB;gBACtB,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;oBACrD,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;iBACzB;YACF,CAAC;SACD,CAAC,CAAC;IACJ,CAAC;CACD;AAxDD,4CAwDC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js
new file mode 100644
index 0000000..071e023
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js
@@ -0,0 +1,23 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Toolkit_1 = require("../Toolkit");
+var InputType;
+(function (InputType) {
+    InputType["MOUSE_DOWN"] = "mouse-down";
+    InputType["MOUSE_UP"] = "mouse-up";
+    InputType["MOUSE_MOVE"] = "mouse-move";
+    InputType["MOUSE_WHEEL"] = "mouse-wheel";
+    InputType["KEY_DOWN"] = "key-down";
+    InputType["KEY_UP"] = "key-up";
+})(InputType = exports.InputType || (exports.InputType = {}));
+class Action {
+    constructor(options) {
+        this.options = options;
+        this.id = Toolkit_1.Toolkit.UID();
+    }
+    setEngine(engine) {
+        this.engine = engine;
+    }
+}
+exports.Action = Action;
+//# sourceMappingURL=Action.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js.map
new file mode 100644
index 0000000..17eac8e
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/Action.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"Action.js","sourceRoot":"","sources":["../../../src/core-actions/Action.ts"],"names":[],"mappings":";;AACA,wCAAqC;AAIrC,IAAY,SAOX;AAPD,WAAY,SAAS;IACpB,sCAAyB,CAAA;IACzB,kCAAqB,CAAA;IACrB,sCAAyB,CAAA;IACzB,wCAA2B,CAAA;IAC3B,kCAAqB,CAAA;IACrB,8BAAiB,CAAA;AAClB,CAAC,EAPW,SAAS,GAAT,iBAAS,KAAT,iBAAS,QAOpB;AAqBD,MAAa,MAAM;IAKlB,YAAY,OAAsB;QACjC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;QACvB,IAAI,CAAC,EAAE,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;IACzB,CAAC;IAED,SAAS,CAAC,MAAS;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;CACD;AAbD,wBAaC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js
new file mode 100644
index 0000000..9edc24e
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js
@@ -0,0 +1,70 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Action_1 = require("./Action");
+const _ = require("lodash");
+class ActionEventBus {
+    constructor(engine) {
+        this.actions = {};
+        this.engine = engine;
+        this.keys = {};
+    }
+    getKeys() {
+        return _.keys(this.keys);
+    }
+    registerAction(action) {
+        action.setEngine(this.engine);
+        this.actions[action.id] = action;
+        return () => {
+            this.deregisterAction(action);
+        };
+    }
+    deregisterAction(action) {
+        action.setEngine(null);
+        delete this.actions[action.id];
+    }
+    getActionsForType(type) {
+        return _.filter(this.actions, action => {
+            return action.options.type === type;
+        });
+    }
+    getModelForEvent(actionEvent) {
+        if (actionEvent.model) {
+            return actionEvent.model;
+        }
+        return this.engine.getMouseElement(actionEvent.event);
+    }
+    getActionsForEvent(actionEvent) {
+        const { event } = actionEvent;
+        if (event.type === 'mousedown') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_DOWN);
+        }
+        else if (event.type === 'mouseup') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_UP);
+        }
+        else if (event.type === 'keydown') {
+            // store the recorded key
+            this.keys[event.key.toLowerCase()] = true;
+            return this.getActionsForType(Action_1.InputType.KEY_DOWN);
+        }
+        else if (event.type === 'keyup') {
+            // delete the recorded key
+            delete this.keys[event.key.toLowerCase()];
+            return this.getActionsForType(Action_1.InputType.KEY_UP);
+        }
+        else if (event.type === 'mousemove') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_MOVE);
+        }
+        else if (event.type === 'wheel') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_WHEEL);
+        }
+        return [];
+    }
+    fireAction(actionEvent) {
+        const actions = this.getActionsForEvent(actionEvent);
+        for (let action of actions) {
+            action.options.fire(actionEvent);
+        }
+    }
+}
+exports.ActionEventBus = ActionEventBus;
+//# sourceMappingURL=ActionEventBus.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js.map
new file mode 100644
index 0000000..e4f038d
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-actions/ActionEventBus.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"ActionEventBus.js","sourceRoot":"","sources":["../../../src/core-actions/ActionEventBus.ts"],"names":[],"mappings":";;AAAA,qCAA0D;AAE1D,4BAA4B;AAI5B,MAAa,cAAc;IAK1B,YAAY,MAAoB;QAC/B,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IAChB,CAAC;IAED,OAAO;QACN,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,cAAc,CAAC,MAAc;QAC5B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC;QACjC,OAAO,GAAG,EAAE;YACX,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC;QAC/B,CAAC,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,MAAc;QAC9B,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACvB,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IAChC,CAAC;IAED,iBAAiB,CAAC,IAAe;QAChC,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE;YACtC,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,gBAAgB,CAAC,WAAoC;QACpD,IAAI,WAAW,CAAC,KAAK,EAAE;YACtB,OAAO,WAAW,CAAC,KAAK,CAAC;SACzB;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;IACvD,CAAC;IAED,kBAAkB,CAAC,WAAwB;QAC1C,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;QAC9B,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;YAC/B,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,UAAU,CAAC,CAAC;SACpD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;YACpC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,QAAQ,CAAC,CAAC;SAClD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,SAAS,EAAE;YACpC,yBAAyB;YACzB,IAAI,CAAC,IAAI,CAAE,KAAuB,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,IAAI,CAAC;YAC7D,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,QAAQ,CAAC,CAAC;SAClD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;YAClC,0BAA0B;YAC1B,OAAO,IAAI,CAAC,IAAI,CAAE,KAAuB,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,CAAC;YAC7D,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,MAAM,CAAC,CAAC;SAChD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;YACtC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,UAAU,CAAC,CAAC;SACpD;aAAM,IAAI,KAAK,CAAC,IAAI,KAAK,OAAO,EAAE;YAClC,OAAO,IAAI,CAAC,iBAAiB,CAAC,kBAAS,CAAC,WAAW,CAAC,CAAC;SACrD;QACD,OAAO,EAAE,CAAC;IACX,CAAC;IAED,UAAU,CAAC,WAAwB;QAClC,MAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;QACrD,KAAK,IAAI,MAAM,IAAI,OAAO,EAAE;YAC3B,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,WAAkB,CAAC,CAAC;SACxC;IACF,CAAC;CACD;AArED,wCAqEC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js
new file mode 100644
index 0000000..eac60d5
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js
@@ -0,0 +1,59 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Toolkit_1 = require("../Toolkit");
+const _ = require("lodash");
+const BaseObserver_1 = require("../core/BaseObserver");
+class BaseEntity extends BaseObserver_1.BaseObserver {
+    constructor(options = {}) {
+        super();
+        this.options = Object.assign({ id: Toolkit_1.Toolkit.UID() }, options);
+    }
+    getOptions() {
+        return this.options;
+    }
+    getID() {
+        return this.options.id;
+    }
+    doClone(lookupTable = {}, clone) {
+        /*noop*/
+    }
+    clone(lookupTable = {}) {
+        // try and use an existing clone first
+        if (lookupTable[this.options.id]) {
+            return lookupTable[this.options.id];
+        }
+        let clone = _.cloneDeep(this);
+        clone.options = Object.assign({}, this.options, { id: Toolkit_1.Toolkit.UID() });
+        clone.clearListeners();
+        lookupTable[this.options.id] = clone;
+        this.doClone(lookupTable, clone);
+        return clone;
+    }
+    clearListeners() {
+        this.listeners = {};
+    }
+    deserialize(event) {
+        this.options.id = event.data.id;
+        this.options.locked = event.data.locked;
+    }
+    serialize() {
+        return {
+            id: this.options.id,
+            locked: this.options.locked
+        };
+    }
+    fireEvent(event, k) {
+        super.fireEvent(Object.assign({ entity: this }, event), k);
+    }
+    isLocked() {
+        return this.options.locked;
+    }
+    setLocked(locked = true) {
+        this.options.locked = locked;
+        this.fireEvent({
+            locked: locked
+        }, 'lockChanged');
+    }
+}
+exports.BaseEntity = BaseEntity;
+//# sourceMappingURL=BaseEntity.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js.map
new file mode 100644
index 0000000..8032334
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseEntity.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"BaseEntity.js","sourceRoot":"","sources":["../../../src/core-models/BaseEntity.ts"],"names":[],"mappings":";;AAAA,wCAAqC;AACrC,4BAA4B;AAE5B,uDAA6E;AA+B7E,MAAa,UAA8D,SAAQ,2BAA2B;IAG7G,YAAY,UAAwB,EAAE;QACrC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,OAAO,mBACX,EAAE,EAAE,iBAAO,CAAC,GAAG,EAAE,IACd,OAAO,CACV,CAAC;IACH,CAAC;IAED,UAAU;QACT,OAAO,IAAI,CAAC,OAAO,CAAC;IACrB,CAAC;IAED,KAAK;QACJ,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;IACxB,CAAC;IAED,OAAO,CAAC,cAAoC,EAAE,EAAE,KAAU;QACzD,QAAQ;IACT,CAAC;IAED,KAAK,CAAC,cAAoC,EAAE;QAC3C,sCAAsC;QACtC,IAAI,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;YACjC,OAAO,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;SACpC;QACD,IAAI,KAAK,GAAG,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC9B,KAAK,CAAC,OAAO,qBACT,IAAI,CAAC,OAAO,IACf,EAAE,EAAE,iBAAO,CAAC,GAAG,EAAE,GACjB,CAAC;QACF,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC;QAErC,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;QACjC,OAAO,KAAK,CAAC;IACd,CAAC;IAED,cAAc;QACb,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,WAAW,CAAC,KAA6B;QACxC,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC;QAChC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;IACzC,CAAC;IAED,SAAS;QACR,OAAO;YACN,EAAE,EAAE,IAAI,CAAC,OAAO,CAAC,EAAE;YACnB,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM;SAC3B,CAAC;IACH,CAAC;IAED,SAAS,CAA8C,KAAQ,EAAE,CAAsB;QACtF,KAAK,CAAC,SAAS,iBAEb,MAAM,EAAE,IAAI,IACT,KAAK,GAET,CAAC,CACD,CAAC;IACH,CAAC;IAEM,QAAQ;QACd,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IAC5B,CAAC;IAEM,SAAS,CAAC,SAAkB,IAAI;QACtC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,SAAS,CACb;YACC,MAAM,EAAE,MAAM;SACd,EACD,aAAa,CACb,CAAC;IACH,CAAC;CACD;AA/ED,gCA+EC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js
new file mode 100644
index 0000000..d283875
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js
@@ -0,0 +1,71 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const BaseEntity_1 = require("./BaseEntity");
+const CanvasModel_1 = require("../entities/canvas/CanvasModel");
+class BaseModel extends BaseEntity_1.BaseEntity {
+    constructor(options) {
+        super(options);
+    }
+    performanceTune() {
+        return true;
+    }
+    getParentCanvasModel() {
+        if (!this.parent) {
+            return null;
+        }
+        if (this.parent instanceof CanvasModel_1.CanvasModel) {
+            return this.parent;
+        }
+        else if (this.parent instanceof BaseModel) {
+            return this.parent.getParentCanvasModel();
+        }
+        return null;
+    }
+    getParent() {
+        return this.parent;
+    }
+    setParent(parent) {
+        this.parent = parent;
+    }
+    getSelectionEntities() {
+        return [this];
+    }
+    serialize() {
+        return Object.assign({}, super.serialize(), { type: this.options.type, selected: this.options.selected, extras: this.options.extras });
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.extras = event.data.extras;
+        this.options.selected = event.data.selected;
+    }
+    getType() {
+        return this.options.type;
+    }
+    isSelected() {
+        return this.options.selected;
+    }
+    isLocked() {
+        const locked = super.isLocked();
+        if (locked) {
+            return true;
+        }
+        // delegate this call up to the parent
+        if (this.parent) {
+            return this.parent.isLocked();
+        }
+        return false;
+    }
+    setSelected(selected = true) {
+        if (this.options.selected !== selected) {
+            this.options.selected = selected;
+            this.fireEvent({
+                isSelected: selected
+            }, 'selectionChanged');
+        }
+    }
+    remove() {
+        this.fireEvent({}, 'entityRemoved');
+    }
+}
+exports.BaseModel = BaseModel;
+//# sourceMappingURL=BaseModel.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js.map
new file mode 100644
index 0000000..b918b42
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BaseModel.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"BaseModel.js","sourceRoot":"","sources":["../../../src/core-models/BaseModel.ts"],"names":[],"mappings":";;AAAA,6CAOsB;AACtB,gEAA6D;AAoB7D,MAAa,SAA2D,SAAQ,uBAAa;IAG5F,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;IAChB,CAAC;IAED,eAAe;QACd,OAAO,IAAI,CAAC;IACb,CAAC;IAED,oBAAoB;QACnB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;YACjB,OAAO,IAAI,CAAC;SACZ;QACD,IAAI,IAAI,CAAC,MAAM,YAAY,yBAAW,EAAE;YACvC,OAAO,IAAI,CAAC,MAAM,CAAC;SACnB;aAAM,IAAI,IAAI,CAAC,MAAM,YAAY,SAAS,EAAE;YAC5C,OAAO,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC;IACb,CAAC;IAED,SAAS;QACR,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAED,SAAS,CAAC,MAAmB;QAC5B,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;IAED,oBAAoB;QACnB,OAAO,CAAC,IAAI,CAAC,CAAC;IACf,CAAC;IAED,SAAS;QACR,yBACI,KAAK,CAAC,SAAS,EAAE,IACpB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EACvB,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,EAC/B,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,IAC1B;IACH,CAAC;IAED,WAAW,CAAC,KAA6B;QACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC7C,CAAC;IAED,OAAO;QACN,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;IAC1B,CAAC;IAED,UAAU;QACT,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC;IAC9B,CAAC;IAED,QAAQ;QACP,MAAM,MAAM,GAAG,KAAK,CAAC,QAAQ,EAAE,CAAC;QAChC,IAAI,MAAM,EAAE;YACX,OAAO,IAAI,CAAC;SACZ;QAED,sCAAsC;QACtC,IAAI,IAAI,CAAC,MAAM,EAAE;YAChB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;SAC9B;QACD,OAAO,KAAK,CAAC;IACd,CAAC;IAED,WAAW,CAAC,WAAoB,IAAI;QACnC,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,KAAK,QAAQ,EAAE;YACvC,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEjC,IAAI,CAAC,SAAS,CACb;gBACC,UAAU,EAAE,QAAQ;aACpB,EACD,kBAAkB,CAClB,CAAC;SACF;IACF,CAAC;IAED,MAAM;QACL,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,eAAe,CAAC,CAAC;IACrC,CAAC;CACD;AAvFD,8BAuFC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js
new file mode 100644
index 0000000..2c9d789
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js
@@ -0,0 +1,40 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const BaseModel_1 = require("./BaseModel");
+const geometry_1 = require("@projectstorm/geometry");
+class BasePositionModel extends BaseModel_1.BaseModel {
+    constructor(options) {
+        super(options);
+        this.position = options.position || new geometry_1.Point(0, 0);
+    }
+    setPosition(x, y) {
+        if (typeof x === 'object') {
+            this.position = x;
+        }
+        else if (typeof x) {
+            this.position = new geometry_1.Point(x, y);
+        }
+        this.fireEvent({}, 'positionChanged');
+    }
+    getBoundingBox() {
+        return new geometry_1.Rectangle(this.position, 0, 0);
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.position = new geometry_1.Point(event.data.x, event.data.y);
+    }
+    serialize() {
+        return Object.assign({}, super.serialize(), { x: this.position.x, y: this.position.y });
+    }
+    getPosition() {
+        return this.position;
+    }
+    getX() {
+        return this.position.x;
+    }
+    getY() {
+        return this.position.y;
+    }
+}
+exports.BasePositionModel = BasePositionModel;
+//# sourceMappingURL=BasePositionModel.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js.map
new file mode 100644
index 0000000..9cde260
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-models/BasePositionModel.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"BasePositionModel.js","sourceRoot":"","sources":["../../../src/core-models/BasePositionModel.ts"],"names":[],"mappings":";;AAAA,2CAAgG;AAEhG,qDAA0D;AAgB1D,MAAa,iBAAmF,SAAQ,qBAAY;IAInH,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC,QAAQ,IAAI,IAAI,gBAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;IAID,WAAW,CAAC,CAAC,EAAE,CAAE;QAChB,IAAI,OAAO,CAAC,KAAK,QAAQ,EAAE;YAC1B,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;SAClB;aAAM,IAAI,OAAO,CAAC,EAAE;YACpB,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SAChC;QACD,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,iBAAiB,CAAC,CAAC;IACvC,CAAC;IAED,cAAc;QACb,OAAO,IAAI,oBAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAC3C,CAAC;IAED,WAAW,CAAC,KAA6B;QACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,gBAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACvD,CAAC;IAED,SAAS;QACR,yBACI,KAAK,CAAC,SAAS,EAAE,IACpB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAClB,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,IACjB;IACH,CAAC;IAED,WAAW;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC;IACtB,CAAC;IAED,IAAI;QACH,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC;IAED,IAAI;QACH,OAAO,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;IACxB,CAAC;CACD;AAhDD,8CAgDC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js
new file mode 100644
index 0000000..270decf
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js
@@ -0,0 +1,41 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const State_1 = require("./State");
+const Action_1 = require("../core-actions/Action");
+class AbstractDisplacementState extends State_1.State {
+    constructor(options) {
+        super(options);
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (actionEvent) => {
+                this.initialX = actionEvent.event.clientX;
+                this.initialY = actionEvent.event.clientY;
+                const rel = this.engine.getRelativePoint(actionEvent.event.clientX, actionEvent.event.clientY);
+                this.initialXRelative = rel.x;
+                this.initialYRelative = rel.y;
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_MOVE,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                this.fireMouseMoved({
+                    displacementX: event.clientX - this.initialX,
+                    displacementY: event.clientY - this.initialY,
+                    virtualDisplacementX: (event.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    virtualDisplacementY: (event.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    event: event
+                });
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_UP,
+            fire: (event) => {
+                // when the mouse if up, we eject this state
+                this.eject();
+            }
+        }));
+    }
+}
+exports.AbstractDisplacementState = AbstractDisplacementState;
+//# sourceMappingURL=AbstractDisplacementState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js.map
new file mode 100644
index 0000000..8cb4558
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/AbstractDisplacementState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AbstractDisplacementState.js","sourceRoot":"","sources":["../../../src/core-state/AbstractDisplacementState.ts"],"names":[],"mappings":";;AAAA,mCAA8C;AAC9C,mDAAwE;AAWxE,MAAsB,yBAAiE,SAAQ,aAAQ;IAMtG,YAAY,OAAqB;QAChC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,IAAI,CAAC,QAAQ,GAAG,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;gBAC1C,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,EAAE,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;gBAC/F,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;gBAC9B,IAAI,CAAC,gBAAgB,GAAG,GAAG,CAAC,CAAC,CAAC;YAC/B,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,WAA0C,EAAE,EAAE;gBACpD,MAAM,EAAE,KAAK,EAAE,GAAG,WAAW,CAAC;gBAC9B,IAAI,CAAC,cAAc,CAAC;oBACnB,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,aAAa,EAAE,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ;oBAC5C,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,oBAAoB,EAAE,CAAC,KAAK,CAAC,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,YAAY,EAAE,GAAG,KAAK,CAAC;oBACvG,KAAK,EAAE,KAAK;iBACZ,CAAC,CAAC;YACJ,CAAC;SACD,CAAC,CACF,CAAC;QACF,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,QAAQ;YACxB,IAAI,EAAE,CAAC,KAAoC,EAAE,EAAE;gBAC9C,4CAA4C;gBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;YACd,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CAGD;AA/CD,8DA+CC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js
new file mode 100644
index 0000000..8d8a395
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js
@@ -0,0 +1,90 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Action_1 = require("../core-actions/Action");
+const _ = require("lodash");
+class State {
+    constructor(options) {
+        this.actions = [];
+        this.keys = [];
+        this.childStates = [];
+        this.options = options;
+    }
+    setEngine(engine) {
+        this.engine = engine;
+    }
+    getOptions() {
+        return this.options;
+    }
+    eject() {
+        this.engine.getStateMachine().popState();
+    }
+    transitionWithEvent(state, event) {
+        this.engine.getStateMachine().pushState(state);
+        this.engine.getActionEventBus().fireAction(event);
+    }
+    registerAction(action) {
+        this.actions.push(action);
+    }
+    tryActivateParentState(keys) {
+        if (this.keys.length > 0 && !this.isKeysFullfilled(keys)) {
+            this.eject();
+            return true;
+        }
+        return false;
+    }
+    tryActivateChildState(keys) {
+        const state = this.findStateToActivate(keys);
+        if (state) {
+            this.engine.getStateMachine().pushState(state);
+            return true;
+        }
+        return false;
+    }
+    findStateToActivate(keys) {
+        for (let child of this.childStates) {
+            if (child.isKeysFullfilled(keys)) {
+                return child;
+            }
+        }
+        return null;
+    }
+    isKeysFullfilled(keys) {
+        return _.intersection(this.keys, keys).length === this.keys.length;
+    }
+    activated(previous) {
+        const keys = this.engine.getActionEventBus().getKeys();
+        if (this.tryActivateParentState(keys) || this.tryActivateChildState(keys)) {
+            return;
+        }
+        // perhaps we need to pop again?
+        this.handler1 = this.engine.getActionEventBus().registerAction(new Action_1.Action({
+            type: Action_1.InputType.KEY_DOWN,
+            fire: () => {
+                this.tryActivateChildState(this.engine.getActionEventBus().getKeys());
+            }
+        }));
+        this.handler2 = this.engine.getActionEventBus().registerAction(new Action_1.Action({
+            type: Action_1.InputType.KEY_UP,
+            fire: () => {
+                this.tryActivateParentState(this.engine.getActionEventBus().getKeys());
+            }
+        }));
+        for (let action of this.actions) {
+            this.engine.getActionEventBus().registerAction(action);
+        }
+    }
+    deactivated(next) {
+        if (this.handler1) {
+            this.handler1();
+        }
+        if (this.handler2) {
+            this.handler2();
+        }
+        // if this happens, we are going into heirachial state machine mode
+        for (let action of this.actions) {
+            this.engine.getActionEventBus().deregisterAction(action);
+        }
+    }
+}
+exports.State = State;
+//# sourceMappingURL=State.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js.map
new file mode 100644
index 0000000..fa77ab8
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/State.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"State.js","sourceRoot":"","sources":["../../../src/core-state/State.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js
new file mode 100644
index 0000000..2285437
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js
@@ -0,0 +1,39 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const _ = require("lodash");
+const BaseObserver_1 = require("../core/BaseObserver");
+class StateMachine extends BaseObserver_1.BaseObserver {
+    constructor(engine) {
+        super();
+        this.engine = engine;
+        this.stateStack = [];
+    }
+    getCurrentState() {
+        return this.currentState;
+    }
+    pushState(state) {
+        this.stateStack.push(state);
+        this.setState(state);
+    }
+    popState() {
+        this.stateStack.pop();
+        this.setState(_.last(this.stateStack));
+    }
+    setState(state) {
+        state.setEngine(this.engine);
+        // if no state object, get the initial state
+        if (this.currentState) {
+            this.currentState.deactivated(state);
+        }
+        const old = this.currentState;
+        this.currentState = state;
+        if (this.currentState) {
+            this.currentState.activated(old);
+            this.fireEvent({
+                newState: state
+            }, 'stateChanged');
+        }
+    }
+}
+exports.StateMachine = StateMachine;
+//# sourceMappingURL=StateMachine.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js.map
new file mode 100644
index 0000000..b4709ab
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core-state/StateMachine.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"StateMachine.js","sourceRoot":"","sources":["../../../src/core-state/StateMachine.ts"],"names":[],"mappings":";;AACA,4BAA4B;AAE5B,uDAA6E;AAM7E,MAAa,YAAa,SAAQ,2BAAkC;IAKnE,YAAY,MAAoB;QAC/B,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,eAAe;QACd,OAAO,IAAI,CAAC,YAAY,CAAC;IAC1B,CAAC;IAED,SAAS,CAAC,KAAY;QACrB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5B,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACtB,CAAC;IAED,QAAQ;QACP,IAAI,CAAC,UAAU,CAAC,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;IACxC,CAAC;IAED,QAAQ,CAAC,KAAY;QACpB,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE7B,4CAA4C;QAC5C,IAAI,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;SACrC;QACD,MAAM,GAAG,GAAG,IAAI,CAAC,YAAY,CAAC;QAC9B,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,IAAI,CAAC,YAAY,EAAE;YACtB,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACjC,IAAI,CAAC,SAAS,CACb;gBACC,QAAQ,EAAE,KAAK;aACf,EACD,cAAc,CACd,CAAC;SACF;IACF,CAAC;CACD;AA5CD,oCA4CC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js
new file mode 100644
index 0000000..5fb2206
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js
@@ -0,0 +1,22 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+/**
+ * Base factory for all the different types of entities.
+ * Gets registered with the engine, and is used to generate models
+ */
+class AbstractFactory {
+    constructor(type) {
+        this.type = type;
+    }
+    setDiagramEngine(engine) {
+        this.engine = engine;
+    }
+    setFactoryBank(bank) {
+        this.bank = bank;
+    }
+    getType() {
+        return this.type;
+    }
+}
+exports.AbstractFactory = AbstractFactory;
+//# sourceMappingURL=AbstractFactory.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js.map
new file mode 100644
index 0000000..f9f0310
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractFactory.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AbstractFactory.js","sourceRoot":"","sources":["../../../src/core/AbstractFactory.ts"],"names":[],"mappings":";;AAGA;;;GAGG;AACH,MAAsB,eAAe;IAWpC,YAAY,IAAY;QACvB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;IAED,gBAAgB,CAAC,MAAS;QACzB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACtB,CAAC;IAED,cAAc,CAAC,IAAiB;QAC/B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;IAED,OAAO;QACN,OAAO,IAAI,CAAC,IAAI,CAAC;IAClB,CAAC;CACD;AA1BD,0CA0BC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js
new file mode 100644
index 0000000..df6350e
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js
@@ -0,0 +1,7 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const AbstractFactory_1 = require("./AbstractFactory");
+class AbstractModelFactory extends AbstractFactory_1.AbstractFactory {
+}
+exports.AbstractModelFactory = AbstractModelFactory;
+//# sourceMappingURL=AbstractModelFactory.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js.map
new file mode 100644
index 0000000..03a4005
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractModelFactory.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AbstractModelFactory.js","sourceRoot":"","sources":["../../../src/core/AbstractModelFactory.ts"],"names":[],"mappings":";;AAAA,uDAAoD;AAQpD,MAAsB,oBAGpB,SAAQ,iCAAkB;CAK3B;AARD,oDAQC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js
new file mode 100644
index 0000000..eca7c82
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js
@@ -0,0 +1,10 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const AbstractModelFactory_1 = require("./AbstractModelFactory");
+/**
+ * Further extends the AbstractFactory to add widget generation capability.
+ */
+class AbstractReactFactory extends AbstractModelFactory_1.AbstractModelFactory {
+}
+exports.AbstractReactFactory = AbstractReactFactory;
+//# sourceMappingURL=AbstractReactFactory.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js.map
new file mode 100644
index 0000000..8048bdb
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/AbstractReactFactory.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"AbstractReactFactory.js","sourceRoot":"","sources":["../../../src/core/AbstractReactFactory.tsx"],"names":[],"mappings":";;AACA,iEAA8D;AAO9D;;GAEG;AACH,MAAsB,oBAGpB,SAAQ,2CAA0B;CAKnC;AARD,oDAQC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js
new file mode 100644
index 0000000..b71f565
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js
@@ -0,0 +1,81 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const Toolkit_1 = require("../Toolkit");
+/**
+ * Base observer pattern class for working with listeners
+ */
+class BaseObserver {
+    constructor() {
+        this.listeners = {};
+    }
+    fireEventInternal(fire, k, event) {
+        this.iterateListeners(listener => {
+            // returning false here will instruct itteration to stop
+            if (!fire && !event.firing) {
+                return false;
+            }
+            // fire selected listener
+            if (listener[k]) {
+                listener[k](event);
+            }
+        });
+    }
+    fireEvent(event, k) {
+        event = Object.assign({ firing: true, stopPropagation: () => {
+                event.firing = false;
+            } }, event);
+        // fire pre
+        this.fireEventInternal(true, 'eventWillFire', Object.assign({}, event, { function: k }));
+        // fire main event
+        this.fireEventInternal(false, k, event);
+        // fire post
+        this.fireEventInternal(true, 'eventDidFire', Object.assign({}, event, { function: k }));
+    }
+    iterateListeners(cb) {
+        for (let id in this.listeners) {
+            const res = cb(this.listeners[id]);
+            // cancel itteration on false
+            if (res === false) {
+                return;
+            }
+        }
+    }
+    getListenerHandle(listener) {
+        for (let id in this.listeners) {
+            if (this.listeners[id] === listener) {
+                return {
+                    id: id,
+                    listner: listener,
+                    deregister: () => {
+                        delete this.listeners[id];
+                    }
+                };
+            }
+        }
+    }
+    registerListener(listener) {
+        const id = Toolkit_1.Toolkit.UID();
+        this.listeners[id] = listener;
+        return {
+            id: id,
+            listner: listener,
+            deregister: () => {
+                delete this.listeners[id];
+            }
+        };
+    }
+    deregisterListener(listener) {
+        if (typeof listener === 'object') {
+            listener.deregister();
+            return true;
+        }
+        const handle = this.getListenerHandle(listener);
+        if (handle) {
+            handle.deregister();
+            return true;
+        }
+        return false;
+    }
+}
+exports.BaseObserver = BaseObserver;
+//# sourceMappingURL=BaseObserver.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js.map
new file mode 100644
index 0000000..534349a
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/BaseObserver.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"BaseObserver.js","sourceRoot":"","sources":["../../../src/core/BaseObserver.ts"],"names":[],"mappings":";;AAAA,wCAAqC;AA8CrC;;GAEG;AACH,MAAa,YAAY;IAGxB;QACC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACrB,CAAC;IAEO,iBAAiB,CAAC,IAAa,EAAE,CAAU,EAAE,KAAgB;QACpE,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,EAAE;YAChC,wDAAwD;YACxD,IAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;gBAC3B,OAAO,KAAK,CAAC;aACb;YACD,yBAAyB;YACzB,IAAI,QAAQ,CAAC,CAAC,CAAC,EAAE;gBAChB,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAkB,CAAC,CAAC;aAChC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,SAAS,CAAoB,KAAmC,EAAE,CAAU;QAC3E,KAAK,mBACJ,MAAM,EAAE,IAAI,EACZ,eAAe,EAAE,GAAG,EAAE;gBACrB,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;YACtB,CAAC,IACE,KAAK,CACR,CAAC;QAEF,WAAW;QACX,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,eAAe,EAAE,kBAC1C,KAAK,IACR,QAAQ,EAAE,CAAC,GACO,CAAC,CAAC;QAErB,kBAAkB;QAClB,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,CAAC,EAAE,KAAkB,CAAC,CAAC;QAErD,YAAY;QACZ,IAAI,CAAC,iBAAiB,CAAC,IAAI,EAAE,cAAc,EAAE,kBACzC,KAAK,IACR,QAAQ,EAAE,CAAC,GACO,CAAC,CAAC;IACtB,CAAC;IAED,gBAAgB,CAAC,EAAwB;QACxC,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9B,MAAM,GAAG,GAAG,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YACnC,6BAA6B;YAC7B,IAAI,GAAG,KAAK,KAAK,EAAE;gBAClB,OAAO;aACP;SACD;IACF,CAAC;IAED,iBAAiB,CAAC,QAAW;QAC5B,KAAK,IAAI,EAAE,IAAI,IAAI,CAAC,SAAS,EAAE;YAC9B,IAAI,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,KAAK,QAAQ,EAAE;gBACpC,OAAO;oBACN,EAAE,EAAE,EAAE;oBACN,OAAO,EAAE,QAAQ;oBACjB,UAAU,EAAE,GAAG,EAAE;wBAChB,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;oBAC3B,CAAC;iBACD,CAAC;aACF;SACD;IACF,CAAC;IAED,gBAAgB,CAAC,QAAW;QAC3B,MAAM,EAAE,GAAG,iBAAO,CAAC,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC;QAC9B,OAAO;YACN,EAAE,EAAE,EAAE;YACN,OAAO,EAAE,QAAQ;YACjB,UAAU,EAAE,GAAG,EAAE;gBAChB,OAAO,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC;YAC3B,CAAC;SACD,CAAC;IACH,CAAC;IAED,kBAAkB,CAAC,QAA4B;QAC9C,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;YAChC,QAA2B,CAAC,UAAU,EAAE,CAAC;YAC1C,OAAO,IAAI,CAAC;SACZ;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAChD,IAAI,MAAM,EAAE;YACX,MAAM,CAAC,UAAU,EAAE,CAAC;YACpB,OAAO,IAAI,CAAC;SACZ;QACD,OAAO,KAAK,CAAC;IACd,CAAC;CACD;AA7FD,oCA6FC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js
new file mode 100644
index 0000000..3279195
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js
@@ -0,0 +1,42 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const BaseObserver_1 = require("./BaseObserver");
+const _ = require("lodash");
+/**
+ * Store and managed Factories that extend from Abstractfactory
+ */
+class FactoryBank extends BaseObserver_1.BaseObserver {
+    constructor() {
+        super();
+        this.factories = {};
+    }
+    getFactories() {
+        return _.values(this.factories);
+    }
+    clearFactories() {
+        for (let factory in this.factories) {
+            this.deregisterFactory(factory);
+        }
+    }
+    getFactory(type) {
+        if (!this.factories[type]) {
+            throw new Error(`Cannot find factory with type [${type}]`);
+        }
+        return this.factories[type];
+    }
+    registerFactory(factory) {
+        factory.setFactoryBank(this);
+        this.factories[factory.getType()] = factory;
+        // todo fixme
+        this.fireEvent({ factory }, 'factoryAdded');
+    }
+    deregisterFactory(type) {
+        const factory = this.factories[type];
+        factory.setFactoryBank(null);
+        delete this.factories[type];
+        // todo fixme
+        this.fireEvent({ factory }, 'factoryRemoved');
+    }
+}
+exports.FactoryBank = FactoryBank;
+//# sourceMappingURL=FactoryBank.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js.map
new file mode 100644
index 0000000..c5865a6
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/FactoryBank.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"FactoryBank.js","sourceRoot":"","sources":["../../../src/core/FactoryBank.ts"],"names":[],"mappings":";;AAAA,iDAAuE;AAEvE,4BAA4B;AAc5B;;GAEG;AACH,MAAa,WAGX,SAAQ,2BAAe;IAGxB;QACC,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,YAAY;QACX,OAAO,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACjC,CAAC;IAED,cAAc;QACb,KAAK,IAAI,OAAO,IAAI,IAAI,CAAC,SAAS,EAAE;YACnC,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;SAChC;IACF,CAAC;IAED,UAAU,CAAkB,IAAY;QACvC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;YAC1B,MAAM,IAAI,KAAK,CAAC,kCAAkC,IAAI,GAAG,CAAC,CAAC;SAC3D;QACD,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAM,CAAC;IAClC,CAAC;IAED,eAAe,CAAC,OAAU;QACzB,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC;QAC5C,aAAa;QACb,IAAI,CAAC,SAAS,CAAiB,EAAE,OAAO,EAAS,EAAE,cAAc,CAAC,CAAC;IACpE,CAAC;IAED,iBAAiB,CAAC,IAAY;QAC7B,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACrC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;QAC7B,OAAO,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC5B,aAAa;QACb,IAAI,CAAC,SAAS,CAAmB,EAAE,OAAO,EAAS,EAAE,gBAAgB,CAAC,CAAC;IACxE,CAAC;CACD;AA1CD,kCA0CC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js b/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js
new file mode 100644
index 0000000..c929383
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js
@@ -0,0 +1,3 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+//# sourceMappingURL=ModelGeometryInterface.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js.map
new file mode 100644
index 0000000..305d583
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/core/ModelGeometryInterface.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"ModelGeometryInterface.js","sourceRoot":"","sources":["../../../src/core/ModelGeometryInterface.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js
new file mode 100644
index 0000000..588eea1
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js
@@ -0,0 +1,130 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const _ = require("lodash");
+const BaseEntity_1 = require("../../core-models/BaseEntity");
+class CanvasModel extends BaseEntity_1.BaseEntity {
+    constructor(options = {}) {
+        super(Object.assign({ zoom: 100, gridSize: 0, offsetX: 0, offsetY: 0 }, options));
+        this.layers = [];
+    }
+    getSelectionEntities() {
+        return _.flatMap(this.layers, layer => {
+            return layer.getSelectionEntities();
+        });
+    }
+    getSelectedEntities() {
+        return _.filter(this.getSelectionEntities(), ob => {
+            return ob.isSelected();
+        });
+    }
+    clearSelection() {
+        _.forEach(this.getSelectedEntities(), element => {
+            element.setSelected(false);
+        });
+    }
+    getModels() {
+        return _.flatMap(this.layers, layer => {
+            return _.values(layer.getModels());
+        });
+    }
+    addLayer(layer) {
+        layer.setParent(this);
+        layer.registerListener({
+            entityRemoved: (event) => { }
+        });
+        this.layers.push(layer);
+    }
+    removeLayer(layer) {
+        const index = this.layers.indexOf(layer);
+        if (index !== -1) {
+            this.layers.splice(index, 1);
+            return true;
+        }
+        return false;
+    }
+    getLayers() {
+        return this.layers;
+    }
+    setGridSize(size = 0) {
+        this.options.gridSize = size;
+        this.fireEvent({ size: size }, 'gridUpdated');
+    }
+    getGridPosition(pos) {
+        if (this.options.gridSize === 0) {
+            return pos;
+        }
+        return this.options.gridSize * Math.floor((pos + this.options.gridSize / 2) / this.options.gridSize);
+    }
+    deserializeModel(data, engine) {
+        const models = {};
+        const promises = {};
+        const resolvers = {};
+        const event = {
+            data: data,
+            engine: engine,
+            registerModel: (model) => {
+                models[model.getID()] = model;
+                if (resolvers[model.getID()]) {
+                    resolvers[model.getID()](model);
+                }
+            },
+            getModel(id) {
+                if (models[id]) {
+                    return Promise.resolve(models[id]);
+                }
+                if (!promises[id]) {
+                    promises[id] = new Promise(resolve => {
+                        resolvers[id] = resolve;
+                    });
+                }
+                return promises[id];
+            }
+        };
+        this.deserialize(event);
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.offsetX = event.data.offsetX;
+        this.options.offsetY = event.data.offsetY;
+        this.options.zoom = event.data.zoom;
+        this.options.gridSize = event.data.gridSize;
+        _.forEach(event.data.layers, layer => {
+            const layerOb = event.engine.getFactoryForLayer(layer.type).generateModel({
+                initialConfig: layer
+            });
+            layerOb.deserialize(Object.assign({}, event, { data: layer }));
+            this.addLayer(layerOb);
+        });
+    }
+    serialize() {
+        return Object.assign({}, super.serialize(), { offsetX: this.options.offsetX, offsetY: this.options.offsetY, zoom: this.options.zoom, gridSize: this.options.gridSize, layers: _.map(this.layers, layer => {
+                return layer.serialize();
+            }) });
+    }
+    setZoomLevel(zoom) {
+        this.options.zoom = zoom;
+        this.fireEvent({ zoom }, 'zoomUpdated');
+    }
+    setOffset(offsetX, offsetY) {
+        this.options.offsetX = offsetX;
+        this.options.offsetY = offsetY;
+        this.fireEvent({ offsetX, offsetY }, 'offsetUpdated');
+    }
+    setOffsetX(offsetX) {
+        this.setOffset(offsetX, this.options.offsetY);
+    }
+    setOffsetY(offsetY) {
+        this.setOffset(this.options.offsetX, offsetY);
+    }
+    getOffsetY() {
+        return this.options.offsetY;
+    }
+    getOffsetX() {
+        return this.options.offsetX;
+    }
+    getZoomLevel() {
+        return this.options.zoom;
+    }
+}
+exports.CanvasModel = CanvasModel;
+//# sourceMappingURL=CanvasModel.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js.map
new file mode 100644
index 0000000..bd0063a
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasModel.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"CanvasModel.js","sourceRoot":"","sources":["../../../../src/entities/canvas/CanvasModel.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js
new file mode 100644
index 0000000..fbc7ce3
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js
@@ -0,0 +1,73 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+const TransformLayerWidget_1 = require("../layer/TransformLayerWidget");
+const styled_1 = require("@emotion/styled");
+const SmartLayerWidget_1 = require("../layer/SmartLayerWidget");
+var S;
+(function (S) {
+    S.Canvas = styled_1.default.div `
+		position: relative;
+		cursor: move;
+		overflow: hidden;
+	`;
+})(S || (S = {}));
+class CanvasWidget extends React.Component {
+    constructor(props) {
+        super(props);
+        this.ref = React.createRef();
+        this.state = {
+            action: null,
+            diagramEngineListener: null
+        };
+    }
+    componentWillUnmount() {
+        this.props.engine.deregisterListener(this.canvasListener);
+        this.props.engine.setCanvas(null);
+        document.removeEventListener('keyup', this.keyUp);
+        document.removeEventListener('keydown', this.keyDown);
+    }
+    registerCanvas() {
+        this.props.engine.setCanvas(this.ref.current);
+        this.props.engine.iterateListeners(list => {
+            list.rendered && list.rendered();
+        });
+    }
+    componentDidUpdate() {
+        this.registerCanvas();
+    }
+    componentDidMount() {
+        this.canvasListener = this.props.engine.registerListener({
+            repaintCanvas: () => {
+                this.forceUpdate();
+            }
+        });
+        this.keyDown = event => {
+            this.props.engine.getActionEventBus().fireAction({ event });
+        };
+        this.keyUp = event => {
+            this.props.engine.getActionEventBus().fireAction({ event });
+        };
+        document.addEventListener('keyup', this.keyUp);
+        document.addEventListener('keydown', this.keyDown);
+        this.registerCanvas();
+    }
+    render() {
+        const engine = this.props.engine;
+        const model = engine.getModel();
+        return (React.createElement(S.Canvas, { className: this.props.className, ref: this.ref, onWheel: event => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseDown: event => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseUp: event => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseMove: event => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            } }, model.getLayers().map(layer => {
+            return (React.createElement(TransformLayerWidget_1.TransformLayerWidget, { layer: layer, key: layer.getID() },
+                React.createElement(SmartLayerWidget_1.SmartLayerWidget, { layer: layer, engine: this.props.engine, key: layer.getID() })));
+        })));
+    }
+}
+exports.CanvasWidget = CanvasWidget;
+//# sourceMappingURL=CanvasWidget.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js.map
new file mode 100644
index 0000000..5214bc3
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/canvas/CanvasWidget.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"CanvasWidget.js","sourceRoot":"","sources":["../../../../src/entities/canvas/CanvasWidget.tsx"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js
new file mode 100644
index 0000000..fc80f01
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js
@@ -0,0 +1,67 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const BaseModel_1 = require("../../core-models/BaseModel");
+const _ = require("lodash");
+class LayerModel extends BaseModel_1.BaseModel {
+    constructor(options = {}) {
+        super(options);
+        this.models = {};
+        this.repaintEnabled = true;
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.isSvg = !!event.data.isSvg;
+        this.options.transformed = !!event.data.transformed;
+        _.forEach(event.data.models, model => {
+            const modelOb = this.getChildModelFactoryBank(event.engine)
+                .getFactory(model.type)
+                .generateModel({
+                initialConfig: model
+            });
+            modelOb.deserialize(Object.assign({}, event, { data: model }));
+            this.addModel(modelOb);
+        });
+    }
+    serialize() {
+        return Object.assign({}, super.serialize(), { isSvg: this.options.isSvg, transformed: this.options.transformed, models: _.mapValues(this.models, model => {
+                return model.serialize();
+            }) });
+    }
+    isRepaintEnabled() {
+        return this.repaintEnabled;
+    }
+    allowRepaint(allow = true) {
+        this.repaintEnabled = allow;
+    }
+    remove() {
+        if (this.parent) {
+            this.parent.removeLayer(this);
+        }
+        super.remove();
+    }
+    addModel(model) {
+        model.setParent(this);
+        this.models[model.getID()] = model;
+    }
+    getSelectionEntities() {
+        return _.flatMap(this.models, model => {
+            return model.getSelectionEntities();
+        });
+    }
+    getModels() {
+        return this.models;
+    }
+    getModel(id) {
+        return this.models[id];
+    }
+    removeModel(id) {
+        const _id = typeof id === 'string' ? id : id.getID();
+        if (this.models[_id]) {
+            delete this.models[_id];
+            return true;
+        }
+        return false;
+    }
+}
+exports.LayerModel = LayerModel;
+//# sourceMappingURL=LayerModel.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js.map
new file mode 100644
index 0000000..f9cd57e
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/LayerModel.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"LayerModel.js","sourceRoot":"","sources":["../../../../src/entities/layer/LayerModel.ts"],"names":[],"mappings":";;AAAA,2DAA6F;AAE7F,4BAA4B;AAkB5B,MAAsB,UAA8D,SAAQ,qBAAY;IAIvG,YAAY,UAAwB,EAAE;QACrC,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC5B,CAAC;IAOD,WAAW,CAAC,KAA6B;QACxC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;QACzB,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,WAAW,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC;QACpD,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;YACpC,MAAM,OAAO,GAAG,IAAI,CAAC,wBAAwB,CAAC,KAAK,CAAC,MAAM,CAAC;iBACzD,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC;iBACtB,aAAa,CAAC;gBACd,aAAa,EAAE,KAAK;aACpB,CAAC,CAAC;YACJ,OAAO,CAAC,WAAW,mBACf,KAAK,IACR,IAAI,EAAE,KAAK,IACV,CAAC;YACH,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;QACxB,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,SAAS;QACR,yBACI,KAAK,CAAC,SAAS,EAAE,IACpB,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EACzB,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EACrC,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;gBACxC,OAAO,KAAK,CAAC,SAAS,EAAE,CAAC;YAC1B,CAAC,CAAC,IACD;IACH,CAAC;IAED,gBAAgB;QACf,OAAO,IAAI,CAAC,cAAc,CAAC;IAC5B,CAAC;IAED,YAAY,CAAC,QAAiB,IAAI;QACjC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC;IAC7B,CAAC;IAED,MAAM;QACL,IAAI,IAAI,CAAC,MAAM,EAAE;YAChB,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;SAC9B;QACD,KAAK,CAAC,MAAM,EAAE,CAAC;IAChB,CAAC;IAED,QAAQ,CAAC,KAAoB;QAC5B,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,GAAG,KAAK,CAAC;IACpC,CAAC;IAED,oBAAoB;QACnB,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,KAAK,CAAC,EAAE;YACrC,OAAO,KAAK,CAAC,oBAAoB,EAAE,CAAC;QACrC,CAAC,CAAC,CAAC;IACJ,CAAC;IAED,SAAS;QACR,OAAO,IAAI,CAAC,MAAM,CAAC;IACpB,CAAC;IAED,QAAQ,CAAC,EAAU;QAClB,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC;IAED,WAAW,CAAC,EAA0B;QACrC,MAAM,GAAG,GAAG,OAAO,EAAE,KAAK,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,EAAE,CAAC;QACrD,IAAI,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;YACrB,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;YACxB,OAAO,IAAI,CAAC;SACZ;QACD,OAAO,KAAK,CAAC;IACd,CAAC;CACD;AAtFD,gCAsFC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js
new file mode 100644
index 0000000..6d42a5c
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js
@@ -0,0 +1,13 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+class SmartLayerWidget extends React.Component {
+    shouldComponentUpdate() {
+        return this.props.layer.isRepaintEnabled();
+    }
+    render() {
+        return this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({ model: this.props.layer });
+    }
+}
+exports.SmartLayerWidget = SmartLayerWidget;
+//# sourceMappingURL=SmartLayerWidget.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js.map
new file mode 100644
index 0000000..ee087c1
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/SmartLayerWidget.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SmartLayerWidget.js","sourceRoot":"","sources":["../../../../src/entities/layer/SmartLayerWidget.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAS/B,MAAa,gBAAiB,SAAQ,KAAK,CAAC,SAAgC;IAC3E,qBAAqB;QACpB,OAAO,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;IAC5C,CAAC;IAED,MAAM;QACL,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,mBAAmB,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC;IAChH,CAAC;CACD;AARD,4CAQC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js
new file mode 100644
index 0000000..c51b1be
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js
@@ -0,0 +1,59 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+const styled_1 = require("@emotion/styled");
+const core_1 = require("@emotion/core");
+var S;
+(function (S) {
+    const shared = core_1.css `
+		top: 0;
+		left: 0;
+		right: 0;
+		bottom: 0;
+		position: absolute;
+		pointer-events: none;
+		transform-origin: 0 0;
+		width: 100%;
+		height: 100%;
+		overflow: visible;
+	`;
+    S.DivLayer = styled_1.default.div `
+		${shared}
+	`;
+    S.SvgLayer = styled_1.default.svg `
+		${shared}
+	`;
+})(S || (S = {}));
+class TransformLayerWidget extends React.Component {
+    constructor(props) {
+        super(props);
+        this.state = {};
+    }
+    getTransform() {
+        const model = this.props.layer.getParent();
+        return `
+			translate(
+				${model.getOffsetX()}px,
+				${model.getOffsetY()}px)
+			scale(
+				${model.getZoomLevel() / 100.0}
+			)
+  	`;
+    }
+    getTransformStyle() {
+        if (this.props.layer.getOptions().transformed) {
+            return {
+                transform: this.getTransform()
+            };
+        }
+        return {};
+    }
+    render() {
+        if (this.props.layer.getOptions().isSvg) {
+            return React.createElement(S.SvgLayer, { style: this.getTransformStyle() }, this.props.children);
+        }
+        return React.createElement(S.DivLayer, { style: this.getTransformStyle() }, this.props.children);
+    }
+}
+exports.TransformLayerWidget = TransformLayerWidget;
+//# sourceMappingURL=TransformLayerWidget.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js.map
new file mode 100644
index 0000000..ec072e7
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/layer/TransformLayerWidget.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"TransformLayerWidget.js","sourceRoot":"","sources":["../../../../src/entities/layer/TransformLayerWidget.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,4CAAqC;AACrC,wCAAoC;AAQpC,IAAU,CAAC,CAqBV;AArBD,WAAU,CAAC;IACV,MAAM,MAAM,GAAG,UAAG,CAAA;;;;;;;;;;;EAWjB,CAAC;IAEW,UAAQ,GAAG,gBAAM,CAAC,GAAG,CAAA;IAC/B,MAAM;EACR,CAAC;IAEW,UAAQ,GAAG,gBAAM,CAAC,GAAG,CAAA;IAC/B,MAAM;EACR,CAAC;AACH,CAAC,EArBS,CAAC,KAAD,CAAC,QAqBV;AAED,MAAa,oBAAqB,SAAQ,KAAK,CAAC,SAAoC;IACnF,YAAY,KAAgC;QAC3C,KAAK,CAAC,KAAK,CAAC,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IACjB,CAAC;IAED,YAAY;QACX,MAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC;QAC3C,OAAO;;MAEH,KAAK,CAAC,UAAU,EAAE;MAClB,KAAK,CAAC,UAAU,EAAE;;MAElB,KAAK,CAAC,YAAY,EAAE,GAAG,KAAK;;IAE9B,CAAC;IACJ,CAAC;IAED,iBAAiB;QAChB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,WAAW,EAAE;YAC9C,OAAO;gBACN,SAAS,EAAE,IAAI,CAAC,YAAY,EAAE;aAC9B,CAAC;SACF;QACD,OAAO,EAAE,CAAC;IACX,CAAC;IAED,MAAM;QACL,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,EAAE;YACxC,OAAO,oBAAC,CAAC,CAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAc,CAAC;SACvF;QACD,OAAO,oBAAC,CAAC,CAAC,QAAQ,IAAC,KAAK,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAc,CAAC;IACxF,CAAC;CACD;AAjCD,oDAiCC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js
new file mode 100644
index 0000000..ec3157b
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js
@@ -0,0 +1,19 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+const AbstractReactFactory_1 = require("../../core/AbstractReactFactory");
+const SelectionLayerModel_1 = require("./SelectionLayerModel");
+const SelectionBoxWidget_1 = require("./SelectionBoxWidget");
+class SelectionBoxLayerFactory extends AbstractReactFactory_1.AbstractReactFactory {
+    constructor() {
+        super('selection');
+    }
+    generateModel(event) {
+        return new SelectionLayerModel_1.SelectionLayerModel();
+    }
+    generateReactWidget(event) {
+        return React.createElement(SelectionBoxWidget_1.SelectionBoxWidget, { rect: event.model.box });
+    }
+}
+exports.SelectionBoxLayerFactory = SelectionBoxLayerFactory;
+//# sourceMappingURL=SelectionBoxLayerFactory.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js.map
new file mode 100644
index 0000000..b61f3c7
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxLayerFactory.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SelectionBoxLayerFactory.js","sourceRoot":"","sources":["../../../../src/entities/selection/SelectionBoxLayerFactory.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,0EAA4F;AAC5F,+DAA4D;AAE5D,6DAA0D;AAE1D,MAAa,wBAAyB,SAAQ,2CAAyC;IACtF;QACC,KAAK,CAAC,WAAW,CAAC,CAAC;IACpB,CAAC;IAED,aAAa,CAAC,KAAyB;QACtC,OAAO,IAAI,yCAAmB,EAAE,CAAC;IAClC,CAAC;IAED,mBAAmB,CAAC,KAA+C;QAClE,OAAO,oBAAC,uCAAkB,IAAC,IAAI,EAAE,KAAK,CAAC,KAAK,CAAC,GAAG,GAAI,CAAC;IACtD,CAAC;CACD;AAZD,4DAYC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js
new file mode 100644
index 0000000..72931e5
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js
@@ -0,0 +1,25 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+const styled_1 = require("@emotion/styled");
+var S;
+(function (S) {
+    S.Container = styled_1.default.div `
+		position: absolute;
+		background-color: rgba(0, 192, 255, 0.2);
+		border: solid 2px rgb(0, 192, 255);
+	`;
+})(S || (S = {}));
+class SelectionBoxWidget extends React.Component {
+    render() {
+        const { rect } = this.props;
+        return (React.createElement(S.Container, { style: {
+                top: rect.top,
+                left: rect.left,
+                width: rect.width,
+                height: rect.height
+            } }));
+    }
+}
+exports.SelectionBoxWidget = SelectionBoxWidget;
+//# sourceMappingURL=SelectionBoxWidget.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js.map
new file mode 100644
index 0000000..47658df
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionBoxWidget.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SelectionBoxWidget.js","sourceRoot":"","sources":["../../../../src/entities/selection/SelectionBoxWidget.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,4CAAqC;AAMrC,IAAU,CAAC,CAMV;AAND,WAAU,CAAC;IACG,WAAS,GAAG,gBAAM,CAAC,GAAG,CAAA;;;;EAIlC,CAAC;AACH,CAAC,EANS,CAAC,KAAD,CAAC,QAMV;AAED,MAAa,kBAAmB,SAAQ,KAAK,CAAC,SAAkC;IAC/E,MAAM;QACL,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,OAAO,CACN,oBAAC,CAAC,CAAC,SAAS,IACX,KAAK,EAAE;gBACN,GAAG,EAAE,IAAI,CAAC,GAAG;gBACb,IAAI,EAAE,IAAI,CAAC,IAAI;gBACf,KAAK,EAAE,IAAI,CAAC,KAAK;gBACjB,MAAM,EAAE,IAAI,CAAC,MAAM;aACnB,GACA,CACF,CAAC;IACH,CAAC;CACD;AAdD,gDAcC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js
new file mode 100644
index 0000000..cbc79ef
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js
@@ -0,0 +1,21 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const LayerModel_1 = require("../layer/LayerModel");
+class SelectionLayerModel extends LayerModel_1.LayerModel {
+    constructor() {
+        super({
+            transformed: false,
+            isSvg: false,
+            type: 'selection'
+        });
+    }
+    setBox(rect) {
+        this.box = rect;
+    }
+    getChildModelFactoryBank() {
+        // is not used as it doesnt serialize
+        return null;
+    }
+}
+exports.SelectionLayerModel = SelectionLayerModel;
+//# sourceMappingURL=SelectionLayerModel.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js.map
new file mode 100644
index 0000000..f40dddc
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/entities/selection/SelectionLayerModel.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SelectionLayerModel.js","sourceRoot":"","sources":["../../../../src/entities/selection/SelectionLayerModel.ts"],"names":[],"mappings":";;AAAA,oDAAiD;AAKjD,MAAa,mBAAoB,SAAQ,uBAAU;IAGlD;QACC,KAAK,CAAC;YACL,WAAW,EAAE,KAAK;YAClB,KAAK,EAAE,KAAK;YACZ,IAAI,EAAE,WAAW;SACjB,CAAC,CAAC;IACJ,CAAC;IAED,MAAM,CAAC,IAAgB;QACtB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC;IACjB,CAAC;IAED,wBAAwB;QACvB,qCAAqC;QACrC,OAAO,IAAI,CAAC;IACb,CAAC;CACD;AAnBD,kDAmBC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/index.js b/node_modules/@projectstorm/react-canvas-core/dist/es/index.js
new file mode 100644
index 0000000..75e3e1e
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/index.js
@@ -0,0 +1,38 @@
+"use strict";
+function __export(m) {
+    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
+}
+Object.defineProperty(exports, "__esModule", { value: true });
+__export(require("./CanvasEngine"));
+__export(require("./Toolkit"));
+__export(require("./entities/canvas/CanvasModel"));
+__export(require("./core/AbstractFactory"));
+__export(require("./core/AbstractModelFactory"));
+__export(require("./core/AbstractReactFactory"));
+__export(require("./core/BaseObserver"));
+__export(require("./core/FactoryBank"));
+__export(require("./core-actions/Action"));
+__export(require("./core-actions/ActionEventBus"));
+__export(require("./core-models/BaseEntity"));
+__export(require("./core-models/BaseModel"));
+__export(require("./core-models/BasePositionModel"));
+__export(require("./entities/canvas/CanvasModel"));
+__export(require("./entities/canvas/CanvasWidget"));
+__export(require("./entities/layer/LayerModel"));
+__export(require("./entities/layer/TransformLayerWidget"));
+__export(require("./entities/layer/SmartLayerWidget"));
+__export(require("./entities/selection/SelectionBoxLayerFactory"));
+__export(require("./entities/selection/SelectionBoxWidget"));
+__export(require("./entities/selection/SelectionLayerModel"));
+__export(require("./widgets/PeformanceWidget"));
+__export(require("./core-state/AbstractDisplacementState"));
+__export(require("./core-state/State"));
+__export(require("./core-state/StateMachine"));
+__export(require("./states/DefaultState"));
+__export(require("./states/DragCanvasState"));
+__export(require("./states/SelectingState"));
+__export(require("./states/SelectionBoxState"));
+__export(require("./states/MoveItemsState"));
+__export(require("./actions/DeleteItemsAction"));
+__export(require("./actions/ZoomCanvasAction"));
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/index.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/index.js.map
new file mode 100644
index 0000000..b4ed641
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;;;AAAA,oCAA+B;AAC/B,+BAA0B;AAC1B,mDAA8C;AAE9C,4CAAuC;AACvC,iDAA4C;AAC5C,iDAA4C;AAC5C,yCAAoC;AACpC,wCAAmC;AAGnC,2CAAsC;AACtC,mDAA8C;AAE9C,8CAAyC;AACzC,6CAAwC;AACxC,qDAAgD;AAEhD,mDAA8C;AAC9C,oDAA+C;AAE/C,iDAA4C;AAC5C,2DAAsD;AACtD,uDAAkD;AAElD,mEAA8D;AAC9D,6DAAwD;AACxD,8DAAyD;AAEzD,gDAA2C;AAE3C,4DAAuD;AACvD,wCAAmC;AACnC,+CAA0C;AAE1C,2CAAsC;AACtC,8CAAyC;AACzC,6CAAwC;AACxC,gDAA2C;AAC3C,6CAAwC;AAExC,iDAA4C;AAC5C,gDAA2C"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js
new file mode 100644
index 0000000..9466e9a
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js
@@ -0,0 +1,31 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const State_1 = require("../core-state/State");
+const Action_1 = require("../core-actions/Action");
+const DragCanvasState_1 = require("./DragCanvasState");
+const SelectingState_1 = require("./SelectingState");
+const MoveItemsState_1 = require("./MoveItemsState");
+class DefaultState extends State_1.State {
+    constructor() {
+        super({
+            name: 'default'
+        });
+        this.childStates = [new SelectingState_1.SelectingState()];
+        // determine what was clicked on
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                // the canvas was clicked on, transition to the dragging canvas state
+                if (!element) {
+                    this.transitionWithEvent(new DragCanvasState_1.DragCanvasState(), event);
+                }
+                else {
+                    this.transitionWithEvent(new MoveItemsState_1.MoveItemsState(), event);
+                }
+            }
+        }));
+    }
+}
+exports.DefaultState = DefaultState;
+//# sourceMappingURL=DefaultState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js.map
new file mode 100644
index 0000000..ffa9e1f
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DefaultState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"DefaultState.js","sourceRoot":"","sources":["../../../src/states/DefaultState.ts"],"names":[],"mappings":";;AAAA,+CAA4C;AAC5C,mDAAwE;AAExE,uDAAoD;AACpD,qDAAkD;AAClD,qDAAkD;AAElD,MAAa,YAAa,SAAQ,aAAK;IACtC;QACC,KAAK,CAAC;YACL,IAAI,EAAE,SAAS;SACf,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,+BAAc,EAAE,CAAC,CAAC;QAE1C,gCAAgC;QAChC,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAExE,qEAAqE;gBACrE,IAAI,CAAC,OAAO,EAAE;oBACb,IAAI,CAAC,mBAAmB,CAAC,IAAI,iCAAe,EAAE,EAAE,KAAK,CAAC,CAAC;iBACvD;qBAAM;oBACN,IAAI,CAAC,mBAAmB,CAAC,IAAI,+BAAc,EAAE,EAAE,KAAK,CAAC,CAAC;iBACtD;YACF,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CACD;AAxBD,oCAwBC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js
new file mode 100644
index 0000000..e0eb31c
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js
@@ -0,0 +1,48 @@
+"use strict";
+var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
+    return new (P || (P = Promise))(function (resolve, reject) {
+        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
+        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
+        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
+        step((generator = generator.apply(thisArg, _arguments || [])).next());
+    });
+};
+Object.defineProperty(exports, "__esModule", { value: true });
+const AbstractDisplacementState_1 = require("../core-state/AbstractDisplacementState");
+class DragCanvasState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor() {
+        super({
+            name: 'drag-canvas'
+        });
+    }
+    activated(prev) {
+        const _super = Object.create(null, {
+            activated: { get: () => super.activated }
+        });
+        return __awaiter(this, void 0, void 0, function* () {
+            _super.activated.call(this, prev);
+            this.engine.getModel().clearSelection();
+            yield this.engine.repaintCanvas(true);
+            // we can block layer rendering because we are only targeting the transforms
+            for (let layer of this.engine.getModel().getLayers()) {
+                layer.allowRepaint(false);
+            }
+            this.initialCanvasX = this.engine.getModel().getOffsetX();
+            this.initialCanvasY = this.engine.getModel().getOffsetY();
+        });
+    }
+    deactivated(next) {
+        super.deactivated(next);
+        for (let layer of this.engine.getModel().getLayers()) {
+            layer.allowRepaint(true);
+        }
+    }
+    fireMouseMoved(event) {
+        this.engine
+            .getModel()
+            .setOffset(this.initialCanvasX + event.displacementX, this.initialCanvasY + event.displacementY);
+        this.engine.repaintCanvas();
+    }
+}
+exports.DragCanvasState = DragCanvasState;
+//# sourceMappingURL=DragCanvasState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js.map
new file mode 100644
index 0000000..c48ffa5
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/DragCanvasState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"DragCanvasState.js","sourceRoot":"","sources":["../../../src/states/DragCanvasState.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,uFAAoH;AAGpH,MAAa,eAAgB,SAAQ,qDAAyB;IAK7D;QACC,KAAK,CAAC;YACL,IAAI,EAAE,aAAa;SACnB,CAAC,CAAC;IACJ,CAAC;IAEK,SAAS,CAAC,IAAI;;;;;YACnB,OAAM,SAAS,YAAC,IAAI,EAAE;YACtB,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,cAAc,EAAE,CAAC;YACxC,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAEtC,4EAA4E;YAC5E,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;gBACrD,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;aAC1B;YAED,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC;YAC1D,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,UAAU,EAAE,CAAC;QAC3D,CAAC;KAAA;IAED,WAAW,CAAC,IAAW;QACtB,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QACxB,KAAK,IAAI,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,EAAE;YACrD,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;SACzB;IACF,CAAC;IAED,cAAc,CAAC,KAAqC;QACnD,IAAI,CAAC,MAAM;aACT,QAAQ,EAAE;aACV,SAAS,CAAC,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,aAAa,EAAE,IAAI,CAAC,cAAc,GAAG,KAAK,CAAC,aAAa,CAAC,CAAC;QAClG,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;CACD;AAtCD,0CAsCC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js
new file mode 100644
index 0000000..b67d5d7
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js
@@ -0,0 +1,49 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const AbstractDisplacementState_1 = require("../core-state/AbstractDisplacementState");
+const Action_1 = require("../core-actions/Action");
+const BasePositionModel_1 = require("../core-models/BasePositionModel");
+class MoveItemsState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor() {
+        super({
+            name: 'move-items'
+        });
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                if (!element.isSelected()) {
+                    this.engine.getModel().clearSelection();
+                }
+                element.setSelected(true);
+                this.engine.repaintCanvas();
+            }
+        }));
+    }
+    activated(previous) {
+        super.activated(previous);
+        this.initialPositions = {};
+    }
+    fireMouseMoved(event) {
+        const items = this.engine.getModel().getSelectedEntities();
+        const model = this.engine.getModel();
+        for (let item of items) {
+            if (item instanceof BasePositionModel_1.BasePositionModel) {
+                if (item.isLocked()) {
+                    continue;
+                }
+                if (!this.initialPositions[item.getID()]) {
+                    this.initialPositions[item.getID()] = {
+                        point: item.getPosition(),
+                        item: item
+                    };
+                }
+                const pos = this.initialPositions[item.getID()].point;
+                item.setPosition(model.getGridPosition(pos.x + event.virtualDisplacementX), model.getGridPosition(pos.y + event.virtualDisplacementY));
+            }
+        }
+        this.engine.repaintCanvas();
+    }
+}
+exports.MoveItemsState = MoveItemsState;
+//# sourceMappingURL=MoveItemsState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js.map
new file mode 100644
index 0000000..076ffc2
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/MoveItemsState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"MoveItemsState.js","sourceRoot":"","sources":["../../../src/states/MoveItemsState.ts"],"names":[],"mappings":";;AAAA,uFAAoH;AAEpH,mDAAwE;AACxE,wEAAqE;AAKrE,MAAa,cAAsD,SAAQ,qDAA4B;IAQtG;QACC,KAAK,CAAC;YACL,IAAI,EAAE,YAAY;SAClB,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAAoC,EAAE,EAAE;gBAC9C,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBACxE,IAAI,CAAC,OAAO,CAAC,UAAU,EAAE,EAAE;oBAC1B,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,cAAc,EAAE,CAAC;iBACxC;gBACD,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;gBAC1B,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;YAC7B,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;IAED,SAAS,CAAC,QAAe;QACxB,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAC1B,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC5B,CAAC;IAED,cAAc,CAAC,KAAqC;QACnD,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,mBAAmB,EAAE,CAAC;QAC3D,MAAM,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;QACrC,KAAK,IAAI,IAAI,IAAI,KAAK,EAAE;YACvB,IAAI,IAAI,YAAY,qCAAiB,EAAE;gBACtC,IAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;oBACpB,SAAS;iBACT;gBACD,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE;oBACzC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,GAAG;wBACrC,KAAK,EAAE,IAAI,CAAC,WAAW,EAAE;wBACzB,IAAI,EAAE,IAAI;qBACV,CAAC;iBACF;gBAED,MAAM,GAAG,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC,KAAK,CAAC;gBACtD,IAAI,CAAC,WAAW,CACf,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,oBAAoB,CAAC,EACzD,KAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC,GAAG,KAAK,CAAC,oBAAoB,CAAC,CACzD,CAAC;aACF;SACD;QACD,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;IAC7B,CAAC;CACD;AAxDD,wCAwDC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js
new file mode 100644
index 0000000..d9db206
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js
@@ -0,0 +1,29 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const State_1 = require("../core-state/State");
+const Action_1 = require("../core-actions/Action");
+const SelectionBoxState_1 = require("./SelectionBoxState");
+class SelectingState extends State_1.State {
+    constructor() {
+        super({
+            name: 'selecting'
+        });
+        this.keys = ['shift'];
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                // go into a selection box on the canvas state
+                if (!element) {
+                    this.transitionWithEvent(new SelectionBoxState_1.SelectionBoxState(), event);
+                }
+                else {
+                    element.setSelected(true);
+                    this.engine.repaintCanvas();
+                }
+            }
+        }));
+    }
+}
+exports.SelectingState = SelectingState;
+//# sourceMappingURL=SelectingState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js.map
new file mode 100644
index 0000000..b5a22f0
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectingState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SelectingState.js","sourceRoot":"","sources":["../../../src/states/SelectingState.ts"],"names":[],"mappings":";;AAAA,+CAA4C;AAC5C,mDAAwE;AACxE,2DAAwD;AAGxD,MAAa,cAAe,SAAQ,aAAK;IACxC;QACC,KAAK,CAAC;YACL,IAAI,EAAE,WAAW;SACjB,CAAC,CAAC;QACH,IAAI,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QAEtB,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAExE,8CAA8C;gBAC9C,IAAI,CAAC,OAAO,EAAE;oBACb,IAAI,CAAC,mBAAmB,CAAC,IAAI,qCAAiB,EAAE,EAAE,KAAK,CAAC,CAAC;iBACzD;qBAAM;oBACN,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;oBAC1B,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;iBAC5B;YACF,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CACD;AAxBD,wCAwBC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js
new file mode 100644
index 0000000..3832546
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js
@@ -0,0 +1,61 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const AbstractDisplacementState_1 = require("../core-state/AbstractDisplacementState");
+const SelectionLayerModel_1 = require("../entities/selection/SelectionLayerModel");
+const geometry_1 = require("@projectstorm/geometry");
+class SelectionBoxState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor() {
+        super({
+            name: 'selection-box'
+        });
+    }
+    activated(previous) {
+        super.activated(previous);
+        this.layer = new SelectionLayerModel_1.SelectionLayerModel();
+        this.engine.getModel().addLayer(this.layer);
+    }
+    deactivated(next) {
+        super.deactivated(next);
+        this.layer.remove();
+        this.engine.repaintCanvas();
+    }
+    getBoxDimensions(event) {
+        const rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+        return {
+            left: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,
+            top: rel.y > this.initialYRelative ? this.initialYRelative : rel.y,
+            width: Math.abs(rel.x - this.initialXRelative),
+            height: Math.abs(rel.y - this.initialYRelative),
+            right: rel.x < this.initialXRelative ? this.initialXRelative : rel.x,
+            bottom: rel.y < this.initialYRelative ? this.initialYRelative : rel.y
+        };
+    }
+    fireMouseMoved(event) {
+        this.layer.setBox(this.getBoxDimensions(event));
+        const relative = this.engine.getRelativeMousePoint({
+            clientX: this.initialX,
+            clientY: this.initialY
+        });
+        if (event.virtualDisplacementX < 0) {
+            relative.x -= Math.abs(event.virtualDisplacementX);
+        }
+        if (event.virtualDisplacementY < 0) {
+            relative.y -= Math.abs(event.virtualDisplacementY);
+        }
+        const rect = new geometry_1.Rectangle(relative, Math.abs(event.virtualDisplacementX), Math.abs(event.virtualDisplacementY));
+        for (let model of this.engine.getModel().getSelectionEntities()) {
+            if (model.getBoundingBox) {
+                const bounds = model.getBoundingBox();
+                if (rect.containsPoint(bounds.getTopLeft()) && rect.containsPoint(bounds.getBottomRight())) {
+                    model.setSelected(true);
+                }
+                else {
+                    model.setSelected(false);
+                }
+            }
+        }
+        this.engine.repaintCanvas();
+    }
+}
+exports.SelectionBoxState = SelectionBoxState;
+//# sourceMappingURL=SelectionBoxState.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js.map
new file mode 100644
index 0000000..6ccfefc
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/states/SelectionBoxState.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"SelectionBoxState.js","sourceRoot":"","sources":["../../../src/states/SelectionBoxState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js b/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js
new file mode 100644
index 0000000..3ed8c3b
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js
@@ -0,0 +1,22 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+const React = require("react");
+const _ = require("lodash");
+class PeformanceWidget extends React.Component {
+    shouldComponentUpdate(nextProps, nextState, nextContext) {
+        if (!this.props.model.performanceTune()) {
+            return true;
+        }
+        // deserialization event
+        if (this.props.model !== nextProps.model) {
+            return true;
+        }
+        // change event
+        return !_.isEqual(this.props.serialized, nextProps.serialized);
+    }
+    render() {
+        return this.props.children();
+    }
+}
+exports.PeformanceWidget = PeformanceWidget;
+//# sourceMappingURL=PeformanceWidget.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js.map b/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js.map
new file mode 100644
index 0000000..9cd9f2d
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/dist/es/widgets/PeformanceWidget.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"PeformanceWidget.js","sourceRoot":"","sources":["../../../src/widgets/PeformanceWidget.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,4BAA4B;AAW5B,MAAa,gBAAiB,SAAQ,KAAK,CAAC,SAAuD;IAClG,qBAAqB,CACpB,SAA0C,EAC1C,SAA0C,EAC1C,WAAgB;QAEhB,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,eAAe,EAAE,EAAE;YACxC,OAAO,IAAI,CAAC;SACZ;QACD,wBAAwB;QACxB,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,SAAS,CAAC,KAAK,EAAE;YACzC,OAAO,IAAI,CAAC;SACZ;QAED,eAAe;QACf,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE,SAAS,CAAC,UAAU,CAAC,CAAC;IAChE,CAAC;IAED,MAAM;QACL,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IAC9B,CAAC;CACD;AArBD,4CAqBC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js b/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js
index 77a35ca..862626d 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js
@@ -1,8 +1,1434 @@
-!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["projectstorm/react-canvas-core"]=t():e["projectstorm/react-canvas-core"]=t()}(self,(function(){return(()=>{"use strict";var e={306:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasEngine=void 0;const s=i(804),n=i(705),o=i(482),r=i(924),a=i(159),c=i(335),l=i(602),d=i(373);class h extends o.BaseObserver{constructor(e={}){super(),this.model=null,this.eventBus=new a.ActionEventBus(this),this.stateMachine=new d.StateMachine(this),this.layerFactories=new n.FactoryBank,this.registerFactoryBank(this.layerFactories),this.options=Object.assign({registerDefaultDeleteItemsAction:!0,registerDefaultZoomCanvasAction:!0,repaintDebounceMs:0},e),!0===this.options.registerDefaultZoomCanvasAction&&this.eventBus.registerAction(new c.ZoomCanvasAction),!0===this.options.registerDefaultDeleteItemsAction&&this.eventBus.registerAction(new l.DeleteItemsAction)}getStateMachine(){return this.stateMachine}getRelativeMousePoint(e){const t=this.getRelativePoint(e.clientX,e.clientY);return new r.Point((t.x-this.model.getOffsetX())/(this.model.getZoomLevel()/100),(t.y-this.model.getOffsetY())/(this.model.getZoomLevel()/100))}getRelativePoint(e,t){const i=this.canvas.getBoundingClientRect();return new r.Point(e-i.left,t-i.top)}registerFactoryBank(e){e.registerListener({factoryAdded:e=>{e.factory.setDiagramEngine(this)},factoryRemoved:e=>{e.factory.setDiagramEngine(null)}})}getActionEventBus(){return this.eventBus}getLayerFactories(){return this.layerFactories}getFactoryForLayer(e){return"string"==typeof e?this.layerFactories.getFactory(e):this.layerFactories.getFactory(e.getType())}setModel(e){this.model=e,this.canvas&&requestAnimationFrame((()=>{this.repaintCanvas()}))}getModel(){return this.model}repaintCanvas(e){const{repaintDebounceMs:t}=this.options,i=()=>{this.iterateListeners((e=>{e.repaintCanvas&&e.repaintCanvas()}))};let n=i;if(t>0&&(n=s.debounce(i,t)),e)return new Promise((e=>{const t=this.registerListener({rendered:()=>{e(),t.deregister()}});n()}));n()}setCanvas(e){this.canvas!==e&&(this.canvas=e,e&&this.fireEvent({},"canvasReady"))}getCanvas(){return this.canvas}getMouseElement(e){return null}zoomToFit(){const e=this.canvas.clientWidth/this.canvas.scrollWidth,t=this.canvas.clientHeight/this.canvas.scrollHeight,i=e<t?e:t;this.model.setZoomLevel(this.model.getZoomLevel()*i),this.model.setOffset(0,0),this.repaintCanvas()}}t.CanvasEngine=h},312:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Toolkit=void 0;const s=i(408);class n{static UID(){return n.TESTING?(n.TESTING_UID++,`${n.TESTING_UID}`):"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}static closest(e,t){return document.body.closest?e.closest(t):s(e,t)}}t.Toolkit=n,n.TESTING=!1,n.TESTING_UID=0},602:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeleteItemsAction=void 0;const s=i(402),n=i(804);class o extends s.Action{constructor(e={}){const t=e.keyCodes||[46,8],i=Object.assign({ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1},e.modifiers);super({type:s.InputType.KEY_DOWN,fire:e=>{const{keyCode:s,ctrlKey:o,shiftKey:r,altKey:a,metaKey:c}=e.event;-1!==t.indexOf(s)&&n.isEqual({ctrlKey:o,shiftKey:r,altKey:a,metaKey:c},i)&&(n.forEach(this.engine.getModel().getSelectedEntities(),(e=>{e.isLocked()||e.remove()})),this.engine.repaintCanvas())}})}}t.DeleteItemsAction=o},335:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomCanvasAction=void 0;const s=i(402);class n extends s.Action{constructor(e={}){super({type:s.InputType.MOUSE_WHEEL,fire:t=>{const{event:i}=t;for(let e of this.engine.getModel().getLayers())e.allowRepaint(!1);const s=this.engine.getModel();i.stopPropagation();const n=this.engine.getModel().getZoomLevel()/100;let o=e.inverseZoom?-i.deltaY:i.deltaY;i.ctrlKey&&o%1!=0?o/=3:o/=60,s.getZoomLevel()+o>10&&s.setZoomLevel(s.getZoomLevel()+o);const r=s.getZoomLevel()/100,a=i.currentTarget.getBoundingClientRect(),c=a.width,l=a.height,d=c*r-c*n,h=l*r-l*n,p=i.clientX-a.left,g=i.clientY-a.top,u=(p-s.getOffsetX())/n/c,v=(g-s.getOffsetY())/n/l;s.setOffset(s.getOffsetX()-d*u,s.getOffsetY()-h*v),this.engine.repaintCanvas();for(let e of this.engine.getModel().getLayers())e.allowRepaint(!0)}})}}t.ZoomCanvasAction=n},402:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Action=t.InputType=void 0;const s=i(312);!function(e){e.MOUSE_DOWN="mouse-down",e.MOUSE_UP="mouse-up",e.MOUSE_MOVE="mouse-move",e.MOUSE_WHEEL="mouse-wheel",e.KEY_DOWN="key-down",e.KEY_UP="key-up"}(t.InputType||(t.InputType={}));t.Action=class{constructor(e){this.options=e,this.id=s.Toolkit.UID()}setEngine(e){this.engine=e}}},159:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionEventBus=void 0;const s=i(402),n=i(804);t.ActionEventBus=class{constructor(e){this.actions={},this.engine=e,this.keys={}}getKeys(){return n.keys(this.keys)}registerAction(e){return e.setEngine(this.engine),this.actions[e.id]=e,()=>{this.deregisterAction(e)}}deregisterAction(e){e.setEngine(null),delete this.actions[e.id]}getActionsForType(e){return n.filter(this.actions,(t=>t.options.type===e))}getModelForEvent(e){return e.model?e.model:this.engine.getMouseElement(e.event)}getActionsForEvent(e){const{event:t}=e;return"mousedown"===t.type?this.getActionsForType(s.InputType.MOUSE_DOWN):"mouseup"===t.type?this.getActionsForType(s.InputType.MOUSE_UP):"keydown"===t.type?(this.keys[t.key.toLowerCase()]=!0,this.getActionsForType(s.InputType.KEY_DOWN)):"keyup"===t.type?(delete this.keys[t.key.toLowerCase()],this.getActionsForType(s.InputType.KEY_UP)):"mousemove"===t.type?this.getActionsForType(s.InputType.MOUSE_MOVE):"wheel"===t.type?this.getActionsForType(s.InputType.MOUSE_WHEEL):[]}fireAction(e){const t=this.getActionsForEvent(e);for(let i of t)i.options.fire(e)}}},718:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseEntity=void 0;const s=i(312),n=i(804),o=i(482);class r extends o.BaseObserver{constructor(e={}){super(),this.options=Object.assign({id:s.Toolkit.UID()},e)}getOptions(){return this.options}getID(){return this.options.id}doClone(e={},t){}clone(e={}){if(e[this.options.id])return e[this.options.id];let t=n.cloneDeep(this);return t.options=Object.assign(Object.assign({},this.options),{id:s.Toolkit.UID()}),t.clearListeners(),e[this.options.id]=t,this.doClone(e,t),t}clearListeners(){this.listeners={}}deserialize(e){this.options.id=e.data.id,this.options.locked=e.data.locked}serialize(){return{id:this.options.id,locked:this.options.locked}}fireEvent(e,t){super.fireEvent(Object.assign({entity:this},e),t)}isLocked(){return this.options.locked}setLocked(e=!0){this.options.locked=e,this.fireEvent({locked:e},"lockChanged")}}t.BaseEntity=r},625:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseModel=void 0;const s=i(718),n=i(801);class o extends s.BaseEntity{constructor(e){super(e)}performanceTune(){return!0}getParentCanvasModel(){return this.parent?this.parent instanceof n.CanvasModel?this.parent:this.parent instanceof o?this.parent.getParentCanvasModel():null:null}getParent(){return this.parent}setParent(e){this.parent=e}getSelectionEntities(){return[this]}serialize(){return Object.assign(Object.assign({},super.serialize()),{type:this.options.type,selected:this.options.selected,extras:this.options.extras})}deserialize(e){super.deserialize(e),this.options.extras=e.data.extras,this.options.selected=e.data.selected}getType(){return this.options.type}isSelected(){return this.options.selected}isLocked(){return!!super.isLocked()||!!this.parent&&this.parent.isLocked()}setSelected(e=!0){this.options.selected!==e&&(this.options.selected=e,this.fireEvent({isSelected:e},"selectionChanged"))}remove(){this.fireEvent({},"entityRemoved")}}t.BaseModel=o},966:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BasePositionModel=void 0;const s=i(625),n=i(924);class o extends s.BaseModel{constructor(e){super(e),this.position=e.position||new n.Point(0,0)}setPosition(e,t){this.position="object"==typeof e?e:new n.Point(e,t),this.fireEvent({},"positionChanged")}getBoundingBox(){return new n.Rectangle(this.position,0,0)}deserialize(e){super.deserialize(e),this.position=new n.Point(e.data.x,e.data.y)}serialize(){return Object.assign(Object.assign({},super.serialize()),{x:this.position.x,y:this.position.y})}getPosition(){return this.position}getX(){return this.position.x}getY(){return this.position.y}}t.BasePositionModel=o},619:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractDisplacementState=void 0;const s=i(744),n=i(402);class o extends s.State{constructor(e){super(e),this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:e=>{this.initialX=e.event.clientX,this.initialY=e.event.clientY;const t=this.engine.getRelativePoint(e.event.clientX,e.event.clientY);this.initialXRelative=t.x,this.initialYRelative=t.y}})),this.registerAction(new n.Action({type:n.InputType.MOUSE_MOVE,fire:e=>{const{event:t}=e;0!==t.buttons?this.fireMouseMoved({displacementX:t.clientX-this.initialX,displacementY:t.clientY-this.initialY,virtualDisplacementX:(t.clientX-this.initialX)/(this.engine.getModel().getZoomLevel()/100),virtualDisplacementY:(t.clientY-this.initialY)/(this.engine.getModel().getZoomLevel()/100),event:t}):this.eject()}})),this.registerAction(new n.Action({type:n.InputType.MOUSE_UP,fire:e=>{this.eject()}}))}}t.AbstractDisplacementState=o},744:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;const s=i(402),n=i(804);t.State=class{constructor(e){this.actions=[],this.keys=[],this.childStates=[],this.options=e}setEngine(e){this.engine=e}getOptions(){return this.options}eject(){this.engine.getStateMachine().popState()}transitionWithEvent(e,t){this.engine.getStateMachine().pushState(e),this.engine.getActionEventBus().fireAction(t)}registerAction(e){this.actions.push(e)}tryActivateParentState(e){return this.keys.length>0&&!this.isKeysFullfilled(e)&&(this.eject(),!0)}tryActivateChildState(e){const t=this.findStateToActivate(e);return!!t&&(this.engine.getStateMachine().pushState(t),!0)}findStateToActivate(e){for(let t of this.childStates)if(t.isKeysFullfilled(e))return t;return null}isKeysFullfilled(e){return n.intersection(this.keys,e).length===this.keys.length}activated(e){const t=this.engine.getActionEventBus().getKeys();if(!this.tryActivateParentState(t)&&!this.tryActivateChildState(t)){this.handler1=this.engine.getActionEventBus().registerAction(new s.Action({type:s.InputType.KEY_DOWN,fire:()=>{this.tryActivateChildState(this.engine.getActionEventBus().getKeys())}})),this.handler2=this.engine.getActionEventBus().registerAction(new s.Action({type:s.InputType.KEY_UP,fire:()=>{this.tryActivateParentState(this.engine.getActionEventBus().getKeys())}}));for(let e of this.actions)this.engine.getActionEventBus().registerAction(e)}}deactivated(e){this.handler1&&this.handler1(),this.handler2&&this.handler2();for(let e of this.actions)this.engine.getActionEventBus().deregisterAction(e)}}},373:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StateMachine=void 0;const s=i(804),n=i(482);class o extends n.BaseObserver{constructor(e){super(),this.engine=e,this.stateStack=[]}getCurrentState(){return this.currentState}pushState(e){this.stateStack.push(e),this.setState(e)}popState(){this.stateStack.pop(),this.setState(s.last(this.stateStack))}setState(e){e.setEngine(this.engine),this.currentState&&this.currentState.deactivated(e);const t=this.currentState;this.currentState=e,this.currentState&&(this.currentState.activated(t),this.fireEvent({newState:e},"stateChanged"))}}t.StateMachine=o},256:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractFactory=void 0;t.AbstractFactory=class{constructor(e){this.type=e}setDiagramEngine(e){this.engine=e}setFactoryBank(e){this.bank=e}getType(){return this.type}}},19:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractModelFactory=void 0;const s=i(256);class n extends s.AbstractFactory{}t.AbstractModelFactory=n},388:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractReactFactory=void 0;const s=i(19);class n extends s.AbstractModelFactory{}t.AbstractReactFactory=n},482:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseObserver=void 0;const s=i(312);t.BaseObserver=class{constructor(){this.listeners={}}fireEventInternal(e,t,i){this.iterateListeners((s=>{if(!e&&!i.firing)return!1;s[t]&&s[t](i)}))}fireEvent(e,t){e=Object.assign({firing:!0,stopPropagation:()=>{e.firing=!1}},e),this.fireEventInternal(!0,"eventWillFire",Object.assign(Object.assign({},e),{function:t})),this.fireEventInternal(!1,t,e),this.fireEventInternal(!0,"eventDidFire",Object.assign(Object.assign({},e),{function:t}))}iterateListeners(e){for(let t in this.listeners){if(!1===e(this.listeners[t]))return}}getListenerHandle(e){for(let t in this.listeners)if(this.listeners[t]===e)return{id:t,listener:e,deregister:()=>{delete this.listeners[t]}}}registerListener(e){const t=s.Toolkit.UID();return this.listeners[t]=e,{id:t,listener:e,deregister:()=>{delete this.listeners[t]}}}deregisterListener(e){if("object"==typeof e)return e.deregister(),!0;const t=this.getListenerHandle(e);return!!t&&(t.deregister(),!0)}}},705:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FactoryBank=void 0;const s=i(482),n=i(804);class o extends s.BaseObserver{constructor(){super(),this.factories={}}getFactories(){return n.values(this.factories)}clearFactories(){for(let e in this.factories)this.deregisterFactory(e)}getFactory(e){if(!this.factories[e])throw new Error(`Cannot find factory with type [${e}]`);return this.factories[e]}registerFactory(e){e.setFactoryBank(this),this.factories[e.getType()]=e,this.fireEvent({factory:e},"factoryAdded")}deregisterFactory(e){const t=this.factories[e];t.setFactoryBank(null),delete this.factories[e],this.fireEvent({factory:t},"factoryRemoved")}}t.FactoryBank=o},427:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},801:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasModel=void 0;const s=i(804),n=i(718);class o extends n.BaseEntity{constructor(e={}){super(Object.assign({zoom:100,gridSize:0,offsetX:0,offsetY:0},e)),this.layers=[]}getSelectionEntities(){return s.flatMap(this.layers,(e=>e.getSelectionEntities()))}getSelectedEntities(){return s.filter(this.getSelectionEntities(),(e=>e.isSelected()))}clearSelection(){s.forEach(this.getSelectedEntities(),(e=>{e.setSelected(!1)}))}getModels(){return s.flatMap(this.layers,(e=>s.values(e.getModels())))}addLayer(e){e.setParent(this),e.registerListener({entityRemoved:e=>{}}),this.layers.push(e)}removeLayer(e){const t=this.layers.indexOf(e);return-1!==t&&(this.layers.splice(t,1),!0)}getLayers(){return this.layers}setGridSize(e=0){this.options.gridSize=e,this.fireEvent({size:e},"gridUpdated")}getGridPosition(e){return 0===this.options.gridSize?e:this.options.gridSize*Math.floor((e+this.options.gridSize/2)/this.options.gridSize)}deserializeModel(e,t){const i={},s={},n={},o={data:e,engine:t,registerModel:e=>{i[e.getID()]=e,n[e.getID()]&&n[e.getID()](e)},getModel:e=>i[e]?Promise.resolve(i[e]):(s[e]||(s[e]=new Promise((t=>{n[e]=t}))),s[e])};this.deserialize(o)}deserialize(e){super.deserialize(e),this.options.offsetX=e.data.offsetX,this.options.offsetY=e.data.offsetY,this.options.zoom=e.data.zoom,this.options.gridSize=e.data.gridSize,s.forEach(e.data.layers,(t=>{const i=e.engine.getFactoryForLayer(t.type).generateModel({initialConfig:t});i.deserialize(Object.assign(Object.assign({},e),{data:t})),this.addLayer(i)}))}serialize(){return Object.assign(Object.assign({},super.serialize()),{offsetX:this.options.offsetX,offsetY:this.options.offsetY,zoom:this.options.zoom,gridSize:this.options.gridSize,layers:s.map(this.layers,(e=>e.serialize()))})}setZoomLevel(e){this.options.zoom=e,this.fireEvent({zoom:e},"zoomUpdated")}setOffset(e,t){this.options.offsetX=e,this.options.offsetY=t,this.fireEvent({offsetX:e,offsetY:t},"offsetUpdated")}setOffsetX(e){this.setOffset(e,this.options.offsetY)}setOffsetY(e){this.setOffset(this.options.offsetX,e)}getOffsetY(){return this.options.offsetY}getOffsetX(){return this.options.offsetX}getZoomLevel(){return this.options.zoom}}t.CanvasModel=o},69:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasWidget=void 0;const s=i(297),n=i(826),o=i(177),r=i(643);var a;!function(e){e.Canvas=o.default.div`
+(function webpackUniversalModuleDefinition(root, factory) {
+	if(typeof exports === 'object' && typeof module === 'object')
+		module.exports = factory();
+	else if(typeof define === 'function' && define.amd)
+		define([], factory);
+	else if(typeof exports === 'object')
+		exports["projectstorm/react-canvas-core"] = factory();
+	else
+		root["projectstorm/react-canvas-core"] = factory();
+})(self, function() {
+return /******/ (() => { // webpackBootstrap
+/******/ 	"use strict";
+/******/ 	var __webpack_modules__ = ({
+
+/***/ "./dist/CanvasEngine.js":
+/*!******************************!*\
+  !*** ./dist/CanvasEngine.js ***!
+  \******************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.CanvasEngine = void 0;
+const lodash_1 = __webpack_require__(/*! lodash */ "lodash");
+const FactoryBank_1 = __webpack_require__(/*! ./core/FactoryBank */ "./dist/core/FactoryBank.js");
+const BaseObserver_1 = __webpack_require__(/*! ./core/BaseObserver */ "./dist/core/BaseObserver.js");
+const geometry_1 = __webpack_require__(/*! @projectstorm/geometry */ "@projectstorm/geometry");
+const ActionEventBus_1 = __webpack_require__(/*! ./core-actions/ActionEventBus */ "./dist/core-actions/ActionEventBus.js");
+const ZoomCanvasAction_1 = __webpack_require__(/*! ./actions/ZoomCanvasAction */ "./dist/actions/ZoomCanvasAction.js");
+const DeleteItemsAction_1 = __webpack_require__(/*! ./actions/DeleteItemsAction */ "./dist/actions/DeleteItemsAction.js");
+const StateMachine_1 = __webpack_require__(/*! ./core-state/StateMachine */ "./dist/core-state/StateMachine.js");
+class CanvasEngine extends BaseObserver_1.BaseObserver {
+    constructor(options = {}) {
+        super();
+        this.model = null;
+        this.eventBus = new ActionEventBus_1.ActionEventBus(this);
+        this.stateMachine = new StateMachine_1.StateMachine(this);
+        this.layerFactories = new FactoryBank_1.FactoryBank();
+        this.registerFactoryBank(this.layerFactories);
+        /**
+         * Overrides the standard options with the possible given options
+         */
+        this.options = Object.assign({ registerDefaultDeleteItemsAction: true, registerDefaultZoomCanvasAction: true, repaintDebounceMs: 0 }, options);
+        if (this.options.registerDefaultZoomCanvasAction === true) {
+            this.eventBus.registerAction(new ZoomCanvasAction_1.ZoomCanvasAction());
+        }
+        if (this.options.registerDefaultDeleteItemsAction === true) {
+            this.eventBus.registerAction(new DeleteItemsAction_1.DeleteItemsAction());
+        }
+    }
+    getStateMachine() {
+        return this.stateMachine;
+    }
+    getRelativeMousePoint(event) {
+        const point = this.getRelativePoint(event.clientX, event.clientY);
+        return new geometry_1.Point((point.x - this.model.getOffsetX()) / (this.model.getZoomLevel() / 100.0), (point.y - this.model.getOffsetY()) / (this.model.getZoomLevel() / 100.0));
+    }
+    getRelativePoint(x, y) {
+        const canvasRect = this.canvas.getBoundingClientRect();
+        return new geometry_1.Point(x - canvasRect.left, y - canvasRect.top);
+    }
+    registerFactoryBank(factory) {
+        factory.registerListener({
+            factoryAdded: (event) => {
+                event.factory.setDiagramEngine(this);
+            },
+            factoryRemoved: (event) => {
+                event.factory.setDiagramEngine(null);
+            }
+        });
+    }
+    getActionEventBus() {
+        return this.eventBus;
+    }
+    getLayerFactories() {
+        return this.layerFactories;
+    }
+    getFactoryForLayer(layer) {
+        if (typeof layer === 'string') {
+            return this.layerFactories.getFactory(layer);
+        }
+        return this.layerFactories.getFactory(layer.getType());
+    }
+    setModel(model) {
+        this.model = model;
+        if (this.canvas) {
+            requestAnimationFrame(() => {
+                this.repaintCanvas();
+            });
+        }
+    }
+    getModel() {
+        return this.model;
+    }
+    repaintCanvas(promise) {
+        const { repaintDebounceMs } = this.options;
+        /**
+         * The actual repaint function
+         */
+        const repaint = () => {
+            this.iterateListeners((listener) => {
+                if (listener.repaintCanvas) {
+                    listener.repaintCanvas();
+                }
+            });
+        };
+        // if the `repaintDebounceMs` option is > 0, then apply the debounce
+        let repaintFn = repaint;
+        if (repaintDebounceMs > 0) {
+            repaintFn = lodash_1.debounce(repaint, repaintDebounceMs);
+        }
+        if (promise) {
+            return new Promise((resolve) => {
+                const l = this.registerListener({
+                    rendered: () => {
+                        resolve();
+                        l.deregister();
+                    }
+                });
+                repaintFn();
+            });
+        }
+        repaintFn();
+    }
+    setCanvas(canvas) {
+        if (this.canvas !== canvas) {
+            this.canvas = canvas;
+            if (canvas) {
+                this.fireEvent({}, 'canvasReady');
+            }
+        }
+    }
+    getCanvas() {
+        return this.canvas;
+    }
+    getMouseElement(event) {
+        return null;
+    }
+    zoomToFit() {
+        const xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;
+        const yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;
+        const zoomFactor = xFactor < yFactor ? xFactor : yFactor;
+        this.model.setZoomLevel(this.model.getZoomLevel() * zoomFactor);
+        this.model.setOffset(0, 0);
+        this.repaintCanvas();
+    }
+}
+exports.CanvasEngine = CanvasEngine;
+
+
+/***/ }),
+
+/***/ "./dist/Toolkit.js":
+/*!*************************!*\
+  !*** ./dist/Toolkit.js ***!
+  \*************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.Toolkit = void 0;
+const closest = __webpack_require__(/*! closest */ "closest");
+class Toolkit {
+    /**
+     * Generats a unique ID (thanks Stack overflow :3)
+     * @returns {String}
+     */
+    static UID() {
+        if (Toolkit.TESTING) {
+            Toolkit.TESTING_UID++;
+            return `${Toolkit.TESTING_UID}`;
+        }
+        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
+            const r = (Math.random() * 16) | 0;
+            const v = c === 'x' ? r : (r & 0x3) | 0x8;
+            return v.toString(16);
+        });
+    }
+    /**
+     * Finds the closest element as a polyfill
+     */
+    static closest(element, selector) {
+        if (document.body.closest) {
+            return element.closest(selector);
+        }
+        return closest(element, selector);
+    }
+}
+exports.Toolkit = Toolkit;
+Toolkit.TESTING = false;
+Toolkit.TESTING_UID = 0;
+
+
+/***/ }),
+
+/***/ "./dist/actions/DeleteItemsAction.js":
+/*!*******************************************!*\
+  !*** ./dist/actions/DeleteItemsAction.js ***!
+  \*******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.DeleteItemsAction = void 0;
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+/**
+ * Deletes all selected items
+ */
+class DeleteItemsAction extends Action_1.Action {
+    constructor(options = {}) {
+        const keyCodes = options.keyCodes || [46, 8];
+        const modifiers = Object.assign({ ctrlKey: false, shiftKey: false, altKey: false, metaKey: false }, options.modifiers);
+        super({
+            type: Action_1.InputType.KEY_DOWN,
+            fire: (event) => {
+                const { keyCode, ctrlKey, shiftKey, altKey, metaKey } = event.event;
+                if (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({ ctrlKey, shiftKey, altKey, metaKey }, modifiers)) {
+                    _.forEach(this.engine.getModel().getSelectedEntities(), (model) => {
+                        // only delete items which are not locked
+                        if (!model.isLocked()) {
+                            model.remove();
+                        }
+                    });
+                    this.engine.repaintCanvas();
+                }
+            }
+        });
+    }
+}
+exports.DeleteItemsAction = DeleteItemsAction;
+
+
+/***/ }),
+
+/***/ "./dist/actions/ZoomCanvasAction.js":
+/*!******************************************!*\
+  !*** ./dist/actions/ZoomCanvasAction.js ***!
+  \******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.ZoomCanvasAction = void 0;
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+class ZoomCanvasAction extends Action_1.Action {
+    constructor(options = {}) {
+        super({
+            type: Action_1.InputType.MOUSE_WHEEL,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                // we can block layer rendering because we are only targeting the transforms
+                for (let layer of this.engine.getModel().getLayers()) {
+                    layer.allowRepaint(false);
+                }
+                const model = this.engine.getModel();
+                event.stopPropagation();
+                const oldZoomFactor = this.engine.getModel().getZoomLevel() / 100;
+                let scrollDelta = options.inverseZoom ? -event.deltaY : event.deltaY;
+                //check if it is pinch gesture
+                if (event.ctrlKey && scrollDelta % 1 !== 0) {
+                    /*
+                        Chrome and Firefox sends wheel event with deltaY that
+                        have fractional part, also `ctrlKey` prop of the event is true
+                        though ctrl isn't pressed
+                    */
+                    scrollDelta /= 3;
+                }
+                else {
+                    scrollDelta /= 60;
+                }
+                if (model.getZoomLevel() + scrollDelta > 10) {
+                    model.setZoomLevel(model.getZoomLevel() + scrollDelta);
+                }
+                const zoomFactor = model.getZoomLevel() / 100;
+                const boundingRect = event.currentTarget.getBoundingClientRect();
+                const clientWidth = boundingRect.width;
+                const clientHeight = boundingRect.height;
+                // compute difference between rect before and after scroll
+                const widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;
+                const heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;
+                // compute mouse coords relative to canvas
+                const clientX = event.clientX - boundingRect.left;
+                const clientY = event.clientY - boundingRect.top;
+                // compute width and height increment factor
+                const xFactor = (clientX - model.getOffsetX()) / oldZoomFactor / clientWidth;
+                const yFactor = (clientY - model.getOffsetY()) / oldZoomFactor / clientHeight;
+                model.setOffset(model.getOffsetX() - widthDiff * xFactor, model.getOffsetY() - heightDiff * yFactor);
+                this.engine.repaintCanvas();
+                // re-enable rendering
+                for (let layer of this.engine.getModel().getLayers()) {
+                    layer.allowRepaint(true);
+                }
+            }
+        });
+    }
+}
+exports.ZoomCanvasAction = ZoomCanvasAction;
+
+
+/***/ }),
+
+/***/ "./dist/core-actions/Action.js":
+/*!*************************************!*\
+  !*** ./dist/core-actions/Action.js ***!
+  \*************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.Action = exports.InputType = void 0;
+const Toolkit_1 = __webpack_require__(/*! ../Toolkit */ "./dist/Toolkit.js");
+var InputType;
+(function (InputType) {
+    InputType["MOUSE_DOWN"] = "mouse-down";
+    InputType["MOUSE_UP"] = "mouse-up";
+    InputType["MOUSE_MOVE"] = "mouse-move";
+    InputType["MOUSE_WHEEL"] = "mouse-wheel";
+    InputType["KEY_DOWN"] = "key-down";
+    InputType["KEY_UP"] = "key-up";
+    InputType["TOUCH_START"] = "touch-start";
+    InputType["TOUCH_END"] = "touch-end";
+    InputType["TOUCH_MOVE"] = "touch-move";
+})(InputType = exports.InputType || (exports.InputType = {}));
+class Action {
+    constructor(options) {
+        this.options = options;
+        this.id = Toolkit_1.Toolkit.UID();
+    }
+    setEngine(engine) {
+        this.engine = engine;
+    }
+}
+exports.Action = Action;
+
+
+/***/ }),
+
+/***/ "./dist/core-actions/ActionEventBus.js":
+/*!*********************************************!*\
+  !*** ./dist/core-actions/ActionEventBus.js ***!
+  \*********************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.ActionEventBus = void 0;
+const Action_1 = __webpack_require__(/*! ./Action */ "./dist/core-actions/Action.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+class ActionEventBus {
+    constructor(engine) {
+        this.actions = {};
+        this.engine = engine;
+        this.keys = {};
+    }
+    getKeys() {
+        return _.keys(this.keys);
+    }
+    registerAction(action) {
+        action.setEngine(this.engine);
+        this.actions[action.id] = action;
+        return () => {
+            this.deregisterAction(action);
+        };
+    }
+    deregisterAction(action) {
+        action.setEngine(null);
+        delete this.actions[action.id];
+    }
+    getActionsForType(type) {
+        return _.filter(this.actions, (action) => {
+            return action.options.type === type;
+        });
+    }
+    getModelForEvent(actionEvent) {
+        if (actionEvent.model) {
+            return actionEvent.model;
+        }
+        return this.engine.getMouseElement(actionEvent.event);
+    }
+    getActionsForEvent(actionEvent) {
+        const { event } = actionEvent;
+        if (event.type === 'mousedown') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_DOWN);
+        }
+        else if (event.type === 'mouseup') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_UP);
+        }
+        else if (event.type === 'keydown') {
+            // store the recorded key
+            this.keys[event.key.toLowerCase()] = true;
+            return this.getActionsForType(Action_1.InputType.KEY_DOWN);
+        }
+        else if (event.type === 'keyup') {
+            // delete the recorded key
+            delete this.keys[event.key.toLowerCase()];
+            return this.getActionsForType(Action_1.InputType.KEY_UP);
+        }
+        else if (event.type === 'mousemove') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_MOVE);
+        }
+        else if (event.type === 'wheel') {
+            return this.getActionsForType(Action_1.InputType.MOUSE_WHEEL);
+        }
+        else if (event.type === 'touchstart') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_START);
+        }
+        else if (event.type === 'touchend') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_END);
+        }
+        else if (event.type === 'touchmove') {
+            return this.getActionsForType(Action_1.InputType.TOUCH_MOVE);
+        }
+        return [];
+    }
+    fireAction(actionEvent) {
+        const actions = this.getActionsForEvent(actionEvent);
+        for (let action of actions) {
+            action.options.fire(actionEvent);
+        }
+    }
+}
+exports.ActionEventBus = ActionEventBus;
+
+
+/***/ }),
+
+/***/ "./dist/core-models/BaseEntity.js":
+/*!****************************************!*\
+  !*** ./dist/core-models/BaseEntity.js ***!
+  \****************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.BaseEntity = void 0;
+const Toolkit_1 = __webpack_require__(/*! ../Toolkit */ "./dist/Toolkit.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+const BaseObserver_1 = __webpack_require__(/*! ../core/BaseObserver */ "./dist/core/BaseObserver.js");
+class BaseEntity extends BaseObserver_1.BaseObserver {
+    constructor(options = {}) {
+        super();
+        this.options = Object.assign({ id: Toolkit_1.Toolkit.UID() }, options);
+    }
+    getOptions() {
+        return this.options;
+    }
+    getID() {
+        return this.options.id;
+    }
+    doClone(lookupTable = {}, clone) {
+        /*noop*/
+    }
+    clone(lookupTable = {}) {
+        // try and use an existing clone first
+        if (lookupTable[this.options.id]) {
+            return lookupTable[this.options.id];
+        }
+        let clone = _.cloneDeep(this);
+        clone.options = Object.assign(Object.assign({}, this.options), { id: Toolkit_1.Toolkit.UID() });
+        clone.clearListeners();
+        lookupTable[this.options.id] = clone;
+        this.doClone(lookupTable, clone);
+        return clone;
+    }
+    clearListeners() {
+        this.listeners = {};
+    }
+    deserialize(event) {
+        this.options.id = event.data.id;
+        this.options.locked = event.data.locked;
+    }
+    serialize() {
+        return {
+            id: this.options.id,
+            locked: this.options.locked
+        };
+    }
+    fireEvent(event, k) {
+        super.fireEvent(Object.assign({ entity: this }, event), k);
+    }
+    isLocked() {
+        return this.options.locked;
+    }
+    setLocked(locked = true) {
+        this.options.locked = locked;
+        this.fireEvent({
+            locked: locked
+        }, 'lockChanged');
+    }
+}
+exports.BaseEntity = BaseEntity;
+
+
+/***/ }),
+
+/***/ "./dist/core-models/BaseModel.js":
+/*!***************************************!*\
+  !*** ./dist/core-models/BaseModel.js ***!
+  \***************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.BaseModel = void 0;
+const BaseEntity_1 = __webpack_require__(/*! ./BaseEntity */ "./dist/core-models/BaseEntity.js");
+const CanvasModel_1 = __webpack_require__(/*! ../entities/canvas/CanvasModel */ "./dist/entities/canvas/CanvasModel.js");
+class BaseModel extends BaseEntity_1.BaseEntity {
+    constructor(options) {
+        super(options);
+    }
+    performanceTune() {
+        return true;
+    }
+    getParentCanvasModel() {
+        if (!this.parent) {
+            return null;
+        }
+        if (this.parent instanceof CanvasModel_1.CanvasModel) {
+            return this.parent;
+        }
+        else if (this.parent instanceof BaseModel) {
+            return this.parent.getParentCanvasModel();
+        }
+        return null;
+    }
+    getParent() {
+        return this.parent;
+    }
+    setParent(parent) {
+        this.parent = parent;
+    }
+    getSelectionEntities() {
+        return [this];
+    }
+    serialize() {
+        return Object.assign(Object.assign({}, super.serialize()), { type: this.options.type, selected: this.options.selected, extras: this.options.extras });
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.extras = event.data.extras;
+        this.options.selected = event.data.selected;
+    }
+    getType() {
+        return this.options.type;
+    }
+    isSelected() {
+        return this.options.selected;
+    }
+    isLocked() {
+        const locked = super.isLocked();
+        if (locked) {
+            return true;
+        }
+        // delegate this call up to the parent
+        if (this.parent) {
+            return this.parent.isLocked();
+        }
+        return false;
+    }
+    setSelected(selected = true) {
+        if (this.options.selected !== selected) {
+            this.options.selected = selected;
+            this.fireEvent({
+                isSelected: selected
+            }, 'selectionChanged');
+        }
+    }
+    remove() {
+        this.fireEvent({}, 'entityRemoved');
+    }
+}
+exports.BaseModel = BaseModel;
+
+
+/***/ }),
+
+/***/ "./dist/core-models/BasePositionModel.js":
+/*!***********************************************!*\
+  !*** ./dist/core-models/BasePositionModel.js ***!
+  \***********************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.BasePositionModel = void 0;
+const BaseModel_1 = __webpack_require__(/*! ./BaseModel */ "./dist/core-models/BaseModel.js");
+const geometry_1 = __webpack_require__(/*! @projectstorm/geometry */ "@projectstorm/geometry");
+class BasePositionModel extends BaseModel_1.BaseModel {
+    constructor(options) {
+        super(options);
+        this.position = options.position || new geometry_1.Point(0, 0);
+    }
+    setPosition(x, y) {
+        if (typeof x === 'object') {
+            this.position = x;
+        }
+        else if (typeof x) {
+            this.position = new geometry_1.Point(x, y);
+        }
+        this.fireEvent({}, 'positionChanged');
+    }
+    getBoundingBox() {
+        return new geometry_1.Rectangle(this.position, 0, 0);
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.position = new geometry_1.Point(event.data.x, event.data.y);
+    }
+    serialize() {
+        return Object.assign(Object.assign({}, super.serialize()), { x: this.position.x, y: this.position.y });
+    }
+    getPosition() {
+        return this.position;
+    }
+    getX() {
+        return this.position.x;
+    }
+    getY() {
+        return this.position.y;
+    }
+}
+exports.BasePositionModel = BasePositionModel;
+
+
+/***/ }),
+
+/***/ "./dist/core-state/AbstractDisplacementState.js":
+/*!******************************************************!*\
+  !*** ./dist/core-state/AbstractDisplacementState.js ***!
+  \******************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.AbstractDisplacementState = void 0;
+const State_1 = __webpack_require__(/*! ./State */ "./dist/core-state/State.js");
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+class AbstractDisplacementState extends State_1.State {
+    constructor(options) {
+        super(options);
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (actionEvent) => {
+                this.initialX = actionEvent.event.clientX;
+                this.initialY = actionEvent.event.clientY;
+                const rel = this.engine.getRelativePoint(actionEvent.event.clientX, actionEvent.event.clientY);
+                this.initialXRelative = rel.x;
+                this.initialYRelative = rel.y;
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_MOVE,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                if (event.buttons === 0) {
+                    // If buttons is 0, it means the mouse is not down, the user may have released it
+                    // outside of the canvas, then we eject the state
+                    this.eject();
+                    return;
+                }
+                this.fireMouseMoved({
+                    displacementX: event.clientX - this.initialX,
+                    displacementY: event.clientY - this.initialY,
+                    virtualDisplacementX: (event.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    virtualDisplacementY: (event.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    event: event
+                });
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_UP,
+            fire: (event) => {
+                // when the mouse if up, we eject this state
+                this.eject();
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_START,
+            fire: (actionEvent) => {
+                const touch = actionEvent.event.touches[0];
+                this.initialX = touch.clientX;
+                this.initialY = touch.clientY;
+                const rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+                this.initialXRelative = rel.x;
+                this.initialYRelative = rel.y;
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_MOVE,
+            fire: (actionEvent) => {
+                const { event } = actionEvent;
+                const touch = event.touches[0];
+                this.fireMouseMoved({
+                    displacementX: touch.clientX - this.initialX,
+                    displacementY: touch.clientY - this.initialY,
+                    virtualDisplacementX: (touch.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    virtualDisplacementY: (touch.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),
+                    event: event
+                });
+            }
+        }));
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_END,
+            fire: (event) => {
+                // when the mouse if up, we eject this state
+                this.eject();
+            }
+        }));
+    }
+}
+exports.AbstractDisplacementState = AbstractDisplacementState;
+
+
+/***/ }),
+
+/***/ "./dist/core-state/State.js":
+/*!**********************************!*\
+  !*** ./dist/core-state/State.js ***!
+  \**********************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.State = void 0;
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+class State {
+    constructor(options) {
+        this.actions = [];
+        this.keys = [];
+        this.childStates = [];
+        this.options = options;
+    }
+    setEngine(engine) {
+        this.engine = engine;
+    }
+    getOptions() {
+        return this.options;
+    }
+    eject() {
+        this.engine.getStateMachine().popState();
+    }
+    transitionWithEvent(state, event) {
+        this.engine.getStateMachine().pushState(state);
+        this.engine.getActionEventBus().fireAction(event);
+    }
+    registerAction(action) {
+        this.actions.push(action);
+    }
+    tryActivateParentState(keys) {
+        if (this.keys.length > 0 && !this.isKeysFullfilled(keys)) {
+            this.eject();
+            return true;
+        }
+        return false;
+    }
+    tryActivateChildState(keys) {
+        const state = this.findStateToActivate(keys);
+        if (state) {
+            this.engine.getStateMachine().pushState(state);
+            return true;
+        }
+        return false;
+    }
+    findStateToActivate(keys) {
+        for (let child of this.childStates) {
+            if (child.isKeysFullfilled(keys)) {
+                return child;
+            }
+        }
+        return null;
+    }
+    isKeysFullfilled(keys) {
+        return _.intersection(this.keys, keys).length === this.keys.length;
+    }
+    activated(previous) {
+        const keys = this.engine.getActionEventBus().getKeys();
+        if (this.tryActivateParentState(keys) || this.tryActivateChildState(keys)) {
+            return;
+        }
+        // perhaps we need to pop again?
+        this.handler1 = this.engine.getActionEventBus().registerAction(new Action_1.Action({
+            type: Action_1.InputType.KEY_DOWN,
+            fire: () => {
+                this.tryActivateChildState(this.engine.getActionEventBus().getKeys());
+            }
+        }));
+        this.handler2 = this.engine.getActionEventBus().registerAction(new Action_1.Action({
+            type: Action_1.InputType.KEY_UP,
+            fire: () => {
+                this.tryActivateParentState(this.engine.getActionEventBus().getKeys());
+            }
+        }));
+        for (let action of this.actions) {
+            this.engine.getActionEventBus().registerAction(action);
+        }
+    }
+    deactivated(next) {
+        if (this.handler1) {
+            this.handler1();
+        }
+        if (this.handler2) {
+            this.handler2();
+        }
+        // if this happens, we are going into heirachial state machine mode
+        for (let action of this.actions) {
+            this.engine.getActionEventBus().deregisterAction(action);
+        }
+    }
+}
+exports.State = State;
+
+
+/***/ }),
+
+/***/ "./dist/core-state/StateMachine.js":
+/*!*****************************************!*\
+  !*** ./dist/core-state/StateMachine.js ***!
+  \*****************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.StateMachine = void 0;
+const _ = __webpack_require__(/*! lodash */ "lodash");
+const BaseObserver_1 = __webpack_require__(/*! ../core/BaseObserver */ "./dist/core/BaseObserver.js");
+class StateMachine extends BaseObserver_1.BaseObserver {
+    constructor(engine) {
+        super();
+        this.engine = engine;
+        this.stateStack = [];
+    }
+    getCurrentState() {
+        return this.currentState;
+    }
+    pushState(state) {
+        this.stateStack.push(state);
+        this.setState(state);
+    }
+    popState() {
+        this.stateStack.pop();
+        this.setState(_.last(this.stateStack));
+    }
+    setState(state) {
+        state.setEngine(this.engine);
+        // if no state object, get the initial state
+        if (this.currentState) {
+            this.currentState.deactivated(state);
+        }
+        const old = this.currentState;
+        this.currentState = state;
+        if (this.currentState) {
+            this.currentState.activated(old);
+            this.fireEvent({
+                newState: state
+            }, 'stateChanged');
+        }
+    }
+}
+exports.StateMachine = StateMachine;
+
+
+/***/ }),
+
+/***/ "./dist/core/AbstractFactory.js":
+/*!**************************************!*\
+  !*** ./dist/core/AbstractFactory.js ***!
+  \**************************************/
+/***/ ((__unused_webpack_module, exports) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.AbstractFactory = void 0;
+/**
+ * Base factory for all the different types of entities.
+ * Gets registered with the engine, and is used to generate models
+ */
+class AbstractFactory {
+    constructor(type) {
+        this.type = type;
+    }
+    setDiagramEngine(engine) {
+        this.engine = engine;
+    }
+    setFactoryBank(bank) {
+        this.bank = bank;
+    }
+    getType() {
+        return this.type;
+    }
+}
+exports.AbstractFactory = AbstractFactory;
+
+
+/***/ }),
+
+/***/ "./dist/core/AbstractModelFactory.js":
+/*!*******************************************!*\
+  !*** ./dist/core/AbstractModelFactory.js ***!
+  \*******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.AbstractModelFactory = void 0;
+const AbstractFactory_1 = __webpack_require__(/*! ./AbstractFactory */ "./dist/core/AbstractFactory.js");
+class AbstractModelFactory extends AbstractFactory_1.AbstractFactory {
+}
+exports.AbstractModelFactory = AbstractModelFactory;
+
+
+/***/ }),
+
+/***/ "./dist/core/AbstractReactFactory.js":
+/*!*******************************************!*\
+  !*** ./dist/core/AbstractReactFactory.js ***!
+  \*******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.AbstractReactFactory = void 0;
+const AbstractModelFactory_1 = __webpack_require__(/*! ./AbstractModelFactory */ "./dist/core/AbstractModelFactory.js");
+/**
+ * Further extends the AbstractFactory to add widget generation capability.
+ */
+class AbstractReactFactory extends AbstractModelFactory_1.AbstractModelFactory {
+}
+exports.AbstractReactFactory = AbstractReactFactory;
+
+
+/***/ }),
+
+/***/ "./dist/core/BaseObserver.js":
+/*!***********************************!*\
+  !*** ./dist/core/BaseObserver.js ***!
+  \***********************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.BaseObserver = void 0;
+const Toolkit_1 = __webpack_require__(/*! ../Toolkit */ "./dist/Toolkit.js");
+/**
+ * Base observer pattern class for working with listeners
+ */
+class BaseObserver {
+    constructor() {
+        this.listeners = {};
+    }
+    fireEventInternal(fire, k, event) {
+        this.iterateListeners((listener) => {
+            // returning false here will instruct itteration to stop
+            if (!fire && !event.firing) {
+                return false;
+            }
+            // fire selected listener
+            if (listener[k]) {
+                listener[k](event);
+            }
+        });
+    }
+    fireEvent(event, k) {
+        event = Object.assign({ firing: true, stopPropagation: () => {
+                event.firing = false;
+            } }, event);
+        // fire pre
+        this.fireEventInternal(true, 'eventWillFire', Object.assign(Object.assign({}, event), { function: k }));
+        // fire main event
+        this.fireEventInternal(false, k, event);
+        // fire post
+        this.fireEventInternal(true, 'eventDidFire', Object.assign(Object.assign({}, event), { function: k }));
+    }
+    iterateListeners(cb) {
+        for (let id in this.listeners) {
+            const res = cb(this.listeners[id]);
+            // cancel itteration on false
+            if (res === false) {
+                return;
+            }
+        }
+    }
+    getListenerHandle(listener) {
+        for (let id in this.listeners) {
+            if (this.listeners[id] === listener) {
+                return {
+                    id: id,
+                    listener: listener,
+                    deregister: () => {
+                        delete this.listeners[id];
+                    }
+                };
+            }
+        }
+    }
+    registerListener(listener) {
+        const id = Toolkit_1.Toolkit.UID();
+        this.listeners[id] = listener;
+        return {
+            id: id,
+            listener: listener,
+            deregister: () => {
+                delete this.listeners[id];
+            }
+        };
+    }
+    deregisterListener(listener) {
+        if (typeof listener === 'object') {
+            listener.deregister();
+            return true;
+        }
+        const handle = this.getListenerHandle(listener);
+        if (handle) {
+            handle.deregister();
+            return true;
+        }
+        return false;
+    }
+}
+exports.BaseObserver = BaseObserver;
+
+
+/***/ }),
+
+/***/ "./dist/core/FactoryBank.js":
+/*!**********************************!*\
+  !*** ./dist/core/FactoryBank.js ***!
+  \**********************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.FactoryBank = void 0;
+const BaseObserver_1 = __webpack_require__(/*! ./BaseObserver */ "./dist/core/BaseObserver.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+/**
+ * Store and managed Factories that extend from Abstractfactory
+ */
+class FactoryBank extends BaseObserver_1.BaseObserver {
+    constructor() {
+        super();
+        this.factories = {};
+    }
+    getFactories() {
+        return _.values(this.factories);
+    }
+    clearFactories() {
+        for (let factory in this.factories) {
+            this.deregisterFactory(factory);
+        }
+    }
+    getFactory(type) {
+        if (!this.factories[type]) {
+            throw new Error(`Cannot find factory with type [${type}]`);
+        }
+        return this.factories[type];
+    }
+    registerFactory(factory) {
+        factory.setFactoryBank(this);
+        this.factories[factory.getType()] = factory;
+        // todo fixme
+        this.fireEvent({ factory }, 'factoryAdded');
+    }
+    deregisterFactory(type) {
+        const factory = this.factories[type];
+        factory.setFactoryBank(null);
+        delete this.factories[type];
+        // todo fixme
+        this.fireEvent({ factory }, 'factoryRemoved');
+    }
+}
+exports.FactoryBank = FactoryBank;
+
+
+/***/ }),
+
+/***/ "./dist/core/ModelGeometryInterface.js":
+/*!*********************************************!*\
+  !*** ./dist/core/ModelGeometryInterface.js ***!
+  \*********************************************/
+/***/ ((__unused_webpack_module, exports) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+
+
+/***/ }),
+
+/***/ "./dist/entities/canvas/CanvasModel.js":
+/*!*********************************************!*\
+  !*** ./dist/entities/canvas/CanvasModel.js ***!
+  \*********************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.CanvasModel = void 0;
+const _ = __webpack_require__(/*! lodash */ "lodash");
+const BaseEntity_1 = __webpack_require__(/*! ../../core-models/BaseEntity */ "./dist/core-models/BaseEntity.js");
+class CanvasModel extends BaseEntity_1.BaseEntity {
+    constructor(options = {}) {
+        super(Object.assign({ zoom: 100, gridSize: 0, offsetX: 0, offsetY: 0 }, options));
+        this.layers = [];
+    }
+    getSelectionEntities() {
+        return _.flatMap(this.layers, (layer) => {
+            return layer.getSelectionEntities();
+        });
+    }
+    getSelectedEntities() {
+        return _.filter(this.getSelectionEntities(), (ob) => {
+            return ob.isSelected();
+        });
+    }
+    clearSelection() {
+        _.forEach(this.getSelectedEntities(), (element) => {
+            element.setSelected(false);
+        });
+    }
+    getModels() {
+        return _.flatMap(this.layers, (layer) => {
+            return _.values(layer.getModels());
+        });
+    }
+    addLayer(layer) {
+        layer.setParent(this);
+        layer.registerListener({
+            entityRemoved: (event) => { }
+        });
+        this.layers.push(layer);
+    }
+    removeLayer(layer) {
+        const index = this.layers.indexOf(layer);
+        if (index !== -1) {
+            this.layers.splice(index, 1);
+            return true;
+        }
+        return false;
+    }
+    getLayers() {
+        return this.layers;
+    }
+    setGridSize(size = 0) {
+        this.options.gridSize = size;
+        this.fireEvent({ size: size }, 'gridUpdated');
+    }
+    getGridPosition(pos) {
+        if (this.options.gridSize === 0) {
+            return pos;
+        }
+        return this.options.gridSize * Math.floor((pos + this.options.gridSize / 2) / this.options.gridSize);
+    }
+    deserializeModel(data, engine) {
+        const models = {};
+        const promises = {};
+        const resolvers = {};
+        const event = {
+            data: data,
+            engine: engine,
+            registerModel: (model) => {
+                models[model.getID()] = model;
+                if (resolvers[model.getID()]) {
+                    resolvers[model.getID()](model);
+                }
+            },
+            getModel(id) {
+                if (models[id]) {
+                    return Promise.resolve(models[id]);
+                }
+                if (!promises[id]) {
+                    promises[id] = new Promise((resolve) => {
+                        resolvers[id] = resolve;
+                    });
+                }
+                return promises[id];
+            }
+        };
+        this.deserialize(event);
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.offsetX = event.data.offsetX;
+        this.options.offsetY = event.data.offsetY;
+        this.options.zoom = event.data.zoom;
+        this.options.gridSize = event.data.gridSize;
+        _.forEach(event.data.layers, (layer) => {
+            const layerOb = event.engine.getFactoryForLayer(layer.type).generateModel({
+                initialConfig: layer
+            });
+            layerOb.deserialize(Object.assign(Object.assign({}, event), { data: layer }));
+            this.addLayer(layerOb);
+        });
+    }
+    serialize() {
+        return Object.assign(Object.assign({}, super.serialize()), { offsetX: this.options.offsetX, offsetY: this.options.offsetY, zoom: this.options.zoom, gridSize: this.options.gridSize, layers: _.map(this.layers, (layer) => {
+                return layer.serialize();
+            }) });
+    }
+    setZoomLevel(zoom) {
+        this.options.zoom = zoom;
+        this.fireEvent({ zoom }, 'zoomUpdated');
+    }
+    setOffset(offsetX, offsetY) {
+        this.options.offsetX = offsetX;
+        this.options.offsetY = offsetY;
+        this.fireEvent({ offsetX, offsetY }, 'offsetUpdated');
+    }
+    setOffsetX(offsetX) {
+        this.setOffset(offsetX, this.options.offsetY);
+    }
+    setOffsetY(offsetY) {
+        this.setOffset(this.options.offsetX, offsetY);
+    }
+    getOffsetY() {
+        return this.options.offsetY;
+    }
+    getOffsetX() {
+        return this.options.offsetX;
+    }
+    getZoomLevel() {
+        return this.options.zoom;
+    }
+}
+exports.CanvasModel = CanvasModel;
+
+
+/***/ }),
+
+/***/ "./dist/entities/canvas/CanvasWidget.js":
+/*!**********************************************!*\
+  !*** ./dist/entities/canvas/CanvasWidget.js ***!
+  \**********************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.CanvasWidget = void 0;
+const React = __webpack_require__(/*! react */ "react");
+const TransformLayerWidget_1 = __webpack_require__(/*! ../layer/TransformLayerWidget */ "./dist/entities/layer/TransformLayerWidget.js");
+const styled_1 = __webpack_require__(/*! @emotion/styled */ "@emotion/styled");
+const SmartLayerWidget_1 = __webpack_require__(/*! ../layer/SmartLayerWidget */ "./dist/entities/layer/SmartLayerWidget.js");
+var S;
+(function (S) {
+    S.Canvas = styled_1.default.div `
 		position: relative;
 		cursor: move;
 		overflow: hidden;
-	`}(a||(a={}));class c extends s.Component{constructor(e){super(e),this.ref=s.createRef(),this.state={action:null,diagramEngineListener:null}}componentWillUnmount(){this.props.engine.deregisterListener(this.canvasListener),this.props.engine.setCanvas(null),document.removeEventListener("keyup",this.keyUp),document.removeEventListener("keydown",this.keyDown)}registerCanvas(){this.props.engine.setCanvas(this.ref.current),this.props.engine.iterateListeners((e=>{e.rendered&&e.rendered()}))}componentDidUpdate(){this.registerCanvas()}componentDidMount(){this.canvasListener=this.props.engine.registerListener({repaintCanvas:()=>{this.forceUpdate()}}),this.keyDown=e=>{this.props.engine.getActionEventBus().fireAction({event:e})},this.keyUp=e=>{this.props.engine.getActionEventBus().fireAction({event:e})},document.addEventListener("keyup",this.keyUp),document.addEventListener("keydown",this.keyDown),this.registerCanvas()}render(){const e=this.props.engine.getModel();return s.createElement(a.Canvas,{className:this.props.className,ref:this.ref,onWheel:e=>{this.props.engine.getActionEventBus().fireAction({event:e})},onMouseDown:e=>{this.props.engine.getActionEventBus().fireAction({event:e})},onMouseUp:e=>{this.props.engine.getActionEventBus().fireAction({event:e})},onMouseMove:e=>{this.props.engine.getActionEventBus().fireAction({event:e})}},e.getLayers().map((e=>s.createElement(n.TransformLayerWidget,{layer:e,key:e.getID()},s.createElement(r.SmartLayerWidget,{layer:e,engine:this.props.engine,key:e.getID()})))))}}t.CanvasWidget=c},558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LayerModel=void 0;const s=i(625),n=i(804);class o extends s.BaseModel{constructor(e={}){super(e),this.models={},this.repaintEnabled=!0}deserialize(e){super.deserialize(e),this.options.isSvg=!!e.data.isSvg,this.options.transformed=!!e.data.transformed,n.forEach(e.data.models,(t=>{const i=this.getChildModelFactoryBank(e.engine).getFactory(t.type).generateModel({initialConfig:t});i.deserialize(Object.assign(Object.assign({},e),{data:t})),this.addModel(i)}))}serialize(){return Object.assign(Object.assign({},super.serialize()),{isSvg:this.options.isSvg,transformed:this.options.transformed,models:n.mapValues(this.models,(e=>e.serialize()))})}isRepaintEnabled(){return this.repaintEnabled}allowRepaint(e=!0){this.repaintEnabled=e}remove(){this.parent&&this.parent.removeLayer(this),super.remove()}addModel(e){e.setParent(this),this.models[e.getID()]=e}getSelectionEntities(){return n.flatMap(this.models,(e=>e.getSelectionEntities()))}getModels(){return this.models}getModel(e){return this.models[e]}removeModel(e){const t="string"==typeof e?e:e.getID();return!!this.models[t]&&(delete this.models[t],!0)}}t.LayerModel=o},643:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SmartLayerWidget=void 0;const s=i(297);class n extends s.Component{shouldComponentUpdate(){return this.props.layer.isRepaintEnabled()}render(){return this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({model:this.props.layer})}}t.SmartLayerWidget=n},826:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransformLayerWidget=void 0;const s=i(297),n=i(177),o=i(381);var r;!function(e){const t=o.css`
+	`;
+})(S || (S = {}));
+class CanvasWidget extends React.Component {
+    constructor(props) {
+        super(props);
+        this.ref = React.createRef();
+        this.state = {
+            action: null,
+            diagramEngineListener: null
+        };
+    }
+    componentWillUnmount() {
+        this.props.engine.deregisterListener(this.canvasListener);
+        this.props.engine.setCanvas(null);
+        document.removeEventListener('keyup', this.keyUp);
+        document.removeEventListener('keydown', this.keyDown);
+    }
+    registerCanvas() {
+        this.props.engine.setCanvas(this.ref.current);
+        this.props.engine.iterateListeners((list) => {
+            list.rendered && list.rendered();
+        });
+    }
+    componentDidUpdate() {
+        this.registerCanvas();
+    }
+    componentDidMount() {
+        this.canvasListener = this.props.engine.registerListener({
+            repaintCanvas: () => {
+                this.forceUpdate();
+            }
+        });
+        this.keyDown = (event) => {
+            this.props.engine.getActionEventBus().fireAction({ event });
+        };
+        this.keyUp = (event) => {
+            this.props.engine.getActionEventBus().fireAction({ event });
+        };
+        document.addEventListener('keyup', this.keyUp);
+        document.addEventListener('keydown', this.keyDown);
+        this.registerCanvas();
+    }
+    render() {
+        const engine = this.props.engine;
+        const model = engine.getModel();
+        return (React.createElement(S.Canvas, { className: this.props.className, ref: this.ref, onWheel: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseDown: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseUp: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onMouseMove: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchStart: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchEnd: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            }, onTouchMove: (event) => {
+                this.props.engine.getActionEventBus().fireAction({ event });
+            } }, model.getLayers().map((layer) => {
+            return (React.createElement(TransformLayerWidget_1.TransformLayerWidget, { layer: layer, key: layer.getID() },
+                React.createElement(SmartLayerWidget_1.SmartLayerWidget, { layer: layer, engine: this.props.engine, key: layer.getID() })));
+        })));
+    }
+}
+exports.CanvasWidget = CanvasWidget;
+
+
+/***/ }),
+
+/***/ "./dist/entities/layer/LayerModel.js":
+/*!*******************************************!*\
+  !*** ./dist/entities/layer/LayerModel.js ***!
+  \*******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.LayerModel = void 0;
+const BaseModel_1 = __webpack_require__(/*! ../../core-models/BaseModel */ "./dist/core-models/BaseModel.js");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+class LayerModel extends BaseModel_1.BaseModel {
+    constructor(options = {}) {
+        super(options);
+        this.models = {};
+        this.repaintEnabled = true;
+    }
+    deserialize(event) {
+        super.deserialize(event);
+        this.options.isSvg = !!event.data.isSvg;
+        this.options.transformed = !!event.data.transformed;
+        _.forEach(event.data.models, (model) => {
+            const modelOb = this.getChildModelFactoryBank(event.engine).getFactory(model.type).generateModel({
+                initialConfig: model
+            });
+            modelOb.deserialize(Object.assign(Object.assign({}, event), { data: model }));
+            this.addModel(modelOb);
+        });
+    }
+    serialize() {
+        return Object.assign(Object.assign({}, super.serialize()), { isSvg: this.options.isSvg, transformed: this.options.transformed, models: _.mapValues(this.models, (model) => {
+                return model.serialize();
+            }) });
+    }
+    isRepaintEnabled() {
+        return this.repaintEnabled;
+    }
+    allowRepaint(allow = true) {
+        this.repaintEnabled = allow;
+    }
+    remove() {
+        if (this.parent) {
+            this.parent.removeLayer(this);
+        }
+        super.remove();
+    }
+    addModel(model) {
+        model.setParent(this);
+        this.models[model.getID()] = model;
+    }
+    getSelectionEntities() {
+        return _.flatMap(this.models, (model) => {
+            return model.getSelectionEntities();
+        });
+    }
+    getModels() {
+        return this.models;
+    }
+    getModel(id) {
+        return this.models[id];
+    }
+    removeModel(id) {
+        const _id = typeof id === 'string' ? id : id.getID();
+        if (this.models[_id]) {
+            delete this.models[_id];
+            return true;
+        }
+        return false;
+    }
+}
+exports.LayerModel = LayerModel;
+
+
+/***/ }),
+
+/***/ "./dist/entities/layer/SmartLayerWidget.js":
+/*!*************************************************!*\
+  !*** ./dist/entities/layer/SmartLayerWidget.js ***!
+  \*************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SmartLayerWidget = void 0;
+const React = __webpack_require__(/*! react */ "react");
+class SmartLayerWidget extends React.Component {
+    shouldComponentUpdate() {
+        return this.props.layer.isRepaintEnabled();
+    }
+    render() {
+        return this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({ model: this.props.layer });
+    }
+}
+exports.SmartLayerWidget = SmartLayerWidget;
+
+
+/***/ }),
+
+/***/ "./dist/entities/layer/TransformLayerWidget.js":
+/*!*****************************************************!*\
+  !*** ./dist/entities/layer/TransformLayerWidget.js ***!
+  \*****************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.TransformLayerWidget = void 0;
+const React = __webpack_require__(/*! react */ "react");
+const styled_1 = __webpack_require__(/*! @emotion/styled */ "@emotion/styled");
+const react_1 = __webpack_require__(/*! @emotion/react */ "@emotion/react");
+var S;
+(function (S) {
+    const shared = react_1.css `
 		top: 0;
 		left: 0;
 		right: 0;
@@ -13,13 +1439,618 @@
 		width: 100%;
 		height: 100%;
 		overflow: visible;
-	`;e.DivLayer=n.default.div`
-		${t}
-	`,e.SvgLayer=n.default.svg`
-		${t}
-	`}(r||(r={}));class a extends s.Component{constructor(e){super(e),this.state={}}getTransform(){const e=this.props.layer.getParent();return`\n\t\t\ttranslate(\n\t\t\t\t${e.getOffsetX()}px,\n\t\t\t\t${e.getOffsetY()}px)\n\t\t\tscale(\n\t\t\t\t${e.getZoomLevel()/100}\n\t\t\t)\n  \t`}getTransformStyle(){return this.props.layer.getOptions().transformed?{transform:this.getTransform()}:{}}render(){return this.props.layer.getOptions().isSvg?s.createElement(r.SvgLayer,{style:this.getTransformStyle()},this.props.children):s.createElement(r.DivLayer,{style:this.getTransformStyle()},this.props.children)}}t.TransformLayerWidget=a},803:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionBoxLayerFactory=void 0;const s=i(297),n=i(388),o=i(485),r=i(582);class a extends n.AbstractReactFactory{constructor(){super("selection")}generateModel(e){return new o.SelectionLayerModel}generateReactWidget(e){return s.createElement(r.SelectionBoxWidget,{rect:e.model.box})}}t.SelectionBoxLayerFactory=a},582:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionBoxWidget=void 0;const s=i(297),n=i(177);var o;!function(e){e.Container=n.default.div`
+	`;
+    S.DivLayer = styled_1.default.div `
+		${shared}
+	`;
+    S.SvgLayer = styled_1.default.svg `
+		${shared}
+	`;
+})(S || (S = {}));
+class TransformLayerWidget extends React.Component {
+    constructor(props) {
+        super(props);
+        this.state = {};
+    }
+    getTransform() {
+        const model = this.props.layer.getParent();
+        return `
+			translate(
+				${model.getOffsetX()}px,
+				${model.getOffsetY()}px)
+			scale(
+				${model.getZoomLevel() / 100.0}
+			)
+  	`;
+    }
+    getTransformStyle() {
+        if (this.props.layer.getOptions().transformed) {
+            return {
+                transform: this.getTransform()
+            };
+        }
+        return {};
+    }
+    render() {
+        if (this.props.layer.getOptions().isSvg) {
+            return React.createElement(S.SvgLayer, { style: this.getTransformStyle() }, this.props.children);
+        }
+        return React.createElement(S.DivLayer, { style: this.getTransformStyle() }, this.props.children);
+    }
+}
+exports.TransformLayerWidget = TransformLayerWidget;
+
+
+/***/ }),
+
+/***/ "./dist/entities/selection/SelectionBoxLayerFactory.js":
+/*!*************************************************************!*\
+  !*** ./dist/entities/selection/SelectionBoxLayerFactory.js ***!
+  \*************************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SelectionBoxLayerFactory = void 0;
+const React = __webpack_require__(/*! react */ "react");
+const AbstractReactFactory_1 = __webpack_require__(/*! ../../core/AbstractReactFactory */ "./dist/core/AbstractReactFactory.js");
+const SelectionLayerModel_1 = __webpack_require__(/*! ./SelectionLayerModel */ "./dist/entities/selection/SelectionLayerModel.js");
+const SelectionBoxWidget_1 = __webpack_require__(/*! ./SelectionBoxWidget */ "./dist/entities/selection/SelectionBoxWidget.js");
+class SelectionBoxLayerFactory extends AbstractReactFactory_1.AbstractReactFactory {
+    constructor() {
+        super('selection');
+    }
+    generateModel(event) {
+        return new SelectionLayerModel_1.SelectionLayerModel();
+    }
+    generateReactWidget(event) {
+        return React.createElement(SelectionBoxWidget_1.SelectionBoxWidget, { rect: event.model.box });
+    }
+}
+exports.SelectionBoxLayerFactory = SelectionBoxLayerFactory;
+
+
+/***/ }),
+
+/***/ "./dist/entities/selection/SelectionBoxWidget.js":
+/*!*******************************************************!*\
+  !*** ./dist/entities/selection/SelectionBoxWidget.js ***!
+  \*******************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SelectionBoxWidget = void 0;
+const React = __webpack_require__(/*! react */ "react");
+const styled_1 = __webpack_require__(/*! @emotion/styled */ "@emotion/styled");
+var S;
+(function (S) {
+    S.Container = styled_1.default.div `
 		position: absolute;
 		background-color: rgba(0, 192, 255, 0.2);
 		border: solid 2px rgb(0, 192, 255);
-	`}(o||(o={}));class r extends s.Component{render(){const{rect:e}=this.props;return s.createElement(o.Container,{style:{top:e.top,left:e.left,width:e.width,height:e.height}})}}t.SelectionBoxWidget=r},485:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionLayerModel=void 0;const s=i(558);class n extends s.LayerModel{constructor(){super({transformed:!1,isSvg:!1,type:"selection"})}setBox(e){this.box=e}getChildModelFactoryBank(){return null}}t.SelectionLayerModel=n},418:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(306),t),n(i(312),t),n(i(801),t),n(i(256),t),n(i(19),t),n(i(388),t),n(i(482),t),n(i(705),t),n(i(427),t),n(i(402),t),n(i(159),t),n(i(718),t),n(i(625),t),n(i(966),t),n(i(801),t),n(i(69),t),n(i(558),t),n(i(826),t),n(i(643),t),n(i(803),t),n(i(582),t),n(i(485),t),n(i(90),t),n(i(619),t),n(i(744),t),n(i(373),t),n(i(944),t),n(i(58),t),n(i(884),t),n(i(597),t),n(i(640),t),n(i(602),t),n(i(335),t)},944:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultState=void 0;const s=i(744),n=i(402),o=i(58),r=i(884),a=i(640);class c extends s.State{constructor(){super({name:"default"}),this.childStates=[new r.SelectingState],this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:e=>{this.engine.getActionEventBus().getModelForEvent(e)?this.transitionWithEvent(new a.MoveItemsState,e):this.transitionWithEvent(new o.DragCanvasState,e)}}))}}t.DefaultState=c},58:function(e,t,i){var s=this&&this.__awaiter||function(e,t,i,s){return new(i||(i=Promise))((function(n,o){function r(e){try{c(s.next(e))}catch(e){o(e)}}function a(e){try{c(s.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}c((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DragCanvasState=void 0;const n=i(619);class o extends n.AbstractDisplacementState{constructor(e={}){super({name:"drag-canvas"}),this.config=Object.assign({allowDrag:!0},e)}activated(e){const t=Object.create(null,{activated:{get:()=>super.activated}});return s(this,void 0,void 0,(function*(){t.activated.call(this,e),this.engine.getModel().clearSelection(),yield this.engine.repaintCanvas(!0);for(let e of this.engine.getModel().getLayers())e.allowRepaint(!1);this.initialCanvasX=this.engine.getModel().getOffsetX(),this.initialCanvasY=this.engine.getModel().getOffsetY()}))}deactivated(e){super.deactivated(e);for(let e of this.engine.getModel().getLayers())e.allowRepaint(!0)}fireMouseMoved(e){this.config.allowDrag&&(this.engine.getModel().setOffset(this.initialCanvasX+e.displacementX,this.initialCanvasY+e.displacementY),this.engine.repaintCanvas())}}t.DragCanvasState=o},640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MoveItemsState=void 0;const s=i(619),n=i(402),o=i(966);class r extends s.AbstractDisplacementState{constructor(){super({name:"move-items"}),this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:e=>{const t=this.engine.getActionEventBus().getModelForEvent(e);t&&(t.isSelected()||this.engine.getModel().clearSelection(),t.setSelected(!0),this.engine.repaintCanvas())}}))}activated(e){super.activated(e),this.initialPositions={}}fireMouseMoved(e){const t=this.engine.getModel().getSelectedEntities(),i=this.engine.getModel();for(let s of t)if(s instanceof o.BasePositionModel){if(s.isLocked())continue;this.initialPositions[s.getID()]||(this.initialPositions[s.getID()]={point:s.getPosition(),item:s});const t=this.initialPositions[s.getID()].point;s.setPosition(i.getGridPosition(t.x+e.virtualDisplacementX),i.getGridPosition(t.y+e.virtualDisplacementY))}this.engine.repaintCanvas()}}t.MoveItemsState=r},884:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectingState=void 0;const s=i(744),n=i(402),o=i(597);class r extends s.State{constructor(){super({name:"selecting"}),this.keys=["shift"],this.registerAction(new n.Action({type:n.InputType.MOUSE_DOWN,fire:e=>{const t=this.engine.getActionEventBus().getModelForEvent(e);t?(t.setSelected(!0),this.engine.repaintCanvas()):this.transitionWithEvent(new o.SelectionBoxState,e)}}))}}t.SelectingState=r},597:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionBoxState=void 0;const s=i(619),n=i(485),o=i(924);class r extends s.AbstractDisplacementState{constructor(){super({name:"selection-box"})}activated(e){super.activated(e),this.layer=new n.SelectionLayerModel,this.engine.getModel().addLayer(this.layer)}deactivated(e){super.deactivated(e),this.layer.remove(),this.engine.repaintCanvas()}getBoxDimensions(e){const t=this.engine.getRelativePoint(e.event.clientX,e.event.clientY);return{left:t.x>this.initialXRelative?this.initialXRelative:t.x,top:t.y>this.initialYRelative?this.initialYRelative:t.y,width:Math.abs(t.x-this.initialXRelative),height:Math.abs(t.y-this.initialYRelative),right:t.x<this.initialXRelative?this.initialXRelative:t.x,bottom:t.y<this.initialYRelative?this.initialYRelative:t.y}}fireMouseMoved(e){this.layer.setBox(this.getBoxDimensions(e));const t=this.engine.getRelativeMousePoint({clientX:this.initialX,clientY:this.initialY});e.virtualDisplacementX<0&&(t.x-=Math.abs(e.virtualDisplacementX)),e.virtualDisplacementY<0&&(t.y-=Math.abs(e.virtualDisplacementY));const i=new o.Rectangle(t,Math.abs(e.virtualDisplacementX),Math.abs(e.virtualDisplacementY));for(let e of this.engine.getModel().getSelectionEntities())if(e.getBoundingBox){const t=e.getBoundingBox();i.containsPoint(t.getTopLeft())&&i.containsPoint(t.getBottomRight())?e.setSelected(!0):e.setSelected(!1)}this.engine.repaintCanvas()}}t.SelectionBoxState=r},90:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PeformanceWidget=void 0;const s=i(297),n=i(804);class o extends s.Component{shouldComponentUpdate(e,t,i){return!this.props.model.performanceTune()||(this.props.model!==e.model||!n.isEqual(this.props.serialized,e.serialized))}render(){return this.props.children()}}t.PeformanceWidget=o},381:e=>{e.exports=require("@emotion/react")},177:e=>{e.exports=require("@emotion/styled")},924:e=>{e.exports=require("@projectstorm/geometry")},408:e=>{e.exports=require("closest")},804:e=>{e.exports=require("lodash")},297:e=>{e.exports=require("react")}},t={};return function i(s){var n=t[s];if(void 0!==n)return n.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,i),o.exports}(418)})()}));
+	`;
+})(S || (S = {}));
+class SelectionBoxWidget extends React.Component {
+    render() {
+        const { rect } = this.props;
+        if (!rect)
+            return;
+        return (React.createElement(S.Container, { style: {
+                top: rect.top,
+                left: rect.left,
+                width: rect.width,
+                height: rect.height
+            } }));
+    }
+}
+exports.SelectionBoxWidget = SelectionBoxWidget;
+
+
+/***/ }),
+
+/***/ "./dist/entities/selection/SelectionLayerModel.js":
+/*!********************************************************!*\
+  !*** ./dist/entities/selection/SelectionLayerModel.js ***!
+  \********************************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SelectionLayerModel = void 0;
+const LayerModel_1 = __webpack_require__(/*! ../layer/LayerModel */ "./dist/entities/layer/LayerModel.js");
+class SelectionLayerModel extends LayerModel_1.LayerModel {
+    constructor() {
+        super({
+            transformed: false,
+            isSvg: false,
+            type: 'selection'
+        });
+    }
+    setBox(rect) {
+        this.box = rect;
+    }
+    getChildModelFactoryBank() {
+        // is not used as it doesnt serialize
+        return null;
+    }
+}
+exports.SelectionLayerModel = SelectionLayerModel;
+
+
+/***/ }),
+
+/***/ "./dist/index.js":
+/*!***********************!*\
+  !*** ./dist/index.js ***!
+  \***********************/
+/***/ (function(__unused_webpack_module, exports, __webpack_require__) {
+
+
+var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
+}) : (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    o[k2] = m[k];
+}));
+var __exportStar = (this && this.__exportStar) || function(m, exports) {
+    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
+};
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+__exportStar(__webpack_require__(/*! ./CanvasEngine */ "./dist/CanvasEngine.js"), exports);
+__exportStar(__webpack_require__(/*! ./Toolkit */ "./dist/Toolkit.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/canvas/CanvasModel */ "./dist/entities/canvas/CanvasModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/AbstractFactory */ "./dist/core/AbstractFactory.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/AbstractModelFactory */ "./dist/core/AbstractModelFactory.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/AbstractReactFactory */ "./dist/core/AbstractReactFactory.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/BaseObserver */ "./dist/core/BaseObserver.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/FactoryBank */ "./dist/core/FactoryBank.js"), exports);
+__exportStar(__webpack_require__(/*! ./core/ModelGeometryInterface */ "./dist/core/ModelGeometryInterface.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-actions/Action */ "./dist/core-actions/Action.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-actions/ActionEventBus */ "./dist/core-actions/ActionEventBus.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-models/BaseEntity */ "./dist/core-models/BaseEntity.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-models/BaseModel */ "./dist/core-models/BaseModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-models/BasePositionModel */ "./dist/core-models/BasePositionModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/canvas/CanvasModel */ "./dist/entities/canvas/CanvasModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/canvas/CanvasWidget */ "./dist/entities/canvas/CanvasWidget.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/layer/LayerModel */ "./dist/entities/layer/LayerModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/layer/TransformLayerWidget */ "./dist/entities/layer/TransformLayerWidget.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/layer/SmartLayerWidget */ "./dist/entities/layer/SmartLayerWidget.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/selection/SelectionBoxLayerFactory */ "./dist/entities/selection/SelectionBoxLayerFactory.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/selection/SelectionBoxWidget */ "./dist/entities/selection/SelectionBoxWidget.js"), exports);
+__exportStar(__webpack_require__(/*! ./entities/selection/SelectionLayerModel */ "./dist/entities/selection/SelectionLayerModel.js"), exports);
+__exportStar(__webpack_require__(/*! ./widgets/PeformanceWidget */ "./dist/widgets/PeformanceWidget.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-state/AbstractDisplacementState */ "./dist/core-state/AbstractDisplacementState.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-state/State */ "./dist/core-state/State.js"), exports);
+__exportStar(__webpack_require__(/*! ./core-state/StateMachine */ "./dist/core-state/StateMachine.js"), exports);
+__exportStar(__webpack_require__(/*! ./states/DefaultState */ "./dist/states/DefaultState.js"), exports);
+__exportStar(__webpack_require__(/*! ./states/DragCanvasState */ "./dist/states/DragCanvasState.js"), exports);
+__exportStar(__webpack_require__(/*! ./states/SelectingState */ "./dist/states/SelectingState.js"), exports);
+__exportStar(__webpack_require__(/*! ./states/SelectionBoxState */ "./dist/states/SelectionBoxState.js"), exports);
+__exportStar(__webpack_require__(/*! ./states/MoveItemsState */ "./dist/states/MoveItemsState.js"), exports);
+__exportStar(__webpack_require__(/*! ./actions/DeleteItemsAction */ "./dist/actions/DeleteItemsAction.js"), exports);
+__exportStar(__webpack_require__(/*! ./actions/ZoomCanvasAction */ "./dist/actions/ZoomCanvasAction.js"), exports);
+
+
+/***/ }),
+
+/***/ "./dist/states/DefaultState.js":
+/*!*************************************!*\
+  !*** ./dist/states/DefaultState.js ***!
+  \*************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.DefaultState = void 0;
+const State_1 = __webpack_require__(/*! ../core-state/State */ "./dist/core-state/State.js");
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+const DragCanvasState_1 = __webpack_require__(/*! ./DragCanvasState */ "./dist/states/DragCanvasState.js");
+const SelectingState_1 = __webpack_require__(/*! ./SelectingState */ "./dist/states/SelectingState.js");
+const MoveItemsState_1 = __webpack_require__(/*! ./MoveItemsState */ "./dist/states/MoveItemsState.js");
+class DefaultState extends State_1.State {
+    constructor() {
+        super({
+            name: 'default'
+        });
+        this.childStates = [new SelectingState_1.SelectingState()];
+        // determine what was clicked on
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                // the canvas was clicked on, transition to the dragging canvas state
+                if (!element) {
+                    this.transitionWithEvent(new DragCanvasState_1.DragCanvasState(), event);
+                }
+                else {
+                    this.transitionWithEvent(new MoveItemsState_1.MoveItemsState(), event);
+                }
+            }
+        }));
+        // touch drags the canvas
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_START,
+            fire: (event) => {
+                this.transitionWithEvent(new DragCanvasState_1.DragCanvasState(), event);
+            }
+        }));
+    }
+}
+exports.DefaultState = DefaultState;
+
+
+/***/ }),
+
+/***/ "./dist/states/DragCanvasState.js":
+/*!****************************************!*\
+  !*** ./dist/states/DragCanvasState.js ***!
+  \****************************************/
+/***/ (function(__unused_webpack_module, exports, __webpack_require__) {
+
+
+var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
+    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
+    return new (P || (P = Promise))(function (resolve, reject) {
+        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
+        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
+        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
+        step((generator = generator.apply(thisArg, _arguments || [])).next());
+    });
+};
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.DragCanvasState = void 0;
+const AbstractDisplacementState_1 = __webpack_require__(/*! ../core-state/AbstractDisplacementState */ "./dist/core-state/AbstractDisplacementState.js");
+class DragCanvasState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor(options = {}) {
+        super({
+            name: 'drag-canvas'
+        });
+        this.config = Object.assign({ allowDrag: true }, options);
+    }
+    activated(prev) {
+        const _super = Object.create(null, {
+            activated: { get: () => super.activated }
+        });
+        return __awaiter(this, void 0, void 0, function* () {
+            _super.activated.call(this, prev);
+            this.engine.getModel().clearSelection();
+            yield this.engine.repaintCanvas(true);
+            // we can block layer rendering because we are only targeting the transforms
+            for (let layer of this.engine.getModel().getLayers()) {
+                layer.allowRepaint(false);
+            }
+            this.initialCanvasX = this.engine.getModel().getOffsetX();
+            this.initialCanvasY = this.engine.getModel().getOffsetY();
+        });
+    }
+    deactivated(next) {
+        super.deactivated(next);
+        for (let layer of this.engine.getModel().getLayers()) {
+            layer.allowRepaint(true);
+        }
+    }
+    fireMouseMoved(event) {
+        if (this.config.allowDrag) {
+            this.engine
+                .getModel()
+                .setOffset(this.initialCanvasX + event.displacementX, this.initialCanvasY + event.displacementY);
+            this.engine.repaintCanvas();
+        }
+    }
+}
+exports.DragCanvasState = DragCanvasState;
+
+
+/***/ }),
+
+/***/ "./dist/states/MoveItemsState.js":
+/*!***************************************!*\
+  !*** ./dist/states/MoveItemsState.js ***!
+  \***************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.MoveItemsState = void 0;
+const AbstractDisplacementState_1 = __webpack_require__(/*! ../core-state/AbstractDisplacementState */ "./dist/core-state/AbstractDisplacementState.js");
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+const BasePositionModel_1 = __webpack_require__(/*! ../core-models/BasePositionModel */ "./dist/core-models/BasePositionModel.js");
+class MoveItemsState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor() {
+        super({
+            name: 'move-items'
+        });
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                if (!element) {
+                    return;
+                }
+                if (!element.isSelected()) {
+                    this.engine.getModel().clearSelection();
+                }
+                element.setSelected(true);
+                this.engine.repaintCanvas();
+            }
+        }));
+    }
+    activated(previous) {
+        super.activated(previous);
+        this.initialPositions = {};
+    }
+    fireMouseMoved(event) {
+        const items = this.engine.getModel().getSelectedEntities();
+        const model = this.engine.getModel();
+        for (let item of items) {
+            if (item instanceof BasePositionModel_1.BasePositionModel) {
+                if (item.isLocked()) {
+                    continue;
+                }
+                if (!this.initialPositions[item.getID()]) {
+                    this.initialPositions[item.getID()] = {
+                        point: item.getPosition(),
+                        item: item
+                    };
+                }
+                const pos = this.initialPositions[item.getID()].point;
+                item.setPosition(model.getGridPosition(pos.x + event.virtualDisplacementX), model.getGridPosition(pos.y + event.virtualDisplacementY));
+            }
+        }
+        this.engine.repaintCanvas();
+    }
+}
+exports.MoveItemsState = MoveItemsState;
+
+
+/***/ }),
+
+/***/ "./dist/states/SelectingState.js":
+/*!***************************************!*\
+  !*** ./dist/states/SelectingState.js ***!
+  \***************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SelectingState = void 0;
+const State_1 = __webpack_require__(/*! ../core-state/State */ "./dist/core-state/State.js");
+const Action_1 = __webpack_require__(/*! ../core-actions/Action */ "./dist/core-actions/Action.js");
+const SelectionBoxState_1 = __webpack_require__(/*! ./SelectionBoxState */ "./dist/states/SelectionBoxState.js");
+class SelectingState extends State_1.State {
+    constructor() {
+        super({
+            name: 'selecting'
+        });
+        this.keys = ['shift'];
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.MOUSE_DOWN,
+            fire: (event) => {
+                const element = this.engine.getActionEventBus().getModelForEvent(event);
+                // go into a selection box on the canvas state
+                if (!element) {
+                    this.transitionWithEvent(new SelectionBoxState_1.SelectionBoxState(), event);
+                }
+                else {
+                    element.setSelected(true);
+                    this.engine.repaintCanvas();
+                }
+            }
+        }));
+    }
+}
+exports.SelectingState = SelectingState;
+
+
+/***/ }),
+
+/***/ "./dist/states/SelectionBoxState.js":
+/*!******************************************!*\
+  !*** ./dist/states/SelectionBoxState.js ***!
+  \******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.SelectionBoxState = void 0;
+const AbstractDisplacementState_1 = __webpack_require__(/*! ../core-state/AbstractDisplacementState */ "./dist/core-state/AbstractDisplacementState.js");
+const SelectionLayerModel_1 = __webpack_require__(/*! ../entities/selection/SelectionLayerModel */ "./dist/entities/selection/SelectionLayerModel.js");
+const geometry_1 = __webpack_require__(/*! @projectstorm/geometry */ "@projectstorm/geometry");
+class SelectionBoxState extends AbstractDisplacementState_1.AbstractDisplacementState {
+    constructor() {
+        super({
+            name: 'selection-box'
+        });
+    }
+    activated(previous) {
+        super.activated(previous);
+        this.layer = new SelectionLayerModel_1.SelectionLayerModel();
+        this.engine.getModel().addLayer(this.layer);
+    }
+    deactivated(next) {
+        super.deactivated(next);
+        this.layer.remove();
+        this.engine.repaintCanvas();
+    }
+    getBoxDimensions(event) {
+        let rel;
+        if (event.event instanceof MouseEvent) {
+            rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+        }
+        else if (event.event instanceof TouchEvent) {
+            const touch = event.event.touches[0];
+            rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+        }
+        return {
+            left: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,
+            top: rel.y > this.initialYRelative ? this.initialYRelative : rel.y,
+            width: Math.abs(rel.x - this.initialXRelative),
+            height: Math.abs(rel.y - this.initialYRelative),
+            right: rel.x < this.initialXRelative ? this.initialXRelative : rel.x,
+            bottom: rel.y < this.initialYRelative ? this.initialYRelative : rel.y
+        };
+    }
+    fireMouseMoved(event) {
+        this.layer.setBox(this.getBoxDimensions(event));
+        const relative = this.engine.getRelativeMousePoint({
+            clientX: this.initialX,
+            clientY: this.initialY
+        });
+        if (event.virtualDisplacementX < 0) {
+            relative.x -= Math.abs(event.virtualDisplacementX);
+        }
+        if (event.virtualDisplacementY < 0) {
+            relative.y -= Math.abs(event.virtualDisplacementY);
+        }
+        const rect = new geometry_1.Rectangle(relative, Math.abs(event.virtualDisplacementX), Math.abs(event.virtualDisplacementY));
+        for (let model of this.engine.getModel().getSelectionEntities()) {
+            if (model.getBoundingBox) {
+                const bounds = model.getBoundingBox();
+                if (rect.containsPoint(bounds.getTopLeft()) && rect.containsPoint(bounds.getBottomRight())) {
+                    model.setSelected(true);
+                }
+                else {
+                    model.setSelected(false);
+                }
+            }
+        }
+        this.engine.repaintCanvas();
+    }
+}
+exports.SelectionBoxState = SelectionBoxState;
+
+
+/***/ }),
+
+/***/ "./dist/widgets/PeformanceWidget.js":
+/*!******************************************!*\
+  !*** ./dist/widgets/PeformanceWidget.js ***!
+  \******************************************/
+/***/ ((__unused_webpack_module, exports, __webpack_require__) => {
+
+
+Object.defineProperty(exports, "__esModule", ({ value: true }));
+exports.PeformanceWidget = void 0;
+const React = __webpack_require__(/*! react */ "react");
+const _ = __webpack_require__(/*! lodash */ "lodash");
+class PeformanceWidget extends React.Component {
+    shouldComponentUpdate(nextProps, nextState, nextContext) {
+        if (!this.props.model.performanceTune()) {
+            return true;
+        }
+        // deserialization event
+        if (this.props.model !== nextProps.model) {
+            return true;
+        }
+        // change event
+        return !_.isEqual(this.props.serialized, nextProps.serialized);
+    }
+    render() {
+        return this.props.children();
+    }
+}
+exports.PeformanceWidget = PeformanceWidget;
+
+
+/***/ }),
+
+/***/ "@emotion/react":
+/*!*********************************!*\
+  !*** external "@emotion/react" ***!
+  \*********************************/
+/***/ ((module) => {
+
+module.exports = require("@emotion/react");;
+
+/***/ }),
+
+/***/ "@emotion/styled":
+/*!**********************************!*\
+  !*** external "@emotion/styled" ***!
+  \**********************************/
+/***/ ((module) => {
+
+module.exports = require("@emotion/styled");;
+
+/***/ }),
+
+/***/ "@projectstorm/geometry":
+/*!*****************************************!*\
+  !*** external "@projectstorm/geometry" ***!
+  \*****************************************/
+/***/ ((module) => {
+
+module.exports = require("@projectstorm/geometry");;
+
+/***/ }),
+
+/***/ "closest":
+/*!**************************!*\
+  !*** external "closest" ***!
+  \**************************/
+/***/ ((module) => {
+
+module.exports = require("closest");;
+
+/***/ }),
+
+/***/ "lodash":
+/*!*************************!*\
+  !*** external "lodash" ***!
+  \*************************/
+/***/ ((module) => {
+
+module.exports = require("lodash");;
+
+/***/ }),
+
+/***/ "react":
+/*!************************!*\
+  !*** external "react" ***!
+  \************************/
+/***/ ((module) => {
+
+module.exports = require("react");;
+
+/***/ })
+
+/******/ 	});
+/************************************************************************/
+/******/ 	// The module cache
+/******/ 	var __webpack_module_cache__ = {};
+/******/ 	
+/******/ 	// The require function
+/******/ 	function __webpack_require__(moduleId) {
+/******/ 		// Check if module is in cache
+/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
+/******/ 		if (cachedModule !== undefined) {
+/******/ 			return cachedModule.exports;
+/******/ 		}
+/******/ 		// Create a new module (and put it into the cache)
+/******/ 		var module = __webpack_module_cache__[moduleId] = {
+/******/ 			// no module.id needed
+/******/ 			// no module.loaded needed
+/******/ 			exports: {}
+/******/ 		};
+/******/ 	
+/******/ 		// Execute the module function
+/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
+/******/ 	
+/******/ 		// Return the exports of the module
+/******/ 		return module.exports;
+/******/ 	}
+/******/ 	
+/************************************************************************/
+/******/ 	
+/******/ 	// startup
+/******/ 	// Load entry module and return exports
+/******/ 	// This entry module is referenced by other modules so it can't be inlined
+/******/ 	var __webpack_exports__ = __webpack_require__("./dist/index.js");
+/******/ 	
+/******/ 	return __webpack_exports__;
+/******/ })()
+;
+});
 //# sourceMappingURL=index.umd.js.map
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js.map b/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js.map
index f50e870..e5eb15b 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/index.umd.js.map
@@ -1 +1 @@
-{"version":3,"sources":["webpack://projectstorm/react-canvas-core/webpack/universalModuleDefinition","webpack://projectstorm/react-canvas-core/./src/CanvasEngine.ts","webpack://projectstorm/react-canvas-core/./src/Toolkit.ts","webpack://projectstorm/react-canvas-core/./src/actions/DeleteItemsAction.ts","webpack://projectstorm/react-canvas-core/./src/actions/ZoomCanvasAction.ts","webpack://projectstorm/react-canvas-core/./src/core-actions/Action.ts","webpack://projectstorm/react-canvas-core/./src/core-actions/ActionEventBus.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BaseEntity.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BaseModel.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BasePositionModel.ts","webpack://projectstorm/react-canvas-core/./src/core-state/AbstractDisplacementState.ts","webpack://projectstorm/react-canvas-core/./src/core-state/State.ts","webpack://projectstorm/react-canvas-core/./src/core-state/StateMachine.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractFactory.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractModelFactory.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractReactFactory.tsx","webpack://projectstorm/react-canvas-core/./src/core/BaseObserver.ts","webpack://projectstorm/react-canvas-core/./src/core/FactoryBank.ts","webpack://projectstorm/react-canvas-core/./src/entities/canvas/CanvasModel.ts","webpack://projectstorm/react-canvas-core/./src/entities/canvas/CanvasWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/layer/LayerModel.ts","webpack://projectstorm/react-canvas-core/./src/entities/layer/SmartLayerWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/layer/TransformLayerWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionBoxLayerFactory.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionBoxWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionLayerModel.ts","webpack://projectstorm/react-canvas-core/./src/index.ts","webpack://projectstorm/react-canvas-core/./src/states/DefaultState.ts","webpack://projectstorm/react-canvas-core/./src/states/DragCanvasState.ts","webpack://projectstorm/react-canvas-core/./src/states/MoveItemsState.ts","webpack://projectstorm/react-canvas-core/./src/states/SelectingState.ts","webpack://projectstorm/react-canvas-core/./src/states/SelectionBoxState.ts","webpack://projectstorm/react-canvas-core/./src/widgets/PeformanceWidget.tsx","webpack://projectstorm/react-canvas-core/external \"@emotion/react\"","webpack://projectstorm/react-canvas-core/external \"@emotion/styled\"","webpack://projectstorm/react-canvas-core/external \"@projectstorm/geometry\"","webpack://projectstorm/react-canvas-core/external \"closest\"","webpack://projectstorm/react-canvas-core/external \"lodash\"","webpack://projectstorm/react-canvas-core/external \"react\"","webpack://projectstorm/react-canvas-core/webpack/bootstrap","webpack://projectstorm/react-canvas-core/webpack/startup"],"names":["root","factory","exports","module","define","amd","self","CanvasEngine","BaseObserver","options","super","this","model","eventBus","ActionEventBus","stateMachine","StateMachine","layerFactories","FactoryBank","registerFactoryBank","registerDefaultDeleteItemsAction","registerDefaultZoomCanvasAction","repaintDebounceMs","registerAction","ZoomCanvasAction","DeleteItemsAction","event","point","getRelativePoint","clientX","clientY","Point","x","getOffsetX","getZoomLevel","y","getOffsetY","canvasRect","canvas","getBoundingClientRect","left","top","registerListener","factoryAdded","setDiagramEngine","factoryRemoved","layer","getFactory","getType","requestAnimationFrame","repaintCanvas","promise","repaint","iterateListeners","listener","repaintFn","debounce","Promise","resolve","l","rendered","deregister","fireEvent","xFactor","clientWidth","scrollWidth","yFactor","clientHeight","scrollHeight","zoomFactor","setZoomLevel","setOffset","Toolkit","TESTING","TESTING_UID","replace","c","r","Math","random","toString","element","selector","document","body","closest","Action","keyCodes","modifiers","ctrlKey","shiftKey","altKey","metaKey","type","InputType","KEY_DOWN","fire","keyCode","indexOf","_","isEqual","forEach","engine","getModel","getSelectedEntities","isLocked","remove","MOUSE_WHEEL","actionEvent","getLayers","allowRepaint","stopPropagation","oldZoomFactor","scrollDelta","inverseZoom","deltaY","boundingRect","currentTarget","width","height","widthDiff","heightDiff","id","UID","actions","keys","action","setEngine","deregisterAction","filter","getMouseElement","getActionsForType","MOUSE_DOWN","MOUSE_UP","key","toLowerCase","KEY_UP","MOUSE_MOVE","getActionsForEvent","BaseEntity","lookupTable","clone","cloneDeep","clearListeners","doClone","listeners","data","locked","k","entity","BaseModel","parent","CanvasModel","getParentCanvasModel","serialize","selected","extras","deserialize","isSelected","BasePositionModel","position","Rectangle","AbstractDisplacementState","State","initialX","initialY","rel","initialXRelative","initialYRelative","buttons","fireMouseMoved","displacementX","displacementY","virtualDisplacementX","virtualDisplacementY","eject","childStates","getStateMachine","popState","state","pushState","getActionEventBus","fireAction","push","length","isKeysFullfilled","findStateToActivate","child","intersection","previous","getKeys","tryActivateParentState","tryActivateChildState","handler1","handler2","next","stateStack","currentState","setState","pop","last","deactivated","old","activated","newState","bank","AbstractModelFactory","AbstractFactory","AbstractReactFactory","firing","fireEventInternal","function","cb","handle","getListenerHandle","factories","values","deregisterFactory","Error","setFactoryBank","zoom","gridSize","offsetX","offsetY","layers","flatMap","getSelectionEntities","ob","setSelected","getModels","setParent","entityRemoved","index","splice","size","pos","floor","models","promises","resolvers","registerModel","getID","layerOb","getFactoryForLayer","generateModel","initialConfig","addLayer","map","S","Canvas","div","CanvasWidget","React","Component","props","ref","createRef","diagramEngineListener","deregisterListener","canvasListener","setCanvas","removeEventListener","keyUp","keyDown","current","list","registerCanvas","forceUpdate","addEventListener","className","onWheel","onMouseDown","onMouseUp","onMouseMove","TransformLayerWidget","SmartLayerWidget","LayerModel","repaintEnabled","isSvg","transformed","modelOb","getChildModelFactoryBank","addModel","mapValues","allow","removeLayer","_id","isRepaintEnabled","generateReactWidget","shared","css","DivLayer","SvgLayer","svg","getParent","getOptions","transform","getTransform","style","getTransformStyle","children","SelectionBoxLayerFactory","SelectionLayerModel","SelectionBoxWidget","rect","box","Container","DefaultState","name","SelectingState","getModelForEvent","transitionWithEvent","MoveItemsState","DragCanvasState","config","allowDrag","prev","clearSelection","initialCanvasX","initialCanvasY","initialPositions","items","item","getPosition","setPosition","getGridPosition","SelectionBoxState","abs","right","bottom","setBox","getBoxDimensions","relative","getRelativeMousePoint","getBoundingBox","bounds","containsPoint","getTopLeft","getBottomRight","PeformanceWidget","nextProps","nextState","nextContext","performanceTune","serialized","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"mappings":"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","file":"index.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"projectstorm/react-canvas-core\"] = factory();\n\telse\n\t\troot[\"projectstorm/react-canvas-core\"] = factory();\n})(self, function() {\nreturn ","import { debounce } from 'lodash';\nimport { CanvasModel } from './entities/canvas/CanvasModel';\nimport { FactoryBank } from './core/FactoryBank';\nimport { AbstractReactFactory } from './core/AbstractReactFactory';\nimport { LayerModel } from './entities/layer/LayerModel';\nimport { BaseListener, BaseObserver } from './core/BaseObserver';\nimport { MouseEvent } from 'react';\nimport { BaseModel } from './core-models/BaseModel';\nimport { Point } from '@projectstorm/geometry';\nimport { ActionEventBus } from './core-actions/ActionEventBus';\nimport { ZoomCanvasAction } from './actions/ZoomCanvasAction';\nimport { DeleteItemsAction } from './actions/DeleteItemsAction';\nimport { StateMachine } from './core-state/StateMachine';\n\nexport interface CanvasEngineListener extends BaseListener {\n\tcanvasReady?(): void;\n\n\trepaintCanvas?(): void;\n\n\trendered?(): void;\n}\n\n/**\n * Defines the CanvasEngine options\n */\nexport interface CanvasEngineOptions {\n\tregisterDefaultDeleteItemsAction?: boolean;\n\tregisterDefaultZoomCanvasAction?: boolean;\n\t/**\n\t * Defines the debounce wait time in milliseconds if > 0\n\t */\n\trepaintDebounceMs?: number;\n}\n\nexport class CanvasEngine<\n\tL extends CanvasEngineListener = CanvasEngineListener,\n\tM extends CanvasModel = CanvasModel\n> extends BaseObserver<L> {\n\tprotected model: M;\n\tprotected layerFactories: FactoryBank<AbstractReactFactory<LayerModel>>;\n\tprotected canvas: HTMLDivElement;\n\tprotected eventBus: ActionEventBus;\n\tprotected stateMachine: StateMachine;\n\tprotected options: CanvasEngineOptions;\n\n\tconstructor(options: CanvasEngineOptions = {}) {\n\t\tsuper();\n\t\tthis.model = null;\n\t\tthis.eventBus = new ActionEventBus(this);\n\t\tthis.stateMachine = new StateMachine(this);\n\t\tthis.layerFactories = new FactoryBank();\n\t\tthis.registerFactoryBank(this.layerFactories);\n\n\t\t/**\n\t\t * Overrides the standard options with the possible given options\n\t\t */\n\t\tthis.options = {\n\t\t\tregisterDefaultDeleteItemsAction: true,\n\t\t\tregisterDefaultZoomCanvasAction: true,\n\t\t\trepaintDebounceMs: 0,\n\t\t\t...options\n\t\t};\n\t\tif (this.options.registerDefaultZoomCanvasAction === true) {\n\t\t\tthis.eventBus.registerAction(new ZoomCanvasAction());\n\t\t}\n\t\tif (this.options.registerDefaultDeleteItemsAction === true) {\n\t\t\tthis.eventBus.registerAction(new DeleteItemsAction());\n\t\t}\n\t}\n\n\tgetStateMachine() {\n\t\treturn this.stateMachine;\n\t}\n\n\tgetRelativeMousePoint(event: { clientX: number; clientY: number }): Point {\n\t\tconst point = this.getRelativePoint(event.clientX, event.clientY);\n\t\treturn new Point(\n\t\t\t(point.x - this.model.getOffsetX()) / (this.model.getZoomLevel() / 100.0),\n\t\t\t(point.y - this.model.getOffsetY()) / (this.model.getZoomLevel() / 100.0)\n\t\t);\n\t}\n\n\tgetRelativePoint(x, y): Point {\n\t\tconst canvasRect = this.canvas.getBoundingClientRect();\n\t\treturn new Point(x - canvasRect.left, y - canvasRect.top);\n\t}\n\n\tregisterFactoryBank(factory: FactoryBank) {\n\t\tfactory.registerListener({\n\t\t\tfactoryAdded: (event) => {\n\t\t\t\tevent.factory.setDiagramEngine(this);\n\t\t\t},\n\t\t\tfactoryRemoved: (event) => {\n\t\t\t\tevent.factory.setDiagramEngine(null);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetActionEventBus() {\n\t\treturn this.eventBus;\n\t}\n\n\tgetLayerFactories() {\n\t\treturn this.layerFactories;\n\t}\n\n\tgetFactoryForLayer<F extends AbstractReactFactory<LayerModel>>(layer: LayerModel | string) {\n\t\tif (typeof layer === 'string') {\n\t\t\treturn this.layerFactories.getFactory(layer);\n\t\t}\n\t\treturn this.layerFactories.getFactory(layer.getType());\n\t}\n\n\tsetModel(model: M) {\n\t\tthis.model = model;\n\t\tif (this.canvas) {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.repaintCanvas();\n\t\t\t});\n\t\t}\n\t}\n\n\tgetModel(): M {\n\t\treturn this.model;\n\t}\n\n\trepaintCanvas(promise: true): Promise<any>;\n\trepaintCanvas(): void;\n\trepaintCanvas(promise?): Promise<any> | void {\n\t\tconst { repaintDebounceMs } = this.options;\n\n\t\t/**\n\t\t * The actual repaint function\n\t\t */\n\t\tconst repaint = () => {\n\t\t\tthis.iterateListeners((listener) => {\n\t\t\t\tif (listener.repaintCanvas) {\n\t\t\t\t\tlistener.repaintCanvas();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// if the `repaintDebounceMs` option is > 0, then apply the debounce\n\t\tlet repaintFn = repaint;\n\n\t\tif (repaintDebounceMs > 0) {\n\t\t\trepaintFn = debounce(repaint, repaintDebounceMs);\n\t\t}\n\n\t\tif (promise) {\n\t\t\treturn new Promise<void>((resolve) => {\n\t\t\t\tconst l = this.registerListener({\n\t\t\t\t\trendered: () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tl.deregister();\n\t\t\t\t\t}\n\t\t\t\t} as L);\n\t\t\t\trepaintFn();\n\t\t\t});\n\t\t}\n\n\t\trepaintFn();\n\t}\n\n\tsetCanvas(canvas?: HTMLDivElement) {\n\t\tif (this.canvas !== canvas) {\n\t\t\tthis.canvas = canvas;\n\t\t\tif (canvas) {\n\t\t\t\tthis.fireEvent({}, 'canvasReady');\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCanvas() {\n\t\treturn this.canvas;\n\t}\n\n\tgetMouseElement(event: MouseEvent): BaseModel {\n\t\treturn null;\n\t}\n\n\tzoomToFit() {\n\t\tconst xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;\n\t\tconst yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;\n\t\tconst zoomFactor = xFactor < yFactor ? xFactor : yFactor;\n\n\t\tthis.model.setZoomLevel(this.model.getZoomLevel() * zoomFactor);\n\t\tthis.model.setOffset(0, 0);\n\t\tthis.repaintCanvas();\n\t}\n}\n","import * as closest from 'closest';\n\nexport class Toolkit {\n\tstatic TESTING: boolean = false;\n\tstatic TESTING_UID = 0;\n\n\t/**\n\t * Generats a unique ID (thanks Stack overflow :3)\n\t * @returns {String}\n\t */\n\tpublic static UID(): string {\n\t\tif (Toolkit.TESTING) {\n\t\t\tToolkit.TESTING_UID++;\n\t\t\treturn `${Toolkit.TESTING_UID}`;\n\t\t}\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n\t\t\tconst r = (Math.random() * 16) | 0;\n\t\t\tconst v = c === 'x' ? r : (r & 0x3) | 0x8;\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\t/**\n\t * Finds the closest element as a polyfill\n\t */\n\tpublic static closest(element: Element, selector: string) {\n\t\tif (document.body.closest) {\n\t\t\treturn element.closest(selector);\n\t\t}\n\t\treturn closest(element, selector);\n\t}\n}\n","import { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { KeyboardEvent } from 'react';\nimport * as _ from 'lodash';\n\nexport interface DeleteItemsActionOptions {\n\tkeyCodes?: number[];\n\tmodifiers?: {\n\t\tctrlKey?: boolean;\n\t\tshiftKey?: boolean;\n\t\taltKey?: boolean;\n\t\tmetaKey?: boolean;\n\t};\n}\n\n/**\n * Deletes all selected items\n */\nexport class DeleteItemsAction extends Action {\n\tconstructor(options: DeleteItemsActionOptions = {}) {\n\t\tconst keyCodes = options.keyCodes || [46, 8];\n\t\tconst modifiers = {\n\t\t\tctrlKey: false,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tmetaKey: false,\n\t\t\t...options.modifiers\n\t\t};\n\n\t\tsuper({\n\t\t\ttype: InputType.KEY_DOWN,\n\t\t\tfire: (event: ActionEvent<KeyboardEvent>) => {\n\t\t\t\tconst { keyCode, ctrlKey, shiftKey, altKey, metaKey } = event.event;\n\n\t\t\t\tif (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({ ctrlKey, shiftKey, altKey, metaKey }, modifiers)) {\n\t\t\t\t\t_.forEach(this.engine.getModel().getSelectedEntities(), (model) => {\n\t\t\t\t\t\t// only delete items which are not locked\n\t\t\t\t\t\tif (!model.isLocked()) {\n\t\t\t\t\t\t\tmodel.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { WheelEvent } from 'react';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\n\nexport interface ZoomCanvasActionOptions {\n\tinverseZoom?: boolean;\n}\n\nexport class ZoomCanvasAction extends Action {\n\tconstructor(options: ZoomCanvasActionOptions = {}) {\n\t\tsuper({\n\t\t\ttype: InputType.MOUSE_WHEEL,\n\t\t\tfire: (actionEvent: ActionEvent<WheelEvent>) => {\n\t\t\t\tconst { event } = actionEvent;\n\t\t\t\t// we can block layer rendering because we are only targeting the transforms\n\t\t\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\t\t\tlayer.allowRepaint(false);\n\t\t\t\t}\n\n\t\t\t\tconst model = this.engine.getModel();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconst oldZoomFactor = this.engine.getModel().getZoomLevel() / 100;\n\t\t\t\tlet scrollDelta = options.inverseZoom ? -event.deltaY : event.deltaY;\n\t\t\t\t//check if it is pinch gesture\n\t\t\t\tif (event.ctrlKey && scrollDelta % 1 !== 0) {\n\t\t\t\t\t/*\n\t\t\t\t\t\tChrome and Firefox sends wheel event with deltaY that\n\t\t\t\t\t\thave fractional part, also `ctrlKey` prop of the event is true\n\t\t\t\t\t\tthough ctrl isn't pressed\n\t\t\t\t\t*/\n\t\t\t\t\tscrollDelta /= 3;\n\t\t\t\t} else {\n\t\t\t\t\tscrollDelta /= 60;\n\t\t\t\t}\n\t\t\t\tif (model.getZoomLevel() + scrollDelta > 10) {\n\t\t\t\t\tmodel.setZoomLevel(model.getZoomLevel() + scrollDelta);\n\t\t\t\t}\n\n\t\t\t\tconst zoomFactor = model.getZoomLevel() / 100;\n\n\t\t\t\tconst boundingRect = event.currentTarget.getBoundingClientRect();\n\t\t\t\tconst clientWidth = boundingRect.width;\n\t\t\t\tconst clientHeight = boundingRect.height;\n\t\t\t\t// compute difference between rect before and after scroll\n\t\t\t\tconst widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\n\t\t\t\tconst heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\n\t\t\t\t// compute mouse coords relative to canvas\n\t\t\t\tconst clientX = event.clientX - boundingRect.left;\n\t\t\t\tconst clientY = event.clientY - boundingRect.top;\n\n\t\t\t\t// compute width and height increment factor\n\t\t\t\tconst xFactor = (clientX - model.getOffsetX()) / oldZoomFactor / clientWidth;\n\t\t\t\tconst yFactor = (clientY - model.getOffsetY()) / oldZoomFactor / clientHeight;\n\n\t\t\t\tmodel.setOffset(model.getOffsetX() - widthDiff * xFactor, model.getOffsetY() - heightDiff * yFactor);\n\t\t\t\tthis.engine.repaintCanvas();\n\n\t\t\t\t// re-enable rendering\n\t\t\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\t\t\tlayer.allowRepaint(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { MouseEvent, KeyboardEvent, WheelEvent, SyntheticEvent } from 'react';\nimport { Toolkit } from '../Toolkit';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport enum InputType {\n\tMOUSE_DOWN = 'mouse-down',\n\tMOUSE_UP = 'mouse-up',\n\tMOUSE_MOVE = 'mouse-move',\n\tMOUSE_WHEEL = 'mouse-wheel',\n\tKEY_DOWN = 'key-down',\n\tKEY_UP = 'key-up'\n}\n\nexport interface Mapping {\n\t[InputType.MOUSE_DOWN]: MouseEvent;\n\t[InputType.MOUSE_UP]: MouseEvent;\n\t[InputType.MOUSE_MOVE]: MouseEvent;\n\t[InputType.MOUSE_WHEEL]: WheelEvent;\n\t[InputType.KEY_DOWN]: KeyboardEvent;\n\t[InputType.KEY_UP]: KeyboardEvent;\n}\n\nexport interface ActionEvent<Event extends SyntheticEvent = SyntheticEvent, Model extends BaseModel = BaseModel> {\n\tevent: Event;\n\tmodel?: Model;\n}\n\nexport interface ActionOptions {\n\ttype: InputType;\n\tfire: (event: ActionEvent<Mapping[this['type']]>) => void;\n}\n\nexport class Action<T extends CanvasEngine = CanvasEngine> {\n\toptions: ActionOptions;\n\tid: string;\n\tengine: T;\n\n\tconstructor(options: ActionOptions) {\n\t\tthis.options = options;\n\t\tthis.id = Toolkit.UID();\n\t}\n\n\tsetEngine(engine: T) {\n\t\tthis.engine = engine;\n\t}\n}\n","import { Action, ActionEvent, InputType } from './Action';\nimport { KeyboardEvent, MouseEvent } from 'react';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport class ActionEventBus {\n\tprotected actions: { [id: string]: Action };\n\tprotected engine: CanvasEngine;\n\tprotected keys: { [key: string]: boolean };\n\n\tconstructor(engine: CanvasEngine) {\n\t\tthis.actions = {};\n\t\tthis.engine = engine;\n\t\tthis.keys = {};\n\t}\n\n\tgetKeys(): string[] {\n\t\treturn _.keys(this.keys);\n\t}\n\n\tregisterAction(action: Action): () => void {\n\t\taction.setEngine(this.engine);\n\t\tthis.actions[action.id] = action;\n\t\treturn () => {\n\t\t\tthis.deregisterAction(action);\n\t\t};\n\t}\n\n\tderegisterAction(action: Action) {\n\t\taction.setEngine(null);\n\t\tdelete this.actions[action.id];\n\t}\n\n\tgetActionsForType(type: InputType): Action[] {\n\t\treturn _.filter(this.actions, (action) => {\n\t\t\treturn action.options.type === type;\n\t\t});\n\t}\n\n\tgetModelForEvent(actionEvent: ActionEvent<MouseEvent>): BaseModel {\n\t\tif (actionEvent.model) {\n\t\t\treturn actionEvent.model;\n\t\t}\n\t\treturn this.engine.getMouseElement(actionEvent.event);\n\t}\n\n\tgetActionsForEvent(actionEvent: ActionEvent): Action[] {\n\t\tconst { event } = actionEvent;\n\t\tif (event.type === 'mousedown') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_DOWN);\n\t\t} else if (event.type === 'mouseup') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_UP);\n\t\t} else if (event.type === 'keydown') {\n\t\t\t// store the recorded key\n\t\t\tthis.keys[(event as KeyboardEvent).key.toLowerCase()] = true;\n\t\t\treturn this.getActionsForType(InputType.KEY_DOWN);\n\t\t} else if (event.type === 'keyup') {\n\t\t\t// delete the recorded key\n\t\t\tdelete this.keys[(event as KeyboardEvent).key.toLowerCase()];\n\t\t\treturn this.getActionsForType(InputType.KEY_UP);\n\t\t} else if (event.type === 'mousemove') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_MOVE);\n\t\t} else if (event.type === 'wheel') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_WHEEL);\n\t\t}\n\t\treturn [];\n\t}\n\n\tfireAction(actionEvent: ActionEvent) {\n\t\tconst actions = this.getActionsForEvent(actionEvent);\n\t\tfor (let action of actions) {\n\t\t\taction.options.fire(actionEvent as any);\n\t\t}\n\t}\n}\n","import { Toolkit } from '../Toolkit';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseEvent, BaseListener, BaseObserver } from '../core/BaseObserver';\nimport { AbstractModelFactory } from '../core/AbstractModelFactory';\nimport { BaseModel } from './BaseModel';\n\nexport interface BaseEntityEvent<T extends BaseEntity = BaseEntity> extends BaseEvent {\n\tentity: T;\n}\n\nexport interface BaseEntityListener<T extends BaseEntity = BaseEntity> extends BaseListener {\n\tlockChanged?(event: BaseEntityEvent<T> & { locked: boolean }): void;\n}\n\nexport type BaseEntityType = 'node' | 'link' | 'port' | 'point';\n\nexport interface BaseEntityOptions {\n\tid?: string;\n\tlocked?: boolean;\n}\n\nexport type BaseEntityGenerics = {\n\tLISTENER: BaseEntityListener;\n\tOPTIONS: BaseEntityOptions;\n};\n\nexport interface DeserializeEvent<T extends BaseEntity = BaseEntity> {\n\tengine: CanvasEngine;\n\tdata: ReturnType<T['serialize']>;\n\tregisterModel(model: BaseModel);\n\tgetModel<T extends BaseModel>(id: string): Promise<T>;\n}\n\nexport class BaseEntity<T extends BaseEntityGenerics = BaseEntityGenerics> extends BaseObserver<T['LISTENER']> {\n\tprotected options: T['OPTIONS'];\n\n\tconstructor(options: T['OPTIONS'] = {}) {\n\t\tsuper();\n\t\tthis.options = {\n\t\t\tid: Toolkit.UID(),\n\t\t\t...options\n\t\t};\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n\n\tgetID() {\n\t\treturn this.options.id;\n\t}\n\n\tdoClone(lookupTable: { [s: string]: any } = {}, clone: any) {\n\t\t/*noop*/\n\t}\n\n\tclone(lookupTable: { [s: string]: any } = {}) {\n\t\t// try and use an existing clone first\n\t\tif (lookupTable[this.options.id]) {\n\t\t\treturn lookupTable[this.options.id];\n\t\t}\n\t\tlet clone = _.cloneDeep(this);\n\t\tclone.options = {\n\t\t\t...this.options,\n\t\t\tid: Toolkit.UID()\n\t\t};\n\t\tclone.clearListeners();\n\t\tlookupTable[this.options.id] = clone;\n\n\t\tthis.doClone(lookupTable, clone);\n\t\treturn clone;\n\t}\n\n\tclearListeners() {\n\t\tthis.listeners = {};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tthis.options.id = event.data.id;\n\t\tthis.options.locked = event.data.locked;\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\tid: this.options.id,\n\t\t\tlocked: this.options.locked\n\t\t};\n\t}\n\n\tfireEvent<L extends Partial<BaseEntityEvent> & object>(event: L, k: keyof T['LISTENER']) {\n\t\tsuper.fireEvent(\n\t\t\t{\n\t\t\t\tentity: this,\n\t\t\t\t...event\n\t\t\t},\n\t\t\tk\n\t\t);\n\t}\n\n\tpublic isLocked(): boolean {\n\t\treturn this.options.locked;\n\t}\n\n\tpublic setLocked(locked: boolean = true) {\n\t\tthis.options.locked = locked;\n\t\tthis.fireEvent(\n\t\t\t{\n\t\t\t\tlocked: locked\n\t\t\t},\n\t\t\t'lockChanged'\n\t\t);\n\t}\n}\n","import {\n\tBaseEntity,\n\tBaseEntityEvent,\n\tBaseEntityGenerics,\n\tBaseEntityListener,\n\tBaseEntityOptions,\n\tDeserializeEvent\n} from './BaseEntity';\nimport { CanvasModel } from '../entities/canvas/CanvasModel';\n\nexport interface BaseModelListener extends BaseEntityListener {\n\tselectionChanged?(event: BaseEntityEvent<BaseModel> & { isSelected: boolean }): void;\n\n\tentityRemoved?(event: BaseEntityEvent<BaseModel>): void;\n}\n\nexport interface BaseModelOptions extends BaseEntityOptions {\n\ttype?: string;\n\tselected?: boolean;\n\textras?: any;\n}\n\nexport interface BaseModelGenerics extends BaseEntityGenerics {\n\tLISTENER: BaseModelListener;\n\tPARENT: BaseEntity;\n\tOPTIONS: BaseModelOptions;\n}\n\nexport class BaseModel<G extends BaseModelGenerics = BaseModelGenerics> extends BaseEntity<G> {\n\tprotected parent: G['PARENT'];\n\n\tconstructor(options: G['OPTIONS']) {\n\t\tsuper(options);\n\t}\n\n\tperformanceTune() {\n\t\treturn true;\n\t}\n\n\tgetParentCanvasModel(): CanvasModel {\n\t\tif (!this.parent) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.parent instanceof CanvasModel) {\n\t\t\treturn this.parent;\n\t\t} else if (this.parent instanceof BaseModel) {\n\t\t\treturn this.parent.getParentCanvasModel();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetParent(): G['PARENT'] {\n\t\treturn this.parent;\n\t}\n\n\tsetParent(parent: G['PARENT']) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetSelectionEntities(): Array<BaseModel> {\n\t\treturn [this];\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\ttype: this.options.type,\n\t\t\tselected: this.options.selected,\n\t\t\textras: this.options.extras\n\t\t};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.extras = event.data.extras;\n\t\tthis.options.selected = event.data.selected;\n\t}\n\n\tgetType(): string {\n\t\treturn this.options.type;\n\t}\n\n\tisSelected(): boolean {\n\t\treturn this.options.selected;\n\t}\n\n\tisLocked(): boolean {\n\t\tconst locked = super.isLocked();\n\t\tif (locked) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// delegate this call up to the parent\n\t\tif (this.parent) {\n\t\t\treturn this.parent.isLocked();\n\t\t}\n\t\treturn false;\n\t}\n\n\tsetSelected(selected: boolean = true) {\n\t\tif (this.options.selected !== selected) {\n\t\t\tthis.options.selected = selected;\n\n\t\t\tthis.fireEvent(\n\t\t\t\t{\n\t\t\t\t\tisSelected: selected\n\t\t\t\t},\n\t\t\t\t'selectionChanged'\n\t\t\t);\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.fireEvent({}, 'entityRemoved');\n\t}\n}\n","import { BaseModel, BaseModelGenerics, BaseModelListener, BaseModelOptions } from './BaseModel';\nimport { BaseEntityEvent, DeserializeEvent } from './BaseEntity';\nimport { Point, Rectangle } from '@projectstorm/geometry';\nimport { ModelGeometryInterface } from '../core/ModelGeometryInterface';\n\nexport interface BasePositionModelListener extends BaseModelListener {\n\tpositionChanged?(event: BaseEntityEvent<BasePositionModel>): void;\n}\n\nexport interface BasePositionModelOptions extends BaseModelOptions {\n\tposition?: Point;\n}\n\nexport interface BasePositionModelGenerics extends BaseModelGenerics {\n\tLISTENER: BasePositionModelListener;\n\tOPTIONS: BasePositionModelOptions;\n}\n\nexport class BasePositionModel<G extends BasePositionModelGenerics = BasePositionModelGenerics>\n\textends BaseModel<G>\n\timplements ModelGeometryInterface {\n\tprotected position: Point;\n\n\tconstructor(options: G['OPTIONS']) {\n\t\tsuper(options);\n\t\tthis.position = options.position || new Point(0, 0);\n\t}\n\n\tsetPosition(point: Point);\n\tsetPosition(x: number, y: number);\n\tsetPosition(x, y?) {\n\t\tif (typeof x === 'object') {\n\t\t\tthis.position = x;\n\t\t} else if (typeof x) {\n\t\t\tthis.position = new Point(x, y);\n\t\t}\n\t\tthis.fireEvent({}, 'positionChanged');\n\t}\n\n\tgetBoundingBox(): Rectangle {\n\t\treturn new Rectangle(this.position, 0, 0);\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.position = new Point(event.data.x, event.data.y);\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tx: this.position.x,\n\t\t\ty: this.position.y\n\t\t};\n\t}\n\n\tgetPosition(): Point {\n\t\treturn this.position;\n\t}\n\n\tgetX() {\n\t\treturn this.position.x;\n\t}\n\n\tgetY() {\n\t\treturn this.position.y;\n\t}\n}\n","import { State, StateOptions } from './State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface AbstractDisplacementStateEvent {\n\tdisplacementX: number;\n\tdisplacementY: number;\n\tvirtualDisplacementX: number;\n\tvirtualDisplacementY: number;\n\tevent: React.MouseEvent;\n}\n\nexport abstract class AbstractDisplacementState<E extends CanvasEngine = CanvasEngine> extends State<E> {\n\tinitialX: number;\n\tinitialY: number;\n\tinitialXRelative: number;\n\tinitialYRelative: number;\n\n\tconstructor(options: StateOptions) {\n\t\tsuper(options);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tthis.initialX = actionEvent.event.clientX;\n\t\t\t\t\tthis.initialY = actionEvent.event.clientY;\n\t\t\t\t\tconst rel = this.engine.getRelativePoint(actionEvent.event.clientX, actionEvent.event.clientY);\n\t\t\t\t\tthis.initialXRelative = rel.x;\n\t\t\t\t\tthis.initialYRelative = rel.y;\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_MOVE,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tconst { event } = actionEvent;\n\n\t\t\t\t\tif (event.buttons === 0) {\n\t\t\t\t\t\t// If buttons is 0, it means the mouse is not down, the user may have released it\n\t\t\t\t\t\t// outside of the canvas, then we eject the state\n\t\t\t\t\t\tthis.eject();\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.fireMouseMoved({\n\t\t\t\t\t\tdisplacementX: event.clientX - this.initialX,\n\t\t\t\t\t\tdisplacementY: event.clientY - this.initialY,\n\t\t\t\t\t\tvirtualDisplacementX: (event.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tvirtualDisplacementY: (event.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tevent: event\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_UP,\n\t\t\t\tfire: (event: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\t// when the mouse if up, we eject this state\n\t\t\t\t\tthis.eject();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tabstract fireMouseMoved(event: AbstractDisplacementStateEvent);\n}\n","import { CanvasEngine } from '../CanvasEngine';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { SyntheticEvent } from 'react';\nimport * as _ from 'lodash';\n\nexport interface StateOptions {\n\tname: string;\n}\n\nexport abstract class State<E extends CanvasEngine = CanvasEngine> {\n\tprotected engine: E;\n\tprotected actions: Action[];\n\tprotected keys: string[];\n\tprotected options: StateOptions;\n\tprotected childStates: State[];\n\n\tprivate handler1;\n\tprivate handler2;\n\n\tconstructor(options: StateOptions) {\n\t\tthis.actions = [];\n\t\tthis.keys = [];\n\t\tthis.childStates = [];\n\t\tthis.options = options;\n\t}\n\n\tsetEngine(engine: E) {\n\t\tthis.engine = engine;\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n\n\teject() {\n\t\tthis.engine.getStateMachine().popState();\n\t}\n\n\ttransitionWithEvent(state: State, event: ActionEvent<SyntheticEvent>) {\n\t\tthis.engine.getStateMachine().pushState(state);\n\t\tthis.engine.getActionEventBus().fireAction(event);\n\t}\n\n\tregisterAction(action: Action) {\n\t\tthis.actions.push(action);\n\t}\n\n\ttryActivateParentState(keys: string[]) {\n\t\tif (this.keys.length > 0 && !this.isKeysFullfilled(keys)) {\n\t\t\tthis.eject();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\ttryActivateChildState(keys: string[]) {\n\t\tconst state = this.findStateToActivate(keys);\n\t\tif (state) {\n\t\t\tthis.engine.getStateMachine().pushState(state);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfindStateToActivate(keys: string[]) {\n\t\tfor (let child of this.childStates) {\n\t\t\tif (child.isKeysFullfilled(keys)) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tisKeysFullfilled(keys: string[]) {\n\t\treturn _.intersection(this.keys, keys).length === this.keys.length;\n\t}\n\n\tactivated(previous: State) {\n\t\tconst keys = this.engine.getActionEventBus().getKeys();\n\n\t\tif (this.tryActivateParentState(keys) || this.tryActivateChildState(keys)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// perhaps we need to pop again?\n\t\tthis.handler1 = this.engine.getActionEventBus().registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.KEY_DOWN,\n\t\t\t\tfire: () => {\n\t\t\t\t\tthis.tryActivateChildState(this.engine.getActionEventBus().getKeys());\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis.handler2 = this.engine.getActionEventBus().registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.KEY_UP,\n\t\t\t\tfire: () => {\n\t\t\t\t\tthis.tryActivateParentState(this.engine.getActionEventBus().getKeys());\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tfor (let action of this.actions) {\n\t\t\tthis.engine.getActionEventBus().registerAction(action);\n\t\t}\n\t}\n\n\tdeactivated(next: State) {\n\t\tif (this.handler1) {\n\t\t\tthis.handler1();\n\t\t}\n\t\tif (this.handler2) {\n\t\t\tthis.handler2();\n\t\t}\n\t\t// if this happens, we are going into heirachial state machine mode\n\t\tfor (let action of this.actions) {\n\t\t\tthis.engine.getActionEventBus().deregisterAction(action);\n\t\t}\n\t}\n}\n","import { State } from './State';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseEvent, BaseListener, BaseObserver } from '../core/BaseObserver';\n\nexport interface StateMachineListener extends BaseListener {\n\tstateChanged?: (event: BaseEvent & { newState: State }) => any;\n}\n\nexport class StateMachine extends BaseObserver<StateMachineListener> {\n\tprotected currentState: State;\n\tprotected stateStack: State[];\n\tprotected engine: CanvasEngine;\n\n\tconstructor(engine: CanvasEngine) {\n\t\tsuper();\n\t\tthis.engine = engine;\n\t\tthis.stateStack = [];\n\t}\n\n\tgetCurrentState() {\n\t\treturn this.currentState;\n\t}\n\n\tpushState(state: State) {\n\t\tthis.stateStack.push(state);\n\t\tthis.setState(state);\n\t}\n\n\tpopState() {\n\t\tthis.stateStack.pop();\n\t\tthis.setState(_.last(this.stateStack));\n\t}\n\n\tsetState(state: State) {\n\t\tstate.setEngine(this.engine);\n\n\t\t// if no state object, get the initial state\n\t\tif (this.currentState) {\n\t\t\tthis.currentState.deactivated(state);\n\t\t}\n\t\tconst old = this.currentState;\n\t\tthis.currentState = state;\n\t\tif (this.currentState) {\n\t\t\tthis.currentState.activated(old);\n\t\t\tthis.fireEvent<'stateChanged'>(\n\t\t\t\t{\n\t\t\t\t\tnewState: state\n\t\t\t\t},\n\t\t\t\t'stateChanged'\n\t\t\t);\n\t\t}\n\t}\n}\n","import { CanvasEngine } from '../CanvasEngine';\nimport { FactoryBank } from './FactoryBank';\n\n/**\n * Base factory for all the different types of entities.\n * Gets registered with the engine, and is used to generate models\n */\nexport abstract class AbstractFactory<E extends CanvasEngine = CanvasEngine> {\n\t/**\n\t * Couples the factory with the models it generates\n\t */\n\tprotected type: string;\n\t/**\n\t * The engine gets injected when the factory is registered\n\t */\n\tprotected engine: E;\n\tprotected bank: FactoryBank;\n\n\tconstructor(type: string) {\n\t\tthis.type = type;\n\t}\n\n\tsetDiagramEngine(engine: E) {\n\t\tthis.engine = engine;\n\t}\n\n\tsetFactoryBank(bank: FactoryBank) {\n\t\tthis.bank = bank;\n\t}\n\n\tgetType(): string {\n\t\treturn this.type;\n\t}\n}\n","import { AbstractFactory } from './AbstractFactory';\nimport { BaseModel } from '../core-models/BaseModel';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface GenerateModelEvent {\n\tinitialConfig?: any;\n}\n\nexport abstract class AbstractModelFactory<\n\tT extends BaseModel = BaseModel,\n\tE extends CanvasEngine = CanvasEngine\n> extends AbstractFactory<E> {\n\t/**\n\t * Generates new models (the core factory pattern)\n\t */\n\tabstract generateModel(event: GenerateModelEvent): T;\n}\n","import { BaseModel } from '../core-models/BaseModel';\nimport { AbstractModelFactory } from './AbstractModelFactory';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface GenerateWidgetEvent<T extends BaseModel> {\n\tmodel: T;\n}\n\n/**\n * Further extends the AbstractFactory to add widget generation capability.\n */\nexport abstract class AbstractReactFactory<\n\tT extends BaseModel = BaseModel,\n\tE extends CanvasEngine = CanvasEngine\n> extends AbstractModelFactory<T, E> {\n\t/**\n\t * Generates React widgets from the model contained in the event object\n\t */\n\tabstract generateReactWidget(event: GenerateWidgetEvent<T>): JSX.Element;\n}\n","import { Toolkit } from '../Toolkit';\n\nexport interface BaseEvent {\n\tfiring: boolean;\n\tstopPropagation: () => any;\n}\n\nexport interface BaseEventProxy extends BaseEvent {\n\tfunction: string;\n}\n\n/**\n * Listeners are always in the form of an object that contains methods that take events\n */\nexport type BaseListener = {\n\t/**\n\t * Generic event that fires before a specific event was fired\n\t */\n\teventWillFire?: (event: BaseEvent & { function: string }) => void;\n\n\t/**\n\t * Generic event that fires after a specific event was fired (even if it was consumed)\n\t */\n\teventDidFire?: (event: BaseEvent & { function: string }) => void;\n\t/**\n\t * Type for other events that will fire\n\t */\n\t[key: string]: (event: BaseEvent) => any;\n};\n\nexport interface ListenerHandle {\n\t/**\n\t * Used to degister the listener\n\t */\n\tderegister: () => any;\n\t/**\n\t * Original ID of the listener\n\t */\n\tid: string;\n\n\t/**\n\t * Original Listener\n\t */\n\tlistener: BaseListener;\n}\n\n/**\n * Base observer pattern class for working with listeners\n */\nexport class BaseObserver<L extends BaseListener = BaseListener> {\n\tprotected listeners: { [id: string]: L };\n\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\n\tprivate fireEventInternal(fire: boolean, k: keyof L, event: BaseEvent) {\n\t\tthis.iterateListeners((listener) => {\n\t\t\t// returning false here will instruct itteration to stop\n\t\t\tif (!fire && !event.firing) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// fire selected listener\n\t\t\tif (listener[k]) {\n\t\t\t\tlistener[k](event as BaseEvent);\n\t\t\t}\n\t\t});\n\t}\n\n\tfireEvent<K extends keyof L>(event: Partial<Parameters<L[K]>[0]>, k: keyof L) {\n\t\tevent = {\n\t\t\tfiring: true,\n\t\t\tstopPropagation: () => {\n\t\t\t\tevent.firing = false;\n\t\t\t},\n\t\t\t...event\n\t\t};\n\n\t\t// fire pre\n\t\tthis.fireEventInternal(true, 'eventWillFire', {\n\t\t\t...event,\n\t\t\tfunction: k\n\t\t} as BaseEventProxy);\n\n\t\t// fire main event\n\t\tthis.fireEventInternal(false, k, event as BaseEvent);\n\n\t\t// fire post\n\t\tthis.fireEventInternal(true, 'eventDidFire', {\n\t\t\t...event,\n\t\t\tfunction: k\n\t\t} as BaseEventProxy);\n\t}\n\n\titerateListeners(cb: (listener: L) => any) {\n\t\tfor (let id in this.listeners) {\n\t\t\tconst res = cb(this.listeners[id]);\n\t\t\t// cancel itteration on false\n\t\t\tif (res === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetListenerHandle(listener: L): ListenerHandle {\n\t\tfor (let id in this.listeners) {\n\t\t\tif (this.listeners[id] === listener) {\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tlistener: listener,\n\t\t\t\t\tderegister: () => {\n\t\t\t\t\t\tdelete this.listeners[id];\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tregisterListener(listener: L): ListenerHandle {\n\t\tconst id = Toolkit.UID();\n\t\tthis.listeners[id] = listener;\n\t\treturn {\n\t\t\tid: id,\n\t\t\tlistener: listener,\n\t\t\tderegister: () => {\n\t\t\t\tdelete this.listeners[id];\n\t\t\t}\n\t\t};\n\t}\n\n\tderegisterListener(listener: L | ListenerHandle) {\n\t\tif (typeof listener === 'object') {\n\t\t\t(listener as ListenerHandle).deregister();\n\t\t\treturn true;\n\t\t}\n\t\tconst handle = this.getListenerHandle(listener);\n\t\tif (handle) {\n\t\t\thandle.deregister();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n","import { BaseEvent, BaseListener, BaseObserver } from './BaseObserver';\nimport { AbstractFactory } from './AbstractFactory';\nimport * as _ from 'lodash';\n\nexport interface FactoryBankListener<F extends AbstractFactory = AbstractFactory> extends BaseListener {\n\t/**\n\t * Factory as added to rhe bank\n\t */\n\tfactoryAdded?: (event: BaseEvent & { factory: F }) => any;\n\n\t/**\n\t * Factory was removed from the bank\n\t */\n\tfactoryRemoved?: (event: BaseEvent & { factory: F }) => any;\n}\n\n/**\n * Store and managed Factories that extend from Abstractfactory\n */\nexport class FactoryBank<\n\tF extends AbstractFactory = AbstractFactory,\n\tL extends FactoryBankListener<F> = FactoryBankListener<F>\n> extends BaseObserver<L> {\n\tprotected factories: { [type: string]: F };\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.factories = {};\n\t}\n\n\tgetFactories(): F[] {\n\t\treturn _.values(this.factories);\n\t}\n\n\tclearFactories() {\n\t\tfor (let factory in this.factories) {\n\t\t\tthis.deregisterFactory(factory);\n\t\t}\n\t}\n\n\tgetFactory<T extends F = F>(type: string): T {\n\t\tif (!this.factories[type]) {\n\t\t\tthrow new Error(`Cannot find factory with type [${type}]`);\n\t\t}\n\t\treturn this.factories[type] as T;\n\t}\n\n\tregisterFactory(factory: F) {\n\t\tfactory.setFactoryBank(this);\n\t\tthis.factories[factory.getType()] = factory;\n\t\t// todo fixme\n\t\tthis.fireEvent<'factoryAdded'>({ factory } as any, 'factoryAdded');\n\t}\n\n\tderegisterFactory(type: string) {\n\t\tconst factory = this.factories[type];\n\t\tfactory.setFactoryBank(null);\n\t\tdelete this.factories[type];\n\t\t// todo fixme\n\t\tthis.fireEvent<'factoryRemoved'>({ factory } as any, 'factoryRemoved');\n\t}\n}\n","import * as _ from 'lodash';\nimport {\n\tBaseEntity,\n\tBaseEntityEvent,\n\tBaseEntityGenerics,\n\tBaseEntityListener,\n\tBaseEntityOptions,\n\tDeserializeEvent\n} from '../../core-models/BaseEntity';\nimport { LayerModel } from '../layer/LayerModel';\nimport { BaseModel } from '../../core-models/BaseModel';\nimport { CanvasEngine } from '../../CanvasEngine';\n\nexport interface DiagramListener extends BaseEntityListener {\n\toffsetUpdated?(event: BaseEntityEvent<CanvasModel> & { offsetX: number; offsetY: number }): void;\n\n\tzoomUpdated?(event: BaseEntityEvent<CanvasModel> & { zoom: number }): void;\n\n\tgridUpdated?(event: BaseEntityEvent<CanvasModel> & { size: number }): void;\n}\n\nexport interface DiagramModelOptions extends BaseEntityOptions {\n\toffsetX?: number;\n\toffsetY?: number;\n\tzoom?: number;\n\tgridSize?: number;\n}\n\nexport interface CanvasModelGenerics extends BaseEntityGenerics {\n\tLISTENER: DiagramListener;\n\tOPTIONS: DiagramModelOptions;\n\tLAYER: LayerModel;\n}\n\nexport class CanvasModel<G extends CanvasModelGenerics = CanvasModelGenerics> extends BaseEntity<G> {\n\tprotected layers: G['LAYER'][];\n\n\tconstructor(options: G['OPTIONS'] = {}) {\n\t\tsuper({\n\t\t\tzoom: 100,\n\t\t\tgridSize: 0,\n\t\t\toffsetX: 0,\n\t\t\toffsetY: 0,\n\t\t\t...options\n\t\t});\n\t\tthis.layers = [];\n\t}\n\n\tgetSelectionEntities(): BaseModel[] {\n\t\treturn _.flatMap(this.layers, (layer) => {\n\t\t\treturn layer.getSelectionEntities();\n\t\t});\n\t}\n\n\tgetSelectedEntities(): BaseModel[] {\n\t\treturn _.filter(this.getSelectionEntities(), (ob) => {\n\t\t\treturn ob.isSelected();\n\t\t});\n\t}\n\n\tclearSelection() {\n\t\t_.forEach(this.getSelectedEntities(), (element) => {\n\t\t\telement.setSelected(false);\n\t\t});\n\t}\n\n\tgetModels(): BaseModel[] {\n\t\treturn _.flatMap(this.layers, (layer) => {\n\t\t\treturn _.values(layer.getModels());\n\t\t});\n\t}\n\n\taddLayer(layer: LayerModel) {\n\t\tlayer.setParent(this);\n\t\tlayer.registerListener({\n\t\t\tentityRemoved: (event: BaseEntityEvent<BaseModel>): void => {}\n\t\t});\n\t\tthis.layers.push(layer);\n\t}\n\n\tremoveLayer(layer: LayerModel) {\n\t\tconst index = this.layers.indexOf(layer);\n\t\tif (index !== -1) {\n\t\t\tthis.layers.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetLayers() {\n\t\treturn this.layers;\n\t}\n\n\tsetGridSize(size: number = 0) {\n\t\tthis.options.gridSize = size;\n\t\tthis.fireEvent({ size: size }, 'gridUpdated');\n\t}\n\n\tgetGridPosition(pos: number) {\n\t\tif (this.options.gridSize === 0) {\n\t\t\treturn pos;\n\t\t}\n\t\treturn this.options.gridSize * Math.floor((pos + this.options.gridSize / 2) / this.options.gridSize);\n\t}\n\n\tdeserializeModel(data: ReturnType<this['serialize']>, engine: CanvasEngine) {\n\t\tconst models: {\n\t\t\t[id: string]: BaseModel;\n\t\t} = {};\n\t\tconst promises: {\n\t\t\t[id: string]: Promise<BaseModel>;\n\t\t} = {};\n\t\tconst resolvers: {\n\t\t\t[id: string]: (model: BaseModel) => any;\n\t\t} = {};\n\n\t\tconst event: DeserializeEvent = {\n\t\t\tdata: data,\n\t\t\tengine: engine,\n\t\t\tregisterModel: (model: BaseModel) => {\n\t\t\t\tmodels[model.getID()] = model;\n\t\t\t\tif (resolvers[model.getID()]) {\n\t\t\t\t\tresolvers[model.getID()](model);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetModel<T extends BaseModel>(id: string): Promise<T> {\n\t\t\t\tif (models[id]) {\n\t\t\t\t\treturn Promise.resolve(models[id]) as Promise<T>;\n\t\t\t\t}\n\t\t\t\tif (!promises[id]) {\n\t\t\t\t\tpromises[id] = new Promise((resolve) => {\n\t\t\t\t\t\tresolvers[id] = resolve;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn promises[id] as Promise<T>;\n\t\t\t}\n\t\t};\n\t\tthis.deserialize(event);\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.offsetX = event.data.offsetX;\n\t\tthis.options.offsetY = event.data.offsetY;\n\t\tthis.options.zoom = event.data.zoom;\n\t\tthis.options.gridSize = event.data.gridSize;\n\t\t_.forEach(event.data.layers, (layer) => {\n\t\t\tconst layerOb = event.engine.getFactoryForLayer(layer.type).generateModel({\n\t\t\t\tinitialConfig: layer\n\t\t\t});\n\t\t\tlayerOb.deserialize({\n\t\t\t\t...event,\n\t\t\t\tdata: layer\n\t\t\t});\n\t\t\tthis.addLayer(layerOb);\n\t\t});\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\toffsetX: this.options.offsetX,\n\t\t\toffsetY: this.options.offsetY,\n\t\t\tzoom: this.options.zoom,\n\t\t\tgridSize: this.options.gridSize,\n\t\t\tlayers: _.map(this.layers, (layer) => {\n\t\t\t\treturn layer.serialize();\n\t\t\t})\n\t\t};\n\t}\n\n\tsetZoomLevel(zoom: number) {\n\t\tthis.options.zoom = zoom;\n\t\tthis.fireEvent({ zoom }, 'zoomUpdated');\n\t}\n\n\tsetOffset(offsetX: number, offsetY: number) {\n\t\tthis.options.offsetX = offsetX;\n\t\tthis.options.offsetY = offsetY;\n\t\tthis.fireEvent({ offsetX, offsetY }, 'offsetUpdated');\n\t}\n\n\tsetOffsetX(offsetX: number) {\n\t\tthis.setOffset(offsetX, this.options.offsetY);\n\t}\n\n\tsetOffsetY(offsetY: number) {\n\t\tthis.setOffset(this.options.offsetX, offsetY);\n\t}\n\n\tgetOffsetY() {\n\t\treturn this.options.offsetY;\n\t}\n\n\tgetOffsetX() {\n\t\treturn this.options.offsetX;\n\t}\n\n\tgetZoomLevel() {\n\t\treturn this.options.zoom;\n\t}\n}\n","import * as React from 'react';\nimport { CanvasEngine } from '../../CanvasEngine';\nimport { TransformLayerWidget } from '../layer/TransformLayerWidget';\nimport styled from '@emotion/styled';\nimport { SmartLayerWidget } from '../layer/SmartLayerWidget';\n\nexport interface DiagramProps {\n\tengine: CanvasEngine;\n\tclassName?: string;\n}\n\nnamespace S {\n\texport const Canvas = styled.div`\n\t\tposition: relative;\n\t\tcursor: move;\n\t\toverflow: hidden;\n\t`;\n}\n\nexport class CanvasWidget extends React.Component<DiagramProps> {\n\tref: React.RefObject<HTMLDivElement>;\n\tkeyUp: any;\n\tkeyDown: any;\n\tcanvasListener: any;\n\n\tconstructor(props: DiagramProps) {\n\t\tsuper(props);\n\n\t\tthis.ref = React.createRef();\n\t\tthis.state = {\n\t\t\taction: null,\n\t\t\tdiagramEngineListener: null\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.engine.deregisterListener(this.canvasListener);\n\t\tthis.props.engine.setCanvas(null);\n\n\t\tdocument.removeEventListener('keyup', this.keyUp);\n\t\tdocument.removeEventListener('keydown', this.keyDown);\n\t}\n\n\tregisterCanvas() {\n\t\tthis.props.engine.setCanvas(this.ref.current);\n\t\tthis.props.engine.iterateListeners((list) => {\n\t\t\tlist.rendered && list.rendered();\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.registerCanvas();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.canvasListener = this.props.engine.registerListener({\n\t\t\trepaintCanvas: () => {\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t});\n\n\t\tthis.keyDown = (event) => {\n\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t};\n\t\tthis.keyUp = (event) => {\n\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t};\n\n\t\tdocument.addEventListener('keyup', this.keyUp);\n\t\tdocument.addEventListener('keydown', this.keyDown);\n\t\tthis.registerCanvas();\n\t}\n\n\trender() {\n\t\tconst engine = this.props.engine;\n\t\tconst model = engine.getModel();\n\n\t\treturn (\n\t\t\t<S.Canvas\n\t\t\t\tclassName={this.props.className}\n\t\t\t\tref={this.ref}\n\t\t\t\tonWheel={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseDown={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseUp={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseMove={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}>\n\t\t\t\t{model.getLayers().map((layer) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TransformLayerWidget layer={layer} key={layer.getID()}>\n\t\t\t\t\t\t\t<SmartLayerWidget layer={layer} engine={this.props.engine} key={layer.getID()} />\n\t\t\t\t\t\t</TransformLayerWidget>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</S.Canvas>\n\t\t);\n\t}\n}\n","import { BaseModel, BaseModelGenerics, BaseModelOptions } from '../../core-models/BaseModel';\nimport { CanvasModel } from '../canvas/CanvasModel';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../../CanvasEngine';\nimport { FactoryBank } from '../../core/FactoryBank';\nimport { AbstractModelFactory } from '../../core/AbstractModelFactory';\nimport { DeserializeEvent } from '../../core-models/BaseEntity';\n\nexport interface LayerModelOptions extends BaseModelOptions {\n\tisSvg?: boolean;\n\ttransformed?: boolean;\n}\n\nexport interface LayerModelGenerics extends BaseModelGenerics {\n\tOPTIONS: LayerModelOptions;\n\tPARENT: CanvasModel;\n\tCHILDREN: BaseModel;\n\tENGINE: CanvasEngine;\n}\n\nexport abstract class LayerModel<G extends LayerModelGenerics = LayerModelGenerics> extends BaseModel<G> {\n\tprotected models: { [id: string]: G['CHILDREN'] };\n\tprotected repaintEnabled: boolean;\n\n\tconstructor(options: G['OPTIONS'] = {}) {\n\t\tsuper(options);\n\t\tthis.models = {};\n\t\tthis.repaintEnabled = true;\n\t}\n\n\t/**\n\t * This is used for deserialization\n\t */\n\tabstract getChildModelFactoryBank(engine: G['ENGINE']): FactoryBank<AbstractModelFactory<BaseModel>>;\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.isSvg = !!event.data.isSvg;\n\t\tthis.options.transformed = !!event.data.transformed;\n\t\t_.forEach(event.data.models, (model) => {\n\t\t\tconst modelOb = this.getChildModelFactoryBank(event.engine).getFactory(model.type).generateModel({\n\t\t\t\tinitialConfig: model\n\t\t\t});\n\t\t\tmodelOb.deserialize({\n\t\t\t\t...event,\n\t\t\t\tdata: model\n\t\t\t});\n\t\t\tthis.addModel(modelOb);\n\t\t});\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tisSvg: this.options.isSvg,\n\t\t\ttransformed: this.options.transformed,\n\t\t\tmodels: _.mapValues(this.models, (model) => {\n\t\t\t\treturn model.serialize();\n\t\t\t})\n\t\t};\n\t}\n\n\tisRepaintEnabled() {\n\t\treturn this.repaintEnabled;\n\t}\n\n\tallowRepaint(allow: boolean = true) {\n\t\tthis.repaintEnabled = allow;\n\t}\n\n\tremove() {\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeLayer(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\taddModel(model: G['CHILDREN']) {\n\t\tmodel.setParent(this);\n\t\tthis.models[model.getID()] = model;\n\t}\n\n\tgetSelectionEntities(): Array<BaseModel> {\n\t\treturn _.flatMap(this.models, (model) => {\n\t\t\treturn model.getSelectionEntities();\n\t\t});\n\t}\n\n\tgetModels() {\n\t\treturn this.models;\n\t}\n\n\tgetModel(id: string) {\n\t\treturn this.models[id];\n\t}\n\n\tremoveModel(id: string | G['CHILDREN']): boolean {\n\t\tconst _id = typeof id === 'string' ? id : id.getID();\n\t\tif (this.models[_id]) {\n\t\t\tdelete this.models[_id];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n","import * as React from 'react';\nimport { LayerModel } from './LayerModel';\nimport { CanvasEngine } from '../../CanvasEngine';\n\nexport interface SmartLayerWidgetProps {\n\tlayer: LayerModel;\n\tengine: CanvasEngine;\n}\n\nexport class SmartLayerWidget extends React.Component<SmartLayerWidgetProps> {\n\tshouldComponentUpdate(): boolean {\n\t\treturn this.props.layer.isRepaintEnabled();\n\t}\n\n\trender() {\n\t\treturn this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({ model: this.props.layer });\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { CSSProperties } from 'react';\nimport { LayerModel } from './LayerModel';\nimport { css } from '@emotion/react';\n\nexport interface TransformLayerWidgetProps {\n\tlayer: LayerModel;\n}\n\nnamespace S {\n\tconst shared = css`\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\ttransform-origin: 0 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: visible;\n\t`;\n\n\texport const DivLayer = styled.div`\n\t\t${shared}\n\t`;\n\n\texport const SvgLayer = styled.svg`\n\t\t${shared}\n\t`;\n}\n\nexport class TransformLayerWidget extends React.Component<TransformLayerWidgetProps> {\n\tconstructor(props: TransformLayerWidgetProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tgetTransform() {\n\t\tconst model = this.props.layer.getParent();\n\t\treturn `\n\t\t\ttranslate(\n\t\t\t\t${model.getOffsetX()}px,\n\t\t\t\t${model.getOffsetY()}px)\n\t\t\tscale(\n\t\t\t\t${model.getZoomLevel() / 100.0}\n\t\t\t)\n  \t`;\n\t}\n\n\tgetTransformStyle(): CSSProperties {\n\t\tif (this.props.layer.getOptions().transformed) {\n\t\t\treturn {\n\t\t\t\ttransform: this.getTransform()\n\t\t\t};\n\t\t}\n\t\treturn {};\n\t}\n\n\trender() {\n\t\tif (this.props.layer.getOptions().isSvg) {\n\t\t\treturn <S.SvgLayer style={this.getTransformStyle()}>{this.props.children}</S.SvgLayer>;\n\t\t}\n\t\treturn <S.DivLayer style={this.getTransformStyle()}>{this.props.children}</S.DivLayer>;\n\t}\n}\n","import * as React from 'react';\nimport { AbstractReactFactory, GenerateWidgetEvent } from '../../core/AbstractReactFactory';\nimport { SelectionLayerModel } from './SelectionLayerModel';\nimport { GenerateModelEvent } from '../../core/AbstractModelFactory';\nimport { SelectionBoxWidget } from './SelectionBoxWidget';\n\nexport class SelectionBoxLayerFactory extends AbstractReactFactory<SelectionLayerModel> {\n\tconstructor() {\n\t\tsuper('selection');\n\t}\n\n\tgenerateModel(event: GenerateModelEvent): SelectionLayerModel {\n\t\treturn new SelectionLayerModel();\n\t}\n\n\tgenerateReactWidget(event: GenerateWidgetEvent<SelectionLayerModel>): JSX.Element {\n\t\treturn <SelectionBoxWidget rect={event.model.box} />;\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport interface SelectionBoxWidgetProps {\n\trect: ClientRect;\n}\n\nnamespace S {\n\texport const Container = styled.div`\n\t\tposition: absolute;\n\t\tbackground-color: rgba(0, 192, 255, 0.2);\n\t\tborder: solid 2px rgb(0, 192, 255);\n\t`;\n}\n\nexport class SelectionBoxWidget extends React.Component<SelectionBoxWidgetProps> {\n\trender() {\n\t\tconst { rect } = this.props;\n\t\treturn (\n\t\t\t<S.Container\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: rect.top,\n\t\t\t\t\tleft: rect.left,\n\t\t\t\t\twidth: rect.width,\n\t\t\t\t\theight: rect.height\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { LayerModel } from '../layer/LayerModel';\nimport { FactoryBank } from '../../core/FactoryBank';\nimport { AbstractModelFactory } from '../../core/AbstractModelFactory';\nimport { BaseModel } from '../../core-models/BaseModel';\n\nexport class SelectionLayerModel extends LayerModel {\n\tbox: ClientRect;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\ttransformed: false,\n\t\t\tisSvg: false,\n\t\t\ttype: 'selection'\n\t\t});\n\t}\n\n\tsetBox(rect: ClientRect) {\n\t\tthis.box = rect;\n\t}\n\n\tgetChildModelFactoryBank(): FactoryBank<AbstractModelFactory<BaseModel>> {\n\t\t// is not used as it doesnt serialize\n\t\treturn null;\n\t}\n}\n","export * from './CanvasEngine';\nexport * from './Toolkit';\nexport * from './entities/canvas/CanvasModel';\n\nexport * from './core/AbstractFactory';\nexport * from './core/AbstractModelFactory';\nexport * from './core/AbstractReactFactory';\nexport * from './core/BaseObserver';\nexport * from './core/FactoryBank';\nexport * from './core/ModelGeometryInterface';\n\nexport * from './core-actions/Action';\nexport * from './core-actions/ActionEventBus';\n\nexport * from './core-models/BaseEntity';\nexport * from './core-models/BaseModel';\nexport * from './core-models/BasePositionModel';\n\nexport * from './entities/canvas/CanvasModel';\nexport * from './entities/canvas/CanvasWidget';\n\nexport * from './entities/layer/LayerModel';\nexport * from './entities/layer/TransformLayerWidget';\nexport * from './entities/layer/SmartLayerWidget';\n\nexport * from './entities/selection/SelectionBoxLayerFactory';\nexport * from './entities/selection/SelectionBoxWidget';\nexport * from './entities/selection/SelectionLayerModel';\n\nexport * from './widgets/PeformanceWidget';\n\nexport * from './core-state/AbstractDisplacementState';\nexport * from './core-state/State';\nexport * from './core-state/StateMachine';\n\nexport * from './states/DefaultState';\nexport * from './states/DragCanvasState';\nexport * from './states/SelectingState';\nexport * from './states/SelectionBoxState';\nexport * from './states/MoveItemsState';\n\nexport * from './actions/DeleteItemsAction';\nexport * from './actions/ZoomCanvasAction';\n","import { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { MouseEvent } from 'react';\nimport { DragCanvasState } from './DragCanvasState';\nimport { SelectingState } from './SelectingState';\nimport { MoveItemsState } from './MoveItemsState';\n\nexport class DefaultState extends State {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'default'\n\t\t});\n\t\tthis.childStates = [new SelectingState()];\n\n\t\t// determine what was clicked on\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\n\t\t\t\t\t// the canvas was clicked on, transition to the dragging canvas state\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\tthis.transitionWithEvent(new DragCanvasState(), event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.transitionWithEvent(new MoveItemsState(), event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n","import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\n\nexport interface DragCanvasStateOptions {\n\t/**\n\t * If enabled, the canvas is available to drag\n\t */\n\tallowDrag?: boolean;\n}\n\nexport class DragCanvasState extends AbstractDisplacementState {\n\t// store this as we drag the canvas\n\tinitialCanvasX: number;\n\tinitialCanvasY: number;\n\tconfig: DragCanvasStateOptions;\n\n\tconstructor(options: DragCanvasStateOptions = {}) {\n\t\tsuper({\n\t\t\tname: 'drag-canvas'\n\t\t});\n\t\tthis.config = {\n\t\t\tallowDrag: true,\n\t\t\t...options\n\t\t};\n\t}\n\n\tasync activated(prev) {\n\t\tsuper.activated(prev);\n\t\tthis.engine.getModel().clearSelection();\n\t\tawait this.engine.repaintCanvas(true);\n\n\t\t// we can block layer rendering because we are only targeting the transforms\n\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\tlayer.allowRepaint(false);\n\t\t}\n\n\t\tthis.initialCanvasX = this.engine.getModel().getOffsetX();\n\t\tthis.initialCanvasY = this.engine.getModel().getOffsetY();\n\t}\n\n\tdeactivated(next: State) {\n\t\tsuper.deactivated(next);\n\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\tlayer.allowRepaint(true);\n\t\t}\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tif (this.config.allowDrag) {\n\t\t\tthis.engine\n\t\t\t\t.getModel()\n\t\t\t\t.setOffset(this.initialCanvasX + event.displacementX, this.initialCanvasY + event.displacementY);\n\t\t\tthis.engine.repaintCanvas();\n\t\t}\n\t}\n}\n","import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { BasePositionModel } from '../core-models/BasePositionModel';\nimport { Point } from '@projectstorm/geometry';\nimport { BaseModel } from '../core-models/BaseModel';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport class MoveItemsState<E extends CanvasEngine = CanvasEngine> extends AbstractDisplacementState<E> {\n\tinitialPositions: {\n\t\t[id: string]: {\n\t\t\tpoint: Point;\n\t\t\titem: BaseModel;\n\t\t};\n\t};\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'move-items'\n\t\t});\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!element.isSelected()) {\n\t\t\t\t\t\tthis.engine.getModel().clearSelection();\n\t\t\t\t\t}\n\t\t\t\t\telement.setSelected(true);\n\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tactivated(previous: State) {\n\t\tsuper.activated(previous);\n\t\tthis.initialPositions = {};\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tconst items = this.engine.getModel().getSelectedEntities();\n\t\tconst model = this.engine.getModel();\n\t\tfor (let item of items) {\n\t\t\tif (item instanceof BasePositionModel) {\n\t\t\t\tif (item.isLocked()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!this.initialPositions[item.getID()]) {\n\t\t\t\t\tthis.initialPositions[item.getID()] = {\n\t\t\t\t\t\tpoint: item.getPosition(),\n\t\t\t\t\t\titem: item\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst pos = this.initialPositions[item.getID()].point;\n\t\t\t\titem.setPosition(\n\t\t\t\t\tmodel.getGridPosition(pos.x + event.virtualDisplacementX),\n\t\t\t\t\tmodel.getGridPosition(pos.y + event.virtualDisplacementY)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.engine.repaintCanvas();\n\t}\n}\n","import { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { SelectionBoxState } from './SelectionBoxState';\nimport { MouseEvent } from 'react';\n\nexport class SelectingState extends State {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'selecting'\n\t\t});\n\t\tthis.keys = ['shift'];\n\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\n\t\t\t\t\t// go into a selection box on the canvas state\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\tthis.transitionWithEvent(new SelectionBoxState(), event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.setSelected(true);\n\t\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n","import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\nimport { SelectionLayerModel } from '../entities/selection/SelectionLayerModel';\nimport { Rectangle } from '@projectstorm/geometry';\nimport { ModelGeometryInterface } from '../core/ModelGeometryInterface';\n\nexport class SelectionBoxState extends AbstractDisplacementState {\n\tlayer: SelectionLayerModel;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'selection-box'\n\t\t});\n\t}\n\n\tactivated(previous: State) {\n\t\tsuper.activated(previous);\n\t\tthis.layer = new SelectionLayerModel();\n\t\tthis.engine.getModel().addLayer(this.layer);\n\t}\n\n\tdeactivated(next: State) {\n\t\tsuper.deactivated(next);\n\t\tthis.layer.remove();\n\t\tthis.engine.repaintCanvas();\n\t}\n\n\tgetBoxDimensions(event: AbstractDisplacementStateEvent): ClientRect {\n\t\tconst rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);\n\n\t\treturn {\n\t\t\tleft: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,\n\t\t\ttop: rel.y > this.initialYRelative ? this.initialYRelative : rel.y,\n\t\t\twidth: Math.abs(rel.x - this.initialXRelative),\n\t\t\theight: Math.abs(rel.y - this.initialYRelative),\n\t\t\tright: rel.x < this.initialXRelative ? this.initialXRelative : rel.x,\n\t\t\tbottom: rel.y < this.initialYRelative ? this.initialYRelative : rel.y\n\t\t};\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tthis.layer.setBox(this.getBoxDimensions(event));\n\n\t\tconst relative = this.engine.getRelativeMousePoint({\n\t\t\tclientX: this.initialX,\n\t\t\tclientY: this.initialY\n\t\t});\n\t\tif (event.virtualDisplacementX < 0) {\n\t\t\trelative.x -= Math.abs(event.virtualDisplacementX);\n\t\t}\n\t\tif (event.virtualDisplacementY < 0) {\n\t\t\trelative.y -= Math.abs(event.virtualDisplacementY);\n\t\t}\n\t\tconst rect = new Rectangle(relative, Math.abs(event.virtualDisplacementX), Math.abs(event.virtualDisplacementY));\n\n\t\tfor (let model of this.engine.getModel().getSelectionEntities()) {\n\t\t\tif (((model as unknown) as ModelGeometryInterface).getBoundingBox) {\n\t\t\t\tconst bounds = ((model as unknown) as ModelGeometryInterface).getBoundingBox();\n\t\t\t\tif (rect.containsPoint(bounds.getTopLeft()) && rect.containsPoint(bounds.getBottomRight())) {\n\t\t\t\t\tmodel.setSelected(true);\n\t\t\t\t} else {\n\t\t\t\t\tmodel.setSelected(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.engine.repaintCanvas();\n\t}\n}\n","import * as React from 'react';\nimport * as _ from 'lodash';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport interface PeformanceWidgetProps {\n\tchildren: () => JSX.Element;\n\tserialized: object;\n\tmodel: BaseModel;\n}\n\nexport interface PeformanceWidgetState {}\n\nexport class PeformanceWidget extends React.Component<PeformanceWidgetProps, PeformanceWidgetState> {\n\tshouldComponentUpdate(\n\t\tnextProps: Readonly<PeformanceWidgetProps>,\n\t\tnextState: Readonly<PeformanceWidgetState>,\n\t\tnextContext: any\n\t): boolean {\n\t\tif (!this.props.model.performanceTune()) {\n\t\t\treturn true;\n\t\t}\n\t\t// deserialization event\n\t\tif (this.props.model !== nextProps.model) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// change event\n\t\treturn !_.isEqual(this.props.serialized, nextProps.serialized);\n\t}\n\n\trender() {\n\t\treturn this.props.children();\n\t}\n}\n","module.exports = require(\"@emotion/react\");;","module.exports = require(\"@emotion/styled\");;","module.exports = require(\"@projectstorm/geometry\");;","module.exports = require(\"closest\");;","module.exports = require(\"lodash\");;","module.exports = require(\"react\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(418);\n"],"sourceRoot":""}
\ No newline at end of file
+{"version":3,"file":"index.umd.js","sources":["webpack://projectstorm/react-canvas-core/webpack/universalModuleDefinition","webpack://projectstorm/react-canvas-core/./src/CanvasEngine.ts","webpack://projectstorm/react-canvas-core/./src/Toolkit.ts","webpack://projectstorm/react-canvas-core/./src/actions/DeleteItemsAction.ts","webpack://projectstorm/react-canvas-core/./src/actions/ZoomCanvasAction.ts","webpack://projectstorm/react-canvas-core/./src/core-actions/Action.ts","webpack://projectstorm/react-canvas-core/./src/core-actions/ActionEventBus.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BaseEntity.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BaseModel.ts","webpack://projectstorm/react-canvas-core/./src/core-models/BasePositionModel.ts","webpack://projectstorm/react-canvas-core/./src/core-state/AbstractDisplacementState.ts","webpack://projectstorm/react-canvas-core/./src/core-state/State.ts","webpack://projectstorm/react-canvas-core/./src/core-state/StateMachine.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractFactory.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractModelFactory.ts","webpack://projectstorm/react-canvas-core/./src/core/AbstractReactFactory.tsx","webpack://projectstorm/react-canvas-core/./src/core/BaseObserver.ts","webpack://projectstorm/react-canvas-core/./src/core/FactoryBank.ts","webpack://projectstorm/react-canvas-core/./src/entities/canvas/CanvasModel.ts","webpack://projectstorm/react-canvas-core/./src/entities/canvas/CanvasWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/layer/LayerModel.ts","webpack://projectstorm/react-canvas-core/./src/entities/layer/SmartLayerWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/layer/TransformLayerWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionBoxLayerFactory.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionBoxWidget.tsx","webpack://projectstorm/react-canvas-core/./src/entities/selection/SelectionLayerModel.ts","webpack://projectstorm/react-canvas-core/./src/index.ts","webpack://projectstorm/react-canvas-core/./src/states/DefaultState.ts","webpack://projectstorm/react-canvas-core/./src/states/DragCanvasState.ts","webpack://projectstorm/react-canvas-core/./src/states/MoveItemsState.ts","webpack://projectstorm/react-canvas-core/./src/states/SelectingState.ts","webpack://projectstorm/react-canvas-core/./src/states/SelectionBoxState.ts","webpack://projectstorm/react-canvas-core/./src/widgets/PeformanceWidget.tsx","webpack://projectstorm/react-canvas-core/external \"@emotion/react\"","webpack://projectstorm/react-canvas-core/external \"@emotion/styled\"","webpack://projectstorm/react-canvas-core/external \"@projectstorm/geometry\"","webpack://projectstorm/react-canvas-core/external \"closest\"","webpack://projectstorm/react-canvas-core/external \"lodash\"","webpack://projectstorm/react-canvas-core/external \"react\"","webpack://projectstorm/react-canvas-core/webpack/bootstrap","webpack://projectstorm/react-canvas-core/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"projectstorm/react-canvas-core\"] = factory();\n\telse\n\t\troot[\"projectstorm/react-canvas-core\"] = factory();\n})(self, function() {\nreturn ","import { debounce } from 'lodash';\nimport { CanvasModel } from './entities/canvas/CanvasModel';\nimport { FactoryBank } from './core/FactoryBank';\nimport { AbstractReactFactory } from './core/AbstractReactFactory';\nimport { LayerModel } from './entities/layer/LayerModel';\nimport { BaseListener, BaseObserver } from './core/BaseObserver';\nimport { MouseEvent } from 'react';\nimport { BaseModel } from './core-models/BaseModel';\nimport { Point } from '@projectstorm/geometry';\nimport { ActionEventBus } from './core-actions/ActionEventBus';\nimport { ZoomCanvasAction } from './actions/ZoomCanvasAction';\nimport { DeleteItemsAction } from './actions/DeleteItemsAction';\nimport { StateMachine } from './core-state/StateMachine';\n\nexport interface CanvasEngineListener extends BaseListener {\n\tcanvasReady?(): void;\n\n\trepaintCanvas?(): void;\n\n\trendered?(): void;\n}\n\n/**\n * Defines the CanvasEngine options\n */\nexport interface CanvasEngineOptions {\n\tregisterDefaultDeleteItemsAction?: boolean;\n\tregisterDefaultZoomCanvasAction?: boolean;\n\t/**\n\t * Defines the debounce wait time in milliseconds if > 0\n\t */\n\trepaintDebounceMs?: number;\n}\n\nexport class CanvasEngine<\n\tL extends CanvasEngineListener = CanvasEngineListener,\n\tM extends CanvasModel = CanvasModel\n> extends BaseObserver<L> {\n\tprotected model: M;\n\tprotected layerFactories: FactoryBank<AbstractReactFactory<LayerModel>>;\n\tprotected canvas: HTMLDivElement;\n\tprotected eventBus: ActionEventBus;\n\tprotected stateMachine: StateMachine;\n\tprotected options: CanvasEngineOptions;\n\n\tconstructor(options: CanvasEngineOptions = {}) {\n\t\tsuper();\n\t\tthis.model = null;\n\t\tthis.eventBus = new ActionEventBus(this);\n\t\tthis.stateMachine = new StateMachine(this);\n\t\tthis.layerFactories = new FactoryBank();\n\t\tthis.registerFactoryBank(this.layerFactories);\n\n\t\t/**\n\t\t * Overrides the standard options with the possible given options\n\t\t */\n\t\tthis.options = {\n\t\t\tregisterDefaultDeleteItemsAction: true,\n\t\t\tregisterDefaultZoomCanvasAction: true,\n\t\t\trepaintDebounceMs: 0,\n\t\t\t...options\n\t\t};\n\t\tif (this.options.registerDefaultZoomCanvasAction === true) {\n\t\t\tthis.eventBus.registerAction(new ZoomCanvasAction());\n\t\t}\n\t\tif (this.options.registerDefaultDeleteItemsAction === true) {\n\t\t\tthis.eventBus.registerAction(new DeleteItemsAction());\n\t\t}\n\t}\n\n\tgetStateMachine() {\n\t\treturn this.stateMachine;\n\t}\n\n\tgetRelativeMousePoint(event: { clientX: number; clientY: number }): Point {\n\t\tconst point = this.getRelativePoint(event.clientX, event.clientY);\n\t\treturn new Point(\n\t\t\t(point.x - this.model.getOffsetX()) / (this.model.getZoomLevel() / 100.0),\n\t\t\t(point.y - this.model.getOffsetY()) / (this.model.getZoomLevel() / 100.0)\n\t\t);\n\t}\n\n\tgetRelativePoint(x, y): Point {\n\t\tconst canvasRect = this.canvas.getBoundingClientRect();\n\t\treturn new Point(x - canvasRect.left, y - canvasRect.top);\n\t}\n\n\tregisterFactoryBank(factory: FactoryBank) {\n\t\tfactory.registerListener({\n\t\t\tfactoryAdded: (event) => {\n\t\t\t\tevent.factory.setDiagramEngine(this);\n\t\t\t},\n\t\t\tfactoryRemoved: (event) => {\n\t\t\t\tevent.factory.setDiagramEngine(null);\n\t\t\t}\n\t\t});\n\t}\n\n\tgetActionEventBus() {\n\t\treturn this.eventBus;\n\t}\n\n\tgetLayerFactories() {\n\t\treturn this.layerFactories;\n\t}\n\n\tgetFactoryForLayer<F extends AbstractReactFactory<LayerModel>>(layer: LayerModel | string) {\n\t\tif (typeof layer === 'string') {\n\t\t\treturn this.layerFactories.getFactory(layer);\n\t\t}\n\t\treturn this.layerFactories.getFactory(layer.getType());\n\t}\n\n\tsetModel(model: M) {\n\t\tthis.model = model;\n\t\tif (this.canvas) {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tthis.repaintCanvas();\n\t\t\t});\n\t\t}\n\t}\n\n\tgetModel(): M {\n\t\treturn this.model;\n\t}\n\n\trepaintCanvas(promise: true): Promise<any>;\n\trepaintCanvas(): void;\n\trepaintCanvas(promise?): Promise<any> | void {\n\t\tconst { repaintDebounceMs } = this.options;\n\n\t\t/**\n\t\t * The actual repaint function\n\t\t */\n\t\tconst repaint = () => {\n\t\t\tthis.iterateListeners((listener) => {\n\t\t\t\tif (listener.repaintCanvas) {\n\t\t\t\t\tlistener.repaintCanvas();\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t// if the `repaintDebounceMs` option is > 0, then apply the debounce\n\t\tlet repaintFn = repaint;\n\n\t\tif (repaintDebounceMs > 0) {\n\t\t\trepaintFn = debounce(repaint, repaintDebounceMs);\n\t\t}\n\n\t\tif (promise) {\n\t\t\treturn new Promise<void>((resolve) => {\n\t\t\t\tconst l = this.registerListener({\n\t\t\t\t\trendered: () => {\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t\tl.deregister();\n\t\t\t\t\t}\n\t\t\t\t} as L);\n\t\t\t\trepaintFn();\n\t\t\t});\n\t\t}\n\n\t\trepaintFn();\n\t}\n\n\tsetCanvas(canvas?: HTMLDivElement) {\n\t\tif (this.canvas !== canvas) {\n\t\t\tthis.canvas = canvas;\n\t\t\tif (canvas) {\n\t\t\t\tthis.fireEvent({}, 'canvasReady');\n\t\t\t}\n\t\t}\n\t}\n\n\tgetCanvas() {\n\t\treturn this.canvas;\n\t}\n\n\tgetMouseElement(event: MouseEvent): BaseModel {\n\t\treturn null;\n\t}\n\n\tzoomToFit() {\n\t\tconst xFactor = this.canvas.clientWidth / this.canvas.scrollWidth;\n\t\tconst yFactor = this.canvas.clientHeight / this.canvas.scrollHeight;\n\t\tconst zoomFactor = xFactor < yFactor ? xFactor : yFactor;\n\n\t\tthis.model.setZoomLevel(this.model.getZoomLevel() * zoomFactor);\n\t\tthis.model.setOffset(0, 0);\n\t\tthis.repaintCanvas();\n\t}\n}\n","import * as closest from 'closest';\n\nexport class Toolkit {\n\tstatic TESTING: boolean = false;\n\tstatic TESTING_UID = 0;\n\n\t/**\n\t * Generats a unique ID (thanks Stack overflow :3)\n\t * @returns {String}\n\t */\n\tpublic static UID(): string {\n\t\tif (Toolkit.TESTING) {\n\t\t\tToolkit.TESTING_UID++;\n\t\t\treturn `${Toolkit.TESTING_UID}`;\n\t\t}\n\t\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n\t\t\tconst r = (Math.random() * 16) | 0;\n\t\t\tconst v = c === 'x' ? r : (r & 0x3) | 0x8;\n\t\t\treturn v.toString(16);\n\t\t});\n\t}\n\n\t/**\n\t * Finds the closest element as a polyfill\n\t */\n\tpublic static closest(element: Element, selector: string) {\n\t\tif (document.body.closest) {\n\t\t\treturn element.closest(selector);\n\t\t}\n\t\treturn closest(element, selector);\n\t}\n}\n","import { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { KeyboardEvent } from 'react';\nimport * as _ from 'lodash';\n\nexport interface DeleteItemsActionOptions {\n\tkeyCodes?: number[];\n\tmodifiers?: {\n\t\tctrlKey?: boolean;\n\t\tshiftKey?: boolean;\n\t\taltKey?: boolean;\n\t\tmetaKey?: boolean;\n\t};\n}\n\n/**\n * Deletes all selected items\n */\nexport class DeleteItemsAction extends Action {\n\tconstructor(options: DeleteItemsActionOptions = {}) {\n\t\tconst keyCodes = options.keyCodes || [46, 8];\n\t\tconst modifiers = {\n\t\t\tctrlKey: false,\n\t\t\tshiftKey: false,\n\t\t\taltKey: false,\n\t\t\tmetaKey: false,\n\t\t\t...options.modifiers\n\t\t};\n\n\t\tsuper({\n\t\t\ttype: InputType.KEY_DOWN,\n\t\t\tfire: (event: ActionEvent<KeyboardEvent>) => {\n\t\t\t\tconst { keyCode, ctrlKey, shiftKey, altKey, metaKey } = event.event;\n\n\t\t\t\tif (keyCodes.indexOf(keyCode) !== -1 && _.isEqual({ ctrlKey, shiftKey, altKey, metaKey }, modifiers)) {\n\t\t\t\t\t_.forEach(this.engine.getModel().getSelectedEntities(), (model) => {\n\t\t\t\t\t\t// only delete items which are not locked\n\t\t\t\t\t\tif (!model.isLocked()) {\n\t\t\t\t\t\t\tmodel.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { WheelEvent } from 'react';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\n\nexport interface ZoomCanvasActionOptions {\n\tinverseZoom?: boolean;\n}\n\nexport class ZoomCanvasAction extends Action {\n\tconstructor(options: ZoomCanvasActionOptions = {}) {\n\t\tsuper({\n\t\t\ttype: InputType.MOUSE_WHEEL,\n\t\t\tfire: (actionEvent: ActionEvent<WheelEvent>) => {\n\t\t\t\tconst { event } = actionEvent;\n\t\t\t\t// we can block layer rendering because we are only targeting the transforms\n\t\t\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\t\t\tlayer.allowRepaint(false);\n\t\t\t\t}\n\n\t\t\t\tconst model = this.engine.getModel();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconst oldZoomFactor = this.engine.getModel().getZoomLevel() / 100;\n\t\t\t\tlet scrollDelta = options.inverseZoom ? -event.deltaY : event.deltaY;\n\t\t\t\t//check if it is pinch gesture\n\t\t\t\tif (event.ctrlKey && scrollDelta % 1 !== 0) {\n\t\t\t\t\t/*\n\t\t\t\t\t\tChrome and Firefox sends wheel event with deltaY that\n\t\t\t\t\t\thave fractional part, also `ctrlKey` prop of the event is true\n\t\t\t\t\t\tthough ctrl isn't pressed\n\t\t\t\t\t*/\n\t\t\t\t\tscrollDelta /= 3;\n\t\t\t\t} else {\n\t\t\t\t\tscrollDelta /= 60;\n\t\t\t\t}\n\t\t\t\tif (model.getZoomLevel() + scrollDelta > 10) {\n\t\t\t\t\tmodel.setZoomLevel(model.getZoomLevel() + scrollDelta);\n\t\t\t\t}\n\n\t\t\t\tconst zoomFactor = model.getZoomLevel() / 100;\n\n\t\t\t\tconst boundingRect = event.currentTarget.getBoundingClientRect();\n\t\t\t\tconst clientWidth = boundingRect.width;\n\t\t\t\tconst clientHeight = boundingRect.height;\n\t\t\t\t// compute difference between rect before and after scroll\n\t\t\t\tconst widthDiff = clientWidth * zoomFactor - clientWidth * oldZoomFactor;\n\t\t\t\tconst heightDiff = clientHeight * zoomFactor - clientHeight * oldZoomFactor;\n\t\t\t\t// compute mouse coords relative to canvas\n\t\t\t\tconst clientX = event.clientX - boundingRect.left;\n\t\t\t\tconst clientY = event.clientY - boundingRect.top;\n\n\t\t\t\t// compute width and height increment factor\n\t\t\t\tconst xFactor = (clientX - model.getOffsetX()) / oldZoomFactor / clientWidth;\n\t\t\t\tconst yFactor = (clientY - model.getOffsetY()) / oldZoomFactor / clientHeight;\n\n\t\t\t\tmodel.setOffset(model.getOffsetX() - widthDiff * xFactor, model.getOffsetY() - heightDiff * yFactor);\n\t\t\t\tthis.engine.repaintCanvas();\n\n\t\t\t\t// re-enable rendering\n\t\t\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\t\t\tlayer.allowRepaint(true);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { MouseEvent, KeyboardEvent, WheelEvent, TouchEvent, SyntheticEvent } from 'react';\nimport { Toolkit } from '../Toolkit';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport enum InputType {\n\tMOUSE_DOWN = 'mouse-down',\n\tMOUSE_UP = 'mouse-up',\n\tMOUSE_MOVE = 'mouse-move',\n\tMOUSE_WHEEL = 'mouse-wheel',\n\tKEY_DOWN = 'key-down',\n\tKEY_UP = 'key-up',\n\tTOUCH_START = 'touch-start',\n\tTOUCH_END = 'touch-end',\n\tTOUCH_MOVE = 'touch-move'\n}\n\nexport interface Mapping {\n\t[InputType.MOUSE_DOWN]: MouseEvent;\n\t[InputType.MOUSE_UP]: MouseEvent;\n\t[InputType.MOUSE_MOVE]: MouseEvent;\n\t[InputType.MOUSE_WHEEL]: WheelEvent;\n\t[InputType.KEY_DOWN]: KeyboardEvent;\n\t[InputType.KEY_UP]: KeyboardEvent;\n\t[InputType.TOUCH_START]: TouchEvent;\n\t[InputType.TOUCH_END]: TouchEvent;\n\t[InputType.TOUCH_MOVE]: TouchEvent;\n}\n\nexport interface ActionEvent<Event extends SyntheticEvent = SyntheticEvent, Model extends BaseModel = BaseModel> {\n\tevent: Event;\n\tmodel?: Model;\n}\n\nexport interface ActionOptions {\n\ttype: InputType;\n\tfire: (event: ActionEvent<Mapping[this['type']]>) => void;\n}\n\nexport class Action<T extends CanvasEngine = CanvasEngine> {\n\toptions: ActionOptions;\n\tid: string;\n\tengine: T;\n\n\tconstructor(options: ActionOptions) {\n\t\tthis.options = options;\n\t\tthis.id = Toolkit.UID();\n\t}\n\n\tsetEngine(engine: T) {\n\t\tthis.engine = engine;\n\t}\n}\n","import { Action, ActionEvent, InputType } from './Action';\nimport { KeyboardEvent, MouseEvent } from 'react';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport class ActionEventBus {\n\tprotected actions: { [id: string]: Action };\n\tprotected engine: CanvasEngine;\n\tprotected keys: { [key: string]: boolean };\n\n\tconstructor(engine: CanvasEngine) {\n\t\tthis.actions = {};\n\t\tthis.engine = engine;\n\t\tthis.keys = {};\n\t}\n\n\tgetKeys(): string[] {\n\t\treturn _.keys(this.keys);\n\t}\n\n\tregisterAction(action: Action): () => void {\n\t\taction.setEngine(this.engine);\n\t\tthis.actions[action.id] = action;\n\t\treturn () => {\n\t\t\tthis.deregisterAction(action);\n\t\t};\n\t}\n\n\tderegisterAction(action: Action) {\n\t\taction.setEngine(null);\n\t\tdelete this.actions[action.id];\n\t}\n\n\tgetActionsForType(type: InputType): Action[] {\n\t\treturn _.filter(this.actions, (action) => {\n\t\t\treturn action.options.type === type;\n\t\t});\n\t}\n\n\tgetModelForEvent(actionEvent: ActionEvent<MouseEvent>): BaseModel {\n\t\tif (actionEvent.model) {\n\t\t\treturn actionEvent.model;\n\t\t}\n\t\treturn this.engine.getMouseElement(actionEvent.event);\n\t}\n\n\tgetActionsForEvent(actionEvent: ActionEvent): Action[] {\n\t\tconst { event } = actionEvent;\n\t\tif (event.type === 'mousedown') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_DOWN);\n\t\t} else if (event.type === 'mouseup') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_UP);\n\t\t} else if (event.type === 'keydown') {\n\t\t\t// store the recorded key\n\t\t\tthis.keys[(event as KeyboardEvent).key.toLowerCase()] = true;\n\t\t\treturn this.getActionsForType(InputType.KEY_DOWN);\n\t\t} else if (event.type === 'keyup') {\n\t\t\t// delete the recorded key\n\t\t\tdelete this.keys[(event as KeyboardEvent).key.toLowerCase()];\n\t\t\treturn this.getActionsForType(InputType.KEY_UP);\n\t\t} else if (event.type === 'mousemove') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_MOVE);\n\t\t} else if (event.type === 'wheel') {\n\t\t\treturn this.getActionsForType(InputType.MOUSE_WHEEL);\n\t\t} else if (event.type === 'touchstart') {\n\t\t\treturn this.getActionsForType(InputType.TOUCH_START);\n\t\t} else if (event.type === 'touchend') {\n\t\t\treturn this.getActionsForType(InputType.TOUCH_END);\n\t\t} else if (event.type === 'touchmove') {\n\t\t\treturn this.getActionsForType(InputType.TOUCH_MOVE);\n\t\t}\n\n\t\treturn [];\n\t}\n\n\tfireAction(actionEvent: ActionEvent) {\n\t\tconst actions = this.getActionsForEvent(actionEvent);\n\t\tfor (let action of actions) {\n\t\t\taction.options.fire(actionEvent as any);\n\t\t}\n\t}\n}\n","import { Toolkit } from '../Toolkit';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseEvent, BaseListener, BaseObserver } from '../core/BaseObserver';\nimport { AbstractModelFactory } from '../core/AbstractModelFactory';\nimport { BaseModel } from './BaseModel';\n\nexport interface BaseEntityEvent<T extends BaseEntity = BaseEntity> extends BaseEvent {\n\tentity: T;\n}\n\nexport interface BaseEntityListener<T extends BaseEntity = BaseEntity> extends BaseListener {\n\tlockChanged?(event: BaseEntityEvent<T> & { locked: boolean }): void;\n}\n\nexport type BaseEntityType = 'node' | 'link' | 'port' | 'point';\n\nexport interface BaseEntityOptions {\n\tid?: string;\n\tlocked?: boolean;\n}\n\nexport type BaseEntityGenerics = {\n\tLISTENER: BaseEntityListener;\n\tOPTIONS: BaseEntityOptions;\n};\n\nexport interface DeserializeEvent<T extends BaseEntity = BaseEntity> {\n\tengine: CanvasEngine;\n\tdata: ReturnType<T['serialize']>;\n\tregisterModel(model: BaseModel);\n\tgetModel<T extends BaseModel>(id: string): Promise<T>;\n}\n\nexport class BaseEntity<T extends BaseEntityGenerics = BaseEntityGenerics> extends BaseObserver<T['LISTENER']> {\n\tprotected options: T['OPTIONS'];\n\n\tconstructor(options: T['OPTIONS'] = {}) {\n\t\tsuper();\n\t\tthis.options = {\n\t\t\tid: Toolkit.UID(),\n\t\t\t...options\n\t\t};\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n\n\tgetID() {\n\t\treturn this.options.id;\n\t}\n\n\tdoClone(lookupTable: { [s: string]: any } = {}, clone: any) {\n\t\t/*noop*/\n\t}\n\n\tclone(lookupTable: { [s: string]: any } = {}) {\n\t\t// try and use an existing clone first\n\t\tif (lookupTable[this.options.id]) {\n\t\t\treturn lookupTable[this.options.id];\n\t\t}\n\t\tlet clone = _.cloneDeep(this);\n\t\tclone.options = {\n\t\t\t...this.options,\n\t\t\tid: Toolkit.UID()\n\t\t};\n\t\tclone.clearListeners();\n\t\tlookupTable[this.options.id] = clone;\n\n\t\tthis.doClone(lookupTable, clone);\n\t\treturn clone;\n\t}\n\n\tclearListeners() {\n\t\tthis.listeners = {};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tthis.options.id = event.data.id;\n\t\tthis.options.locked = event.data.locked;\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\tid: this.options.id,\n\t\t\tlocked: this.options.locked\n\t\t};\n\t}\n\n\tfireEvent<L extends Partial<BaseEntityEvent> & object>(event: L, k: keyof T['LISTENER']) {\n\t\tsuper.fireEvent(\n\t\t\t{\n\t\t\t\tentity: this,\n\t\t\t\t...event\n\t\t\t},\n\t\t\tk\n\t\t);\n\t}\n\n\tpublic isLocked(): boolean {\n\t\treturn this.options.locked;\n\t}\n\n\tpublic setLocked(locked: boolean = true) {\n\t\tthis.options.locked = locked;\n\t\tthis.fireEvent(\n\t\t\t{\n\t\t\t\tlocked: locked\n\t\t\t},\n\t\t\t'lockChanged'\n\t\t);\n\t}\n}\n","import {\n\tBaseEntity,\n\tBaseEntityEvent,\n\tBaseEntityGenerics,\n\tBaseEntityListener,\n\tBaseEntityOptions,\n\tDeserializeEvent\n} from './BaseEntity';\nimport { CanvasModel } from '../entities/canvas/CanvasModel';\n\nexport interface BaseModelListener extends BaseEntityListener {\n\tselectionChanged?(event: BaseEntityEvent<BaseModel> & { isSelected: boolean }): void;\n\n\tentityRemoved?(event: BaseEntityEvent<BaseModel>): void;\n}\n\nexport interface BaseModelOptions extends BaseEntityOptions {\n\ttype?: string;\n\tselected?: boolean;\n\textras?: any;\n}\n\nexport interface BaseModelGenerics extends BaseEntityGenerics {\n\tLISTENER: BaseModelListener;\n\tPARENT: BaseEntity;\n\tOPTIONS: BaseModelOptions;\n}\n\nexport class BaseModel<G extends BaseModelGenerics = BaseModelGenerics> extends BaseEntity<G> {\n\tprotected parent: G['PARENT'];\n\n\tconstructor(options: G['OPTIONS']) {\n\t\tsuper(options);\n\t}\n\n\tperformanceTune() {\n\t\treturn true;\n\t}\n\n\tgetParentCanvasModel(): CanvasModel {\n\t\tif (!this.parent) {\n\t\t\treturn null;\n\t\t}\n\t\tif (this.parent instanceof CanvasModel) {\n\t\t\treturn this.parent;\n\t\t} else if (this.parent instanceof BaseModel) {\n\t\t\treturn this.parent.getParentCanvasModel();\n\t\t}\n\t\treturn null;\n\t}\n\n\tgetParent(): G['PARENT'] {\n\t\treturn this.parent;\n\t}\n\n\tsetParent(parent: G['PARENT']) {\n\t\tthis.parent = parent;\n\t}\n\n\tgetSelectionEntities(): Array<BaseModel> {\n\t\treturn [this];\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\ttype: this.options.type,\n\t\t\tselected: this.options.selected,\n\t\t\textras: this.options.extras\n\t\t};\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.extras = event.data.extras;\n\t\tthis.options.selected = event.data.selected;\n\t}\n\n\tgetType(): string {\n\t\treturn this.options.type;\n\t}\n\n\tisSelected(): boolean {\n\t\treturn this.options.selected;\n\t}\n\n\tisLocked(): boolean {\n\t\tconst locked = super.isLocked();\n\t\tif (locked) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// delegate this call up to the parent\n\t\tif (this.parent) {\n\t\t\treturn this.parent.isLocked();\n\t\t}\n\t\treturn false;\n\t}\n\n\tsetSelected(selected: boolean = true) {\n\t\tif (this.options.selected !== selected) {\n\t\t\tthis.options.selected = selected;\n\n\t\t\tthis.fireEvent(\n\t\t\t\t{\n\t\t\t\t\tisSelected: selected\n\t\t\t\t},\n\t\t\t\t'selectionChanged'\n\t\t\t);\n\t\t}\n\t}\n\n\tremove() {\n\t\tthis.fireEvent({}, 'entityRemoved');\n\t}\n}\n","import { BaseModel, BaseModelGenerics, BaseModelListener, BaseModelOptions } from './BaseModel';\nimport { BaseEntityEvent, DeserializeEvent } from './BaseEntity';\nimport { Point, Rectangle } from '@projectstorm/geometry';\nimport { ModelGeometryInterface } from '../core/ModelGeometryInterface';\n\nexport interface BasePositionModelListener extends BaseModelListener {\n\tpositionChanged?(event: BaseEntityEvent<BasePositionModel>): void;\n}\n\nexport interface BasePositionModelOptions extends BaseModelOptions {\n\tposition?: Point;\n}\n\nexport interface BasePositionModelGenerics extends BaseModelGenerics {\n\tLISTENER: BasePositionModelListener;\n\tOPTIONS: BasePositionModelOptions;\n}\n\nexport class BasePositionModel<G extends BasePositionModelGenerics = BasePositionModelGenerics>\n\textends BaseModel<G>\n\timplements ModelGeometryInterface {\n\tprotected position: Point;\n\n\tconstructor(options: G['OPTIONS']) {\n\t\tsuper(options);\n\t\tthis.position = options.position || new Point(0, 0);\n\t}\n\n\tsetPosition(point: Point);\n\tsetPosition(x: number, y: number);\n\tsetPosition(x, y?) {\n\t\tif (typeof x === 'object') {\n\t\t\tthis.position = x;\n\t\t} else if (typeof x) {\n\t\t\tthis.position = new Point(x, y);\n\t\t}\n\t\tthis.fireEvent({}, 'positionChanged');\n\t}\n\n\tgetBoundingBox(): Rectangle {\n\t\treturn new Rectangle(this.position, 0, 0);\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.position = new Point(event.data.x, event.data.y);\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tx: this.position.x,\n\t\t\ty: this.position.y\n\t\t};\n\t}\n\n\tgetPosition(): Point {\n\t\treturn this.position;\n\t}\n\n\tgetX() {\n\t\treturn this.position.x;\n\t}\n\n\tgetY() {\n\t\treturn this.position.y;\n\t}\n}\n","import { State, StateOptions } from './State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface AbstractDisplacementStateEvent {\n\tdisplacementX: number;\n\tdisplacementY: number;\n\tvirtualDisplacementX: number;\n\tvirtualDisplacementY: number;\n\tevent: React.MouseEvent | React.TouchEvent;\n}\n\nexport abstract class AbstractDisplacementState<E extends CanvasEngine = CanvasEngine> extends State<E> {\n\tinitialX: number;\n\tinitialY: number;\n\tinitialXRelative: number;\n\tinitialYRelative: number;\n\n\tconstructor(options: StateOptions) {\n\t\tsuper(options);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tthis.initialX = actionEvent.event.clientX;\n\t\t\t\t\tthis.initialY = actionEvent.event.clientY;\n\t\t\t\t\tconst rel = this.engine.getRelativePoint(actionEvent.event.clientX, actionEvent.event.clientY);\n\t\t\t\t\tthis.initialXRelative = rel.x;\n\t\t\t\t\tthis.initialYRelative = rel.y;\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_MOVE,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tconst { event } = actionEvent;\n\n\t\t\t\t\tif (event.buttons === 0) {\n\t\t\t\t\t\t// If buttons is 0, it means the mouse is not down, the user may have released it\n\t\t\t\t\t\t// outside of the canvas, then we eject the state\n\t\t\t\t\t\tthis.eject();\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.fireMouseMoved({\n\t\t\t\t\t\tdisplacementX: event.clientX - this.initialX,\n\t\t\t\t\t\tdisplacementY: event.clientY - this.initialY,\n\t\t\t\t\t\tvirtualDisplacementX: (event.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tvirtualDisplacementY: (event.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tevent: event\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_UP,\n\t\t\t\tfire: (event: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\t// when the mouse if up, we eject this state\n\t\t\t\t\tthis.eject();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.TOUCH_START,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.TouchEvent>) => {\n\t\t\t\t\tconst touch = actionEvent.event.touches[0];\n\t\t\t\t\tthis.initialX = touch.clientX;\n\t\t\t\t\tthis.initialY = touch.clientY;\n\t\t\t\t\tconst rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);\n\t\t\t\t\tthis.initialXRelative = rel.x;\n\t\t\t\t\tthis.initialYRelative = rel.y;\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.TOUCH_MOVE,\n\t\t\t\tfire: (actionEvent: ActionEvent<React.TouchEvent>) => {\n\t\t\t\t\tconst { event } = actionEvent;\n\t\t\t\t\tconst touch = event.touches[0];\n\t\t\t\t\tthis.fireMouseMoved({\n\t\t\t\t\t\tdisplacementX: touch.clientX - this.initialX,\n\t\t\t\t\t\tdisplacementY: touch.clientY - this.initialY,\n\t\t\t\t\t\tvirtualDisplacementX: (touch.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tvirtualDisplacementY: (touch.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),\n\t\t\t\t\t\tevent: event\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.TOUCH_END,\n\t\t\t\tfire: (event: ActionEvent<React.TouchEvent>) => {\n\t\t\t\t\t// when the mouse if up, we eject this state\n\t\t\t\t\tthis.eject();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tabstract fireMouseMoved(event: AbstractDisplacementStateEvent);\n}\n","import { CanvasEngine } from '../CanvasEngine';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { SyntheticEvent } from 'react';\nimport * as _ from 'lodash';\n\nexport interface StateOptions {\n\tname: string;\n}\n\nexport abstract class State<E extends CanvasEngine = CanvasEngine> {\n\tprotected engine: E;\n\tprotected actions: Action[];\n\tprotected keys: string[];\n\tprotected options: StateOptions;\n\tprotected childStates: State[];\n\n\tprivate handler1;\n\tprivate handler2;\n\n\tconstructor(options: StateOptions) {\n\t\tthis.actions = [];\n\t\tthis.keys = [];\n\t\tthis.childStates = [];\n\t\tthis.options = options;\n\t}\n\n\tsetEngine(engine: E) {\n\t\tthis.engine = engine;\n\t}\n\n\tgetOptions() {\n\t\treturn this.options;\n\t}\n\n\teject() {\n\t\tthis.engine.getStateMachine().popState();\n\t}\n\n\ttransitionWithEvent(state: State, event: ActionEvent<SyntheticEvent>) {\n\t\tthis.engine.getStateMachine().pushState(state);\n\t\tthis.engine.getActionEventBus().fireAction(event);\n\t}\n\n\tregisterAction(action: Action) {\n\t\tthis.actions.push(action);\n\t}\n\n\ttryActivateParentState(keys: string[]) {\n\t\tif (this.keys.length > 0 && !this.isKeysFullfilled(keys)) {\n\t\t\tthis.eject();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\ttryActivateChildState(keys: string[]) {\n\t\tconst state = this.findStateToActivate(keys);\n\t\tif (state) {\n\t\t\tthis.engine.getStateMachine().pushState(state);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfindStateToActivate(keys: string[]) {\n\t\tfor (let child of this.childStates) {\n\t\t\tif (child.isKeysFullfilled(keys)) {\n\t\t\t\treturn child;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tisKeysFullfilled(keys: string[]) {\n\t\treturn _.intersection(this.keys, keys).length === this.keys.length;\n\t}\n\n\tactivated(previous: State) {\n\t\tconst keys = this.engine.getActionEventBus().getKeys();\n\n\t\tif (this.tryActivateParentState(keys) || this.tryActivateChildState(keys)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// perhaps we need to pop again?\n\t\tthis.handler1 = this.engine.getActionEventBus().registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.KEY_DOWN,\n\t\t\t\tfire: () => {\n\t\t\t\t\tthis.tryActivateChildState(this.engine.getActionEventBus().getKeys());\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tthis.handler2 = this.engine.getActionEventBus().registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.KEY_UP,\n\t\t\t\tfire: () => {\n\t\t\t\t\tthis.tryActivateParentState(this.engine.getActionEventBus().getKeys());\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\tfor (let action of this.actions) {\n\t\t\tthis.engine.getActionEventBus().registerAction(action);\n\t\t}\n\t}\n\n\tdeactivated(next: State) {\n\t\tif (this.handler1) {\n\t\t\tthis.handler1();\n\t\t}\n\t\tif (this.handler2) {\n\t\t\tthis.handler2();\n\t\t}\n\t\t// if this happens, we are going into heirachial state machine mode\n\t\tfor (let action of this.actions) {\n\t\t\tthis.engine.getActionEventBus().deregisterAction(action);\n\t\t}\n\t}\n}\n","import { State } from './State';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../CanvasEngine';\nimport { BaseEvent, BaseListener, BaseObserver } from '../core/BaseObserver';\n\nexport interface StateMachineListener extends BaseListener {\n\tstateChanged?: (event: BaseEvent & { newState: State }) => any;\n}\n\nexport class StateMachine extends BaseObserver<StateMachineListener> {\n\tprotected currentState: State;\n\tprotected stateStack: State[];\n\tprotected engine: CanvasEngine;\n\n\tconstructor(engine: CanvasEngine) {\n\t\tsuper();\n\t\tthis.engine = engine;\n\t\tthis.stateStack = [];\n\t}\n\n\tgetCurrentState() {\n\t\treturn this.currentState;\n\t}\n\n\tpushState(state: State) {\n\t\tthis.stateStack.push(state);\n\t\tthis.setState(state);\n\t}\n\n\tpopState() {\n\t\tthis.stateStack.pop();\n\t\tthis.setState(_.last(this.stateStack));\n\t}\n\n\tsetState(state: State) {\n\t\tstate.setEngine(this.engine);\n\n\t\t// if no state object, get the initial state\n\t\tif (this.currentState) {\n\t\t\tthis.currentState.deactivated(state);\n\t\t}\n\t\tconst old = this.currentState;\n\t\tthis.currentState = state;\n\t\tif (this.currentState) {\n\t\t\tthis.currentState.activated(old);\n\t\t\tthis.fireEvent<'stateChanged'>(\n\t\t\t\t{\n\t\t\t\t\tnewState: state\n\t\t\t\t},\n\t\t\t\t'stateChanged'\n\t\t\t);\n\t\t}\n\t}\n}\n","import { CanvasEngine } from '../CanvasEngine';\nimport { FactoryBank } from './FactoryBank';\n\n/**\n * Base factory for all the different types of entities.\n * Gets registered with the engine, and is used to generate models\n */\nexport abstract class AbstractFactory<E extends CanvasEngine = CanvasEngine> {\n\t/**\n\t * Couples the factory with the models it generates\n\t */\n\tprotected type: string;\n\t/**\n\t * The engine gets injected when the factory is registered\n\t */\n\tprotected engine: E;\n\tprotected bank: FactoryBank;\n\n\tconstructor(type: string) {\n\t\tthis.type = type;\n\t}\n\n\tsetDiagramEngine(engine: E) {\n\t\tthis.engine = engine;\n\t}\n\n\tsetFactoryBank(bank: FactoryBank) {\n\t\tthis.bank = bank;\n\t}\n\n\tgetType(): string {\n\t\treturn this.type;\n\t}\n}\n","import { AbstractFactory } from './AbstractFactory';\nimport { BaseModel } from '../core-models/BaseModel';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface GenerateModelEvent {\n\tinitialConfig?: any;\n}\n\nexport abstract class AbstractModelFactory<\n\tT extends BaseModel = BaseModel,\n\tE extends CanvasEngine = CanvasEngine\n> extends AbstractFactory<E> {\n\t/**\n\t * Generates new models (the core factory pattern)\n\t */\n\tabstract generateModel(event: GenerateModelEvent): T;\n}\n","import { BaseModel } from '../core-models/BaseModel';\nimport { AbstractModelFactory } from './AbstractModelFactory';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport interface GenerateWidgetEvent<T extends BaseModel> {\n\tmodel: T;\n}\n\n/**\n * Further extends the AbstractFactory to add widget generation capability.\n */\nexport abstract class AbstractReactFactory<\n\tT extends BaseModel = BaseModel,\n\tE extends CanvasEngine = CanvasEngine\n> extends AbstractModelFactory<T, E> {\n\t/**\n\t * Generates React widgets from the model contained in the event object\n\t */\n\tabstract generateReactWidget(event: GenerateWidgetEvent<T>): JSX.Element;\n}\n","import { Toolkit } from '../Toolkit';\n\nexport interface BaseEvent {\n\tfiring: boolean;\n\tstopPropagation: () => any;\n}\n\nexport interface BaseEventProxy extends BaseEvent {\n\tfunction: string;\n}\n\n/**\n * Listeners are always in the form of an object that contains methods that take events\n */\nexport type BaseListener = {\n\t/**\n\t * Generic event that fires before a specific event was fired\n\t */\n\teventWillFire?: (event: BaseEvent & { function: string }) => void;\n\n\t/**\n\t * Generic event that fires after a specific event was fired (even if it was consumed)\n\t */\n\teventDidFire?: (event: BaseEvent & { function: string }) => void;\n\t/**\n\t * Type for other events that will fire\n\t */\n\t[key: string]: (event: BaseEvent) => any;\n};\n\nexport interface ListenerHandle {\n\t/**\n\t * Used to degister the listener\n\t */\n\tderegister: () => any;\n\t/**\n\t * Original ID of the listener\n\t */\n\tid: string;\n\n\t/**\n\t * Original Listener\n\t */\n\tlistener: BaseListener;\n}\n\n/**\n * Base observer pattern class for working with listeners\n */\nexport class BaseObserver<L extends BaseListener = BaseListener> {\n\tprotected listeners: { [id: string]: L };\n\n\tconstructor() {\n\t\tthis.listeners = {};\n\t}\n\n\tprivate fireEventInternal(fire: boolean, k: keyof L, event: BaseEvent) {\n\t\tthis.iterateListeners((listener) => {\n\t\t\t// returning false here will instruct itteration to stop\n\t\t\tif (!fire && !event.firing) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// fire selected listener\n\t\t\tif (listener[k]) {\n\t\t\t\tlistener[k](event as BaseEvent);\n\t\t\t}\n\t\t});\n\t}\n\n\tfireEvent<K extends keyof L>(event: Partial<Parameters<L[K]>[0]>, k: keyof L) {\n\t\tevent = {\n\t\t\tfiring: true,\n\t\t\tstopPropagation: () => {\n\t\t\t\tevent.firing = false;\n\t\t\t},\n\t\t\t...event\n\t\t};\n\n\t\t// fire pre\n\t\tthis.fireEventInternal(true, 'eventWillFire', {\n\t\t\t...event,\n\t\t\tfunction: k\n\t\t} as BaseEventProxy);\n\n\t\t// fire main event\n\t\tthis.fireEventInternal(false, k, event as BaseEvent);\n\n\t\t// fire post\n\t\tthis.fireEventInternal(true, 'eventDidFire', {\n\t\t\t...event,\n\t\t\tfunction: k\n\t\t} as BaseEventProxy);\n\t}\n\n\titerateListeners(cb: (listener: L) => any) {\n\t\tfor (let id in this.listeners) {\n\t\t\tconst res = cb(this.listeners[id]);\n\t\t\t// cancel itteration on false\n\t\t\tif (res === false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetListenerHandle(listener: L): ListenerHandle {\n\t\tfor (let id in this.listeners) {\n\t\t\tif (this.listeners[id] === listener) {\n\t\t\t\treturn {\n\t\t\t\t\tid: id,\n\t\t\t\t\tlistener: listener,\n\t\t\t\t\tderegister: () => {\n\t\t\t\t\t\tdelete this.listeners[id];\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tregisterListener(listener: L): ListenerHandle {\n\t\tconst id = Toolkit.UID();\n\t\tthis.listeners[id] = listener;\n\t\treturn {\n\t\t\tid: id,\n\t\t\tlistener: listener,\n\t\t\tderegister: () => {\n\t\t\t\tdelete this.listeners[id];\n\t\t\t}\n\t\t};\n\t}\n\n\tderegisterListener(listener: L | ListenerHandle) {\n\t\tif (typeof listener === 'object') {\n\t\t\t(listener as ListenerHandle).deregister();\n\t\t\treturn true;\n\t\t}\n\t\tconst handle = this.getListenerHandle(listener);\n\t\tif (handle) {\n\t\t\thandle.deregister();\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n","import { BaseEvent, BaseListener, BaseObserver } from './BaseObserver';\nimport { AbstractFactory } from './AbstractFactory';\nimport * as _ from 'lodash';\n\nexport interface FactoryBankListener<F extends AbstractFactory = AbstractFactory> extends BaseListener {\n\t/**\n\t * Factory as added to rhe bank\n\t */\n\tfactoryAdded?: (event: BaseEvent & { factory: F }) => any;\n\n\t/**\n\t * Factory was removed from the bank\n\t */\n\tfactoryRemoved?: (event: BaseEvent & { factory: F }) => any;\n}\n\n/**\n * Store and managed Factories that extend from Abstractfactory\n */\nexport class FactoryBank<\n\tF extends AbstractFactory = AbstractFactory,\n\tL extends FactoryBankListener<F> = FactoryBankListener<F>\n> extends BaseObserver<L> {\n\tprotected factories: { [type: string]: F };\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.factories = {};\n\t}\n\n\tgetFactories(): F[] {\n\t\treturn _.values(this.factories);\n\t}\n\n\tclearFactories() {\n\t\tfor (let factory in this.factories) {\n\t\t\tthis.deregisterFactory(factory);\n\t\t}\n\t}\n\n\tgetFactory<T extends F = F>(type: string): T {\n\t\tif (!this.factories[type]) {\n\t\t\tthrow new Error(`Cannot find factory with type [${type}]`);\n\t\t}\n\t\treturn this.factories[type] as T;\n\t}\n\n\tregisterFactory(factory: F) {\n\t\tfactory.setFactoryBank(this);\n\t\tthis.factories[factory.getType()] = factory;\n\t\t// todo fixme\n\t\tthis.fireEvent<'factoryAdded'>({ factory } as any, 'factoryAdded');\n\t}\n\n\tderegisterFactory(type: string) {\n\t\tconst factory = this.factories[type];\n\t\tfactory.setFactoryBank(null);\n\t\tdelete this.factories[type];\n\t\t// todo fixme\n\t\tthis.fireEvent<'factoryRemoved'>({ factory } as any, 'factoryRemoved');\n\t}\n}\n","import * as _ from 'lodash';\nimport {\n\tBaseEntity,\n\tBaseEntityEvent,\n\tBaseEntityGenerics,\n\tBaseEntityListener,\n\tBaseEntityOptions,\n\tDeserializeEvent\n} from '../../core-models/BaseEntity';\nimport { LayerModel } from '../layer/LayerModel';\nimport { BaseModel } from '../../core-models/BaseModel';\nimport { CanvasEngine } from '../../CanvasEngine';\n\nexport interface DiagramListener extends BaseEntityListener {\n\toffsetUpdated?(event: BaseEntityEvent<CanvasModel> & { offsetX: number; offsetY: number }): void;\n\n\tzoomUpdated?(event: BaseEntityEvent<CanvasModel> & { zoom: number }): void;\n\n\tgridUpdated?(event: BaseEntityEvent<CanvasModel> & { size: number }): void;\n}\n\nexport interface DiagramModelOptions extends BaseEntityOptions {\n\toffsetX?: number;\n\toffsetY?: number;\n\tzoom?: number;\n\tgridSize?: number;\n}\n\nexport interface CanvasModelGenerics extends BaseEntityGenerics {\n\tLISTENER: DiagramListener;\n\tOPTIONS: DiagramModelOptions;\n\tLAYER: LayerModel;\n}\n\nexport class CanvasModel<G extends CanvasModelGenerics = CanvasModelGenerics> extends BaseEntity<G> {\n\tprotected layers: G['LAYER'][];\n\n\tconstructor(options: G['OPTIONS'] = {}) {\n\t\tsuper({\n\t\t\tzoom: 100,\n\t\t\tgridSize: 0,\n\t\t\toffsetX: 0,\n\t\t\toffsetY: 0,\n\t\t\t...options\n\t\t});\n\t\tthis.layers = [];\n\t}\n\n\tgetSelectionEntities(): BaseModel[] {\n\t\treturn _.flatMap(this.layers, (layer) => {\n\t\t\treturn layer.getSelectionEntities();\n\t\t});\n\t}\n\n\tgetSelectedEntities(): BaseModel[] {\n\t\treturn _.filter(this.getSelectionEntities(), (ob) => {\n\t\t\treturn ob.isSelected();\n\t\t});\n\t}\n\n\tclearSelection() {\n\t\t_.forEach(this.getSelectedEntities(), (element) => {\n\t\t\telement.setSelected(false);\n\t\t});\n\t}\n\n\tgetModels(): BaseModel[] {\n\t\treturn _.flatMap(this.layers, (layer) => {\n\t\t\treturn _.values(layer.getModels());\n\t\t});\n\t}\n\n\taddLayer(layer: LayerModel) {\n\t\tlayer.setParent(this);\n\t\tlayer.registerListener({\n\t\t\tentityRemoved: (event: BaseEntityEvent<BaseModel>): void => {}\n\t\t});\n\t\tthis.layers.push(layer);\n\t}\n\n\tremoveLayer(layer: LayerModel) {\n\t\tconst index = this.layers.indexOf(layer);\n\t\tif (index !== -1) {\n\t\t\tthis.layers.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tgetLayers() {\n\t\treturn this.layers;\n\t}\n\n\tsetGridSize(size: number = 0) {\n\t\tthis.options.gridSize = size;\n\t\tthis.fireEvent({ size: size }, 'gridUpdated');\n\t}\n\n\tgetGridPosition(pos: number) {\n\t\tif (this.options.gridSize === 0) {\n\t\t\treturn pos;\n\t\t}\n\t\treturn this.options.gridSize * Math.floor((pos + this.options.gridSize / 2) / this.options.gridSize);\n\t}\n\n\tdeserializeModel(data: ReturnType<this['serialize']>, engine: CanvasEngine) {\n\t\tconst models: {\n\t\t\t[id: string]: BaseModel;\n\t\t} = {};\n\t\tconst promises: {\n\t\t\t[id: string]: Promise<BaseModel>;\n\t\t} = {};\n\t\tconst resolvers: {\n\t\t\t[id: string]: (model: BaseModel) => any;\n\t\t} = {};\n\n\t\tconst event: DeserializeEvent = {\n\t\t\tdata: data,\n\t\t\tengine: engine,\n\t\t\tregisterModel: (model: BaseModel) => {\n\t\t\t\tmodels[model.getID()] = model;\n\t\t\t\tif (resolvers[model.getID()]) {\n\t\t\t\t\tresolvers[model.getID()](model);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetModel<T extends BaseModel>(id: string): Promise<T> {\n\t\t\t\tif (models[id]) {\n\t\t\t\t\treturn Promise.resolve(models[id]) as Promise<T>;\n\t\t\t\t}\n\t\t\t\tif (!promises[id]) {\n\t\t\t\t\tpromises[id] = new Promise((resolve) => {\n\t\t\t\t\t\tresolvers[id] = resolve;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn promises[id] as Promise<T>;\n\t\t\t}\n\t\t};\n\t\tthis.deserialize(event);\n\t}\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.offsetX = event.data.offsetX;\n\t\tthis.options.offsetY = event.data.offsetY;\n\t\tthis.options.zoom = event.data.zoom;\n\t\tthis.options.gridSize = event.data.gridSize;\n\t\t_.forEach(event.data.layers, (layer) => {\n\t\t\tconst layerOb = event.engine.getFactoryForLayer(layer.type).generateModel({\n\t\t\t\tinitialConfig: layer\n\t\t\t});\n\t\t\tlayerOb.deserialize({\n\t\t\t\t...event,\n\t\t\t\tdata: layer\n\t\t\t});\n\t\t\tthis.addLayer(layerOb);\n\t\t});\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\toffsetX: this.options.offsetX,\n\t\t\toffsetY: this.options.offsetY,\n\t\t\tzoom: this.options.zoom,\n\t\t\tgridSize: this.options.gridSize,\n\t\t\tlayers: _.map(this.layers, (layer) => {\n\t\t\t\treturn layer.serialize();\n\t\t\t})\n\t\t};\n\t}\n\n\tsetZoomLevel(zoom: number) {\n\t\tthis.options.zoom = zoom;\n\t\tthis.fireEvent({ zoom }, 'zoomUpdated');\n\t}\n\n\tsetOffset(offsetX: number, offsetY: number) {\n\t\tthis.options.offsetX = offsetX;\n\t\tthis.options.offsetY = offsetY;\n\t\tthis.fireEvent({ offsetX, offsetY }, 'offsetUpdated');\n\t}\n\n\tsetOffsetX(offsetX: number) {\n\t\tthis.setOffset(offsetX, this.options.offsetY);\n\t}\n\n\tsetOffsetY(offsetY: number) {\n\t\tthis.setOffset(this.options.offsetX, offsetY);\n\t}\n\n\tgetOffsetY() {\n\t\treturn this.options.offsetY;\n\t}\n\n\tgetOffsetX() {\n\t\treturn this.options.offsetX;\n\t}\n\n\tgetZoomLevel() {\n\t\treturn this.options.zoom;\n\t}\n}\n","import * as React from 'react';\nimport { CanvasEngine } from '../../CanvasEngine';\nimport { TransformLayerWidget } from '../layer/TransformLayerWidget';\nimport styled from '@emotion/styled';\nimport { SmartLayerWidget } from '../layer/SmartLayerWidget';\n\nexport interface DiagramProps {\n\tengine: CanvasEngine;\n\tclassName?: string;\n}\n\nnamespace S {\n\texport const Canvas = styled.div`\n\t\tposition: relative;\n\t\tcursor: move;\n\t\toverflow: hidden;\n\t`;\n}\n\nexport class CanvasWidget extends React.Component<DiagramProps> {\n\tref: React.RefObject<HTMLDivElement>;\n\tkeyUp: any;\n\tkeyDown: any;\n\tcanvasListener: any;\n\n\tconstructor(props: DiagramProps) {\n\t\tsuper(props);\n\n\t\tthis.ref = React.createRef();\n\t\tthis.state = {\n\t\t\taction: null,\n\t\t\tdiagramEngineListener: null\n\t\t};\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.props.engine.deregisterListener(this.canvasListener);\n\t\tthis.props.engine.setCanvas(null);\n\n\t\tdocument.removeEventListener('keyup', this.keyUp);\n\t\tdocument.removeEventListener('keydown', this.keyDown);\n\t}\n\n\tregisterCanvas() {\n\t\tthis.props.engine.setCanvas(this.ref.current);\n\t\tthis.props.engine.iterateListeners((list) => {\n\t\t\tlist.rendered && list.rendered();\n\t\t});\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.registerCanvas();\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.canvasListener = this.props.engine.registerListener({\n\t\t\trepaintCanvas: () => {\n\t\t\t\tthis.forceUpdate();\n\t\t\t}\n\t\t});\n\n\t\tthis.keyDown = (event) => {\n\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t};\n\t\tthis.keyUp = (event) => {\n\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t};\n\n\t\tdocument.addEventListener('keyup', this.keyUp);\n\t\tdocument.addEventListener('keydown', this.keyDown);\n\t\tthis.registerCanvas();\n\t}\n\n\trender() {\n\t\tconst engine = this.props.engine;\n\t\tconst model = engine.getModel();\n\n\t\treturn (\n\t\t\t<S.Canvas\n\t\t\t\tclassName={this.props.className}\n\t\t\t\tref={this.ref}\n\t\t\t\tonWheel={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseDown={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseUp={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonMouseMove={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonTouchStart={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonTouchEnd={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}\n\t\t\t\tonTouchMove={(event) => {\n\t\t\t\t\tthis.props.engine.getActionEventBus().fireAction({ event });\n\t\t\t\t}}>\n\t\t\t\t{model.getLayers().map((layer) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<TransformLayerWidget layer={layer} key={layer.getID()}>\n\t\t\t\t\t\t\t<SmartLayerWidget layer={layer} engine={this.props.engine} key={layer.getID()} />\n\t\t\t\t\t\t</TransformLayerWidget>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</S.Canvas>\n\t\t);\n\t}\n}\n","import { BaseModel, BaseModelGenerics, BaseModelOptions } from '../../core-models/BaseModel';\nimport { CanvasModel } from '../canvas/CanvasModel';\nimport * as _ from 'lodash';\nimport { CanvasEngine } from '../../CanvasEngine';\nimport { FactoryBank } from '../../core/FactoryBank';\nimport { AbstractModelFactory } from '../../core/AbstractModelFactory';\nimport { DeserializeEvent } from '../../core-models/BaseEntity';\n\nexport interface LayerModelOptions extends BaseModelOptions {\n\tisSvg?: boolean;\n\ttransformed?: boolean;\n}\n\nexport interface LayerModelGenerics extends BaseModelGenerics {\n\tOPTIONS: LayerModelOptions;\n\tPARENT: CanvasModel;\n\tCHILDREN: BaseModel;\n\tENGINE: CanvasEngine;\n}\n\nexport abstract class LayerModel<G extends LayerModelGenerics = LayerModelGenerics> extends BaseModel<G> {\n\tprotected models: { [id: string]: G['CHILDREN'] };\n\tprotected repaintEnabled: boolean;\n\n\tconstructor(options: G['OPTIONS'] = {}) {\n\t\tsuper(options);\n\t\tthis.models = {};\n\t\tthis.repaintEnabled = true;\n\t}\n\n\t/**\n\t * This is used for deserialization\n\t */\n\tabstract getChildModelFactoryBank(engine: G['ENGINE']): FactoryBank<AbstractModelFactory<BaseModel>>;\n\n\tdeserialize(event: DeserializeEvent<this>) {\n\t\tsuper.deserialize(event);\n\t\tthis.options.isSvg = !!event.data.isSvg;\n\t\tthis.options.transformed = !!event.data.transformed;\n\t\t_.forEach(event.data.models, (model) => {\n\t\t\tconst modelOb = this.getChildModelFactoryBank(event.engine).getFactory(model.type).generateModel({\n\t\t\t\tinitialConfig: model\n\t\t\t});\n\t\t\tmodelOb.deserialize({\n\t\t\t\t...event,\n\t\t\t\tdata: model\n\t\t\t});\n\t\t\tthis.addModel(modelOb);\n\t\t});\n\t}\n\n\tserialize() {\n\t\treturn {\n\t\t\t...super.serialize(),\n\t\t\tisSvg: this.options.isSvg,\n\t\t\ttransformed: this.options.transformed,\n\t\t\tmodels: _.mapValues(this.models, (model) => {\n\t\t\t\treturn model.serialize();\n\t\t\t})\n\t\t};\n\t}\n\n\tisRepaintEnabled() {\n\t\treturn this.repaintEnabled;\n\t}\n\n\tallowRepaint(allow: boolean = true) {\n\t\tthis.repaintEnabled = allow;\n\t}\n\n\tremove() {\n\t\tif (this.parent) {\n\t\t\tthis.parent.removeLayer(this);\n\t\t}\n\t\tsuper.remove();\n\t}\n\n\taddModel(model: G['CHILDREN']) {\n\t\tmodel.setParent(this);\n\t\tthis.models[model.getID()] = model;\n\t}\n\n\tgetSelectionEntities(): Array<BaseModel> {\n\t\treturn _.flatMap(this.models, (model) => {\n\t\t\treturn model.getSelectionEntities();\n\t\t});\n\t}\n\n\tgetModels() {\n\t\treturn this.models;\n\t}\n\n\tgetModel(id: string) {\n\t\treturn this.models[id];\n\t}\n\n\tremoveModel(id: string | G['CHILDREN']): boolean {\n\t\tconst _id = typeof id === 'string' ? id : id.getID();\n\t\tif (this.models[_id]) {\n\t\t\tdelete this.models[_id];\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n}\n","import * as React from 'react';\nimport { LayerModel } from './LayerModel';\nimport { CanvasEngine } from '../../CanvasEngine';\n\nexport interface SmartLayerWidgetProps {\n\tlayer: LayerModel;\n\tengine: CanvasEngine;\n}\n\nexport class SmartLayerWidget extends React.Component<SmartLayerWidgetProps> {\n\tshouldComponentUpdate(): boolean {\n\t\treturn this.props.layer.isRepaintEnabled();\n\t}\n\n\trender() {\n\t\treturn this.props.engine.getFactoryForLayer(this.props.layer).generateReactWidget({ model: this.props.layer });\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\nimport { CSSProperties } from 'react';\nimport { LayerModel } from './LayerModel';\nimport { css } from '@emotion/react';\n\nexport interface TransformLayerWidgetProps {\n\tlayer: LayerModel;\n}\n\nnamespace S {\n\tconst shared = css`\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tposition: absolute;\n\t\tpointer-events: none;\n\t\ttransform-origin: 0 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: visible;\n\t`;\n\n\texport const DivLayer = styled.div`\n\t\t${shared}\n\t`;\n\n\texport const SvgLayer = styled.svg`\n\t\t${shared}\n\t`;\n}\n\nexport class TransformLayerWidget extends React.Component<TransformLayerWidgetProps> {\n\tconstructor(props: TransformLayerWidgetProps) {\n\t\tsuper(props);\n\t\tthis.state = {};\n\t}\n\n\tgetTransform() {\n\t\tconst model = this.props.layer.getParent();\n\t\treturn `\n\t\t\ttranslate(\n\t\t\t\t${model.getOffsetX()}px,\n\t\t\t\t${model.getOffsetY()}px)\n\t\t\tscale(\n\t\t\t\t${model.getZoomLevel() / 100.0}\n\t\t\t)\n  \t`;\n\t}\n\n\tgetTransformStyle(): CSSProperties {\n\t\tif (this.props.layer.getOptions().transformed) {\n\t\t\treturn {\n\t\t\t\ttransform: this.getTransform()\n\t\t\t};\n\t\t}\n\t\treturn {};\n\t}\n\n\trender() {\n\t\tif (this.props.layer.getOptions().isSvg) {\n\t\t\treturn <S.SvgLayer style={this.getTransformStyle()}>{this.props.children}</S.SvgLayer>;\n\t\t}\n\t\treturn <S.DivLayer style={this.getTransformStyle()}>{this.props.children}</S.DivLayer>;\n\t}\n}\n","import * as React from 'react';\nimport { AbstractReactFactory, GenerateWidgetEvent } from '../../core/AbstractReactFactory';\nimport { SelectionLayerModel } from './SelectionLayerModel';\nimport { GenerateModelEvent } from '../../core/AbstractModelFactory';\nimport { SelectionBoxWidget } from './SelectionBoxWidget';\n\nexport class SelectionBoxLayerFactory extends AbstractReactFactory<SelectionLayerModel> {\n\tconstructor() {\n\t\tsuper('selection');\n\t}\n\n\tgenerateModel(event: GenerateModelEvent): SelectionLayerModel {\n\t\treturn new SelectionLayerModel();\n\t}\n\n\tgenerateReactWidget(event: GenerateWidgetEvent<SelectionLayerModel>): JSX.Element {\n\t\treturn <SelectionBoxWidget rect={event.model.box} />;\n\t}\n}\n","import * as React from 'react';\nimport styled from '@emotion/styled';\n\nexport interface SelectionBoxWidgetProps {\n\trect: ClientRect;\n}\n\nnamespace S {\n\texport const Container = styled.div`\n\t\tposition: absolute;\n\t\tbackground-color: rgba(0, 192, 255, 0.2);\n\t\tborder: solid 2px rgb(0, 192, 255);\n\t`;\n}\n\nexport class SelectionBoxWidget extends React.Component<SelectionBoxWidgetProps> {\n\trender() {\n\t\tconst { rect } = this.props;\n\n\t\tif (!rect) return;\n\n\t\treturn (\n\t\t\t<S.Container\n\t\t\t\tstyle={{\n\t\t\t\t\ttop: rect.top,\n\t\t\t\t\tleft: rect.left,\n\t\t\t\t\twidth: rect.width,\n\t\t\t\t\theight: rect.height\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t}\n}\n","import { LayerModel } from '../layer/LayerModel';\nimport { FactoryBank } from '../../core/FactoryBank';\nimport { AbstractModelFactory } from '../../core/AbstractModelFactory';\nimport { BaseModel } from '../../core-models/BaseModel';\n\nexport class SelectionLayerModel extends LayerModel {\n\tbox: ClientRect;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\ttransformed: false,\n\t\t\tisSvg: false,\n\t\t\ttype: 'selection'\n\t\t});\n\t}\n\n\tsetBox(rect: ClientRect) {\n\t\tthis.box = rect;\n\t}\n\n\tgetChildModelFactoryBank(): FactoryBank<AbstractModelFactory<BaseModel>> {\n\t\t// is not used as it doesnt serialize\n\t\treturn null;\n\t}\n}\n","export * from './CanvasEngine';\nexport * from './Toolkit';\nexport * from './entities/canvas/CanvasModel';\n\nexport * from './core/AbstractFactory';\nexport * from './core/AbstractModelFactory';\nexport * from './core/AbstractReactFactory';\nexport * from './core/BaseObserver';\nexport * from './core/FactoryBank';\nexport * from './core/ModelGeometryInterface';\n\nexport * from './core-actions/Action';\nexport * from './core-actions/ActionEventBus';\n\nexport * from './core-models/BaseEntity';\nexport * from './core-models/BaseModel';\nexport * from './core-models/BasePositionModel';\n\nexport * from './entities/canvas/CanvasModel';\nexport * from './entities/canvas/CanvasWidget';\n\nexport * from './entities/layer/LayerModel';\nexport * from './entities/layer/TransformLayerWidget';\nexport * from './entities/layer/SmartLayerWidget';\n\nexport * from './entities/selection/SelectionBoxLayerFactory';\nexport * from './entities/selection/SelectionBoxWidget';\nexport * from './entities/selection/SelectionLayerModel';\n\nexport * from './widgets/PeformanceWidget';\n\nexport * from './core-state/AbstractDisplacementState';\nexport * from './core-state/State';\nexport * from './core-state/StateMachine';\n\nexport * from './states/DefaultState';\nexport * from './states/DragCanvasState';\nexport * from './states/SelectingState';\nexport * from './states/SelectionBoxState';\nexport * from './states/MoveItemsState';\n\nexport * from './actions/DeleteItemsAction';\nexport * from './actions/ZoomCanvasAction';\n","import { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { MouseEvent, TouchEvent } from 'react';\nimport { DragCanvasState } from './DragCanvasState';\nimport { SelectingState } from './SelectingState';\nimport { MoveItemsState } from './MoveItemsState';\n\nexport class DefaultState extends State {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'default'\n\t\t});\n\t\tthis.childStates = [new SelectingState()];\n\n\t\t// determine what was clicked on\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\n\t\t\t\t\t// the canvas was clicked on, transition to the dragging canvas state\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\tthis.transitionWithEvent(new DragCanvasState(), event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.transitionWithEvent(new MoveItemsState(), event);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\n\t\t// touch drags the canvas\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.TOUCH_START,\n\t\t\t\tfire: (event: ActionEvent<TouchEvent>) => {\n\t\t\t\t\tthis.transitionWithEvent(new DragCanvasState(), event);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n","import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\n\nexport interface DragCanvasStateOptions {\n\t/**\n\t * If enabled, the canvas is available to drag\n\t */\n\tallowDrag?: boolean;\n}\n\nexport class DragCanvasState extends AbstractDisplacementState {\n\t// store this as we drag the canvas\n\tinitialCanvasX: number;\n\tinitialCanvasY: number;\n\tconfig: DragCanvasStateOptions;\n\n\tconstructor(options: DragCanvasStateOptions = {}) {\n\t\tsuper({\n\t\t\tname: 'drag-canvas'\n\t\t});\n\t\tthis.config = {\n\t\t\tallowDrag: true,\n\t\t\t...options\n\t\t};\n\t}\n\n\tasync activated(prev) {\n\t\tsuper.activated(prev);\n\t\tthis.engine.getModel().clearSelection();\n\t\tawait this.engine.repaintCanvas(true);\n\n\t\t// we can block layer rendering because we are only targeting the transforms\n\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\tlayer.allowRepaint(false);\n\t\t}\n\n\t\tthis.initialCanvasX = this.engine.getModel().getOffsetX();\n\t\tthis.initialCanvasY = this.engine.getModel().getOffsetY();\n\t}\n\n\tdeactivated(next: State) {\n\t\tsuper.deactivated(next);\n\t\tfor (let layer of this.engine.getModel().getLayers()) {\n\t\t\tlayer.allowRepaint(true);\n\t\t}\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tif (this.config.allowDrag) {\n\t\t\tthis.engine\n\t\t\t\t.getModel()\n\t\t\t\t.setOffset(this.initialCanvasX + event.displacementX, this.initialCanvasY + event.displacementY);\n\t\t\tthis.engine.repaintCanvas();\n\t\t}\n\t}\n}\n","import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { BasePositionModel } from '../core-models/BasePositionModel';\nimport { Point } from '@projectstorm/geometry';\nimport { BaseModel } from '../core-models/BaseModel';\nimport { CanvasEngine } from '../CanvasEngine';\n\nexport class MoveItemsState<E extends CanvasEngine = CanvasEngine> extends AbstractDisplacementState<E> {\n\tinitialPositions: {\n\t\t[id: string]: {\n\t\t\tpoint: Point;\n\t\t\titem: BaseModel;\n\t\t};\n\t};\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'move-items'\n\t\t});\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<React.MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tif (!element.isSelected()) {\n\t\t\t\t\t\tthis.engine.getModel().clearSelection();\n\t\t\t\t\t}\n\t\t\t\t\telement.setSelected(true);\n\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tactivated(previous: State) {\n\t\tsuper.activated(previous);\n\t\tthis.initialPositions = {};\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tconst items = this.engine.getModel().getSelectedEntities();\n\t\tconst model = this.engine.getModel();\n\t\tfor (let item of items) {\n\t\t\tif (item instanceof BasePositionModel) {\n\t\t\t\tif (item.isLocked()) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (!this.initialPositions[item.getID()]) {\n\t\t\t\t\tthis.initialPositions[item.getID()] = {\n\t\t\t\t\t\tpoint: item.getPosition(),\n\t\t\t\t\t\titem: item\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tconst pos = this.initialPositions[item.getID()].point;\n\t\t\t\titem.setPosition(\n\t\t\t\t\tmodel.getGridPosition(pos.x + event.virtualDisplacementX),\n\t\t\t\t\tmodel.getGridPosition(pos.y + event.virtualDisplacementY)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tthis.engine.repaintCanvas();\n\t}\n}\n","import { State } from '../core-state/State';\nimport { Action, ActionEvent, InputType } from '../core-actions/Action';\nimport { SelectionBoxState } from './SelectionBoxState';\nimport { MouseEvent } from 'react';\n\nexport class SelectingState extends State {\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'selecting'\n\t\t});\n\t\tthis.keys = ['shift'];\n\n\t\tthis.registerAction(\n\t\t\tnew Action({\n\t\t\t\ttype: InputType.MOUSE_DOWN,\n\t\t\t\tfire: (event: ActionEvent<MouseEvent>) => {\n\t\t\t\t\tconst element = this.engine.getActionEventBus().getModelForEvent(event);\n\n\t\t\t\t\t// go into a selection box on the canvas state\n\t\t\t\t\tif (!element) {\n\t\t\t\t\t\tthis.transitionWithEvent(new SelectionBoxState(), event);\n\t\t\t\t\t} else {\n\t\t\t\t\t\telement.setSelected(true);\n\t\t\t\t\t\tthis.engine.repaintCanvas();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n}\n","import { MouseEvent, TouchEvent } from 'react';\nimport { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';\nimport { State } from '../core-state/State';\nimport { SelectionLayerModel } from '../entities/selection/SelectionLayerModel';\nimport { Point, Rectangle } from '@projectstorm/geometry';\nimport { ModelGeometryInterface } from '../core/ModelGeometryInterface';\n\nexport class SelectionBoxState extends AbstractDisplacementState {\n\tlayer: SelectionLayerModel;\n\n\tconstructor() {\n\t\tsuper({\n\t\t\tname: 'selection-box'\n\t\t});\n\t}\n\n\tactivated(previous: State) {\n\t\tsuper.activated(previous);\n\t\tthis.layer = new SelectionLayerModel();\n\t\tthis.engine.getModel().addLayer(this.layer);\n\t}\n\n\tdeactivated(next: State) {\n\t\tsuper.deactivated(next);\n\t\tthis.layer.remove();\n\t\tthis.engine.repaintCanvas();\n\t}\n\n\tgetBoxDimensions(event: AbstractDisplacementStateEvent): ClientRect {\n\t\tlet rel: Point;\n\t\tif (event.event instanceof MouseEvent) {\n\t\t\trel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);\n\t\t} else if (event.event instanceof TouchEvent) {\n\t\t\tconst touch = event.event.touches[0];\n\t\t\trel = this.engine.getRelativePoint(touch.clientX, touch.clientY);\n\t\t}\n\n\t\treturn {\n\t\t\tleft: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,\n\t\t\ttop: rel.y > this.initialYRelative ? this.initialYRelative : rel.y,\n\t\t\twidth: Math.abs(rel.x - this.initialXRelative),\n\t\t\theight: Math.abs(rel.y - this.initialYRelative),\n\t\t\tright: rel.x < this.initialXRelative ? this.initialXRelative : rel.x,\n\t\t\tbottom: rel.y < this.initialYRelative ? this.initialYRelative : rel.y\n\t\t};\n\t}\n\n\tfireMouseMoved(event: AbstractDisplacementStateEvent) {\n\t\tthis.layer.setBox(this.getBoxDimensions(event));\n\n\t\tconst relative = this.engine.getRelativeMousePoint({\n\t\t\tclientX: this.initialX,\n\t\t\tclientY: this.initialY\n\t\t});\n\t\tif (event.virtualDisplacementX < 0) {\n\t\t\trelative.x -= Math.abs(event.virtualDisplacementX);\n\t\t}\n\t\tif (event.virtualDisplacementY < 0) {\n\t\t\trelative.y -= Math.abs(event.virtualDisplacementY);\n\t\t}\n\t\tconst rect = new Rectangle(relative, Math.abs(event.virtualDisplacementX), Math.abs(event.virtualDisplacementY));\n\n\t\tfor (let model of this.engine.getModel().getSelectionEntities()) {\n\t\t\tif (((model as unknown) as ModelGeometryInterface).getBoundingBox) {\n\t\t\t\tconst bounds = ((model as unknown) as ModelGeometryInterface).getBoundingBox();\n\t\t\t\tif (rect.containsPoint(bounds.getTopLeft()) && rect.containsPoint(bounds.getBottomRight())) {\n\t\t\t\t\tmodel.setSelected(true);\n\t\t\t\t} else {\n\t\t\t\t\tmodel.setSelected(false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.engine.repaintCanvas();\n\t}\n}\n","import * as React from 'react';\nimport * as _ from 'lodash';\nimport { BaseModel } from '../core-models/BaseModel';\n\nexport interface PeformanceWidgetProps {\n\tchildren: () => JSX.Element;\n\tserialized: object;\n\tmodel: BaseModel;\n}\n\nexport interface PeformanceWidgetState {}\n\nexport class PeformanceWidget extends React.Component<PeformanceWidgetProps, PeformanceWidgetState> {\n\tshouldComponentUpdate(\n\t\tnextProps: Readonly<PeformanceWidgetProps>,\n\t\tnextState: Readonly<PeformanceWidgetState>,\n\t\tnextContext: any\n\t): boolean {\n\t\tif (!this.props.model.performanceTune()) {\n\t\t\treturn true;\n\t\t}\n\t\t// deserialization event\n\t\tif (this.props.model !== nextProps.model) {\n\t\t\treturn true;\n\t\t}\n\n\t\t// change event\n\t\treturn !_.isEqual(this.props.serialized, nextProps.serialized);\n\t}\n\n\trender() {\n\t\treturn this.props.children();\n\t}\n}\n","module.exports = require(\"@emotion/react\");;","module.exports = require(\"@emotion/styled\");;","module.exports = require(\"@projectstorm/geometry\");;","module.exports = require(\"closest\");;","module.exports = require(\"lodash\");;","module.exports = require(\"react\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(\"./dist/index.js\");\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVA;AAEA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAsBA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AA5JA;AACA;AACA;A;;;;;;;;;;;ACpCA;AAEA;AAIA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AA5BA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;ACNA;AAEA;AAYA;;AAEA;AACA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AACA;AACA;A;;;;;;;;;;;AClBA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxDA;AACA;AACA;A;;;;;;;;;;;ACRA;AAIA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAwBA;AAKA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAbA;AACA;AACA;A;;;;;;;;;;;ACzCA;AAEA;AAIA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AA5EA;AACA;AACA;A;;;;;;;;;;;ACRA;AACA;AAEA;AA+BA;AAGA;AACA;AACA;AAIA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAGA;AACA;AA/EA;AACA;AACA;A;;;;;;;;;;;ACpCA;AAQA;AAoBA;AAGA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAMA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAvFA;AACA;AACA;A;;;;;;;;;;;AC9BA;AAEA;AAgBA;AAKA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAjDA;AACA;AACA;A;;;;;;;;;;;ACpBA;AACA;AAWA;AAMA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AA/FA;AACA;AACA;A;;;;;;;;;;;ACbA;AAEA;AAMA;AAUA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhHA;AACA;AACA;A;;;;;;;;;;;ACVA;AAEA;AAMA;AAKA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AA5CA;AACA;AACA;A;;;;;;;;;;;ACRA;;;AAGA;AACA;AAWA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AA1BA;AACA;AACA;A;;;;;;;;;;;ACTA;AAQA;AAQA;AARA;AACA;AACA;A;;;;;;;;;;;ACTA;AAOA;;AAEA;AACA;AAQA;AARA;AACA;AACA;A;;;;;;;;;;;ACbA;AA8CA;;AAEA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AAIA;AACA;AAKA;AACA;AAEA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7FA;AACA;AACA;A;;;;;;;;;;;ACnDA;AAEA;AAcA;;AAEA;AACA;AAMA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1CA;AACA;AACA;A;;;;;;;;;;;;A;;;;;;;;;;;ACrBA;AACA;AAiCA;AAGA;AACA;AAOA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AAGA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AAOA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAvKA;AACA;AACA;A;;;;;;;;;;;ACpCA;AAEA;AACA;AACA;AAOA;AAAA;AACA;;;;AAIA;AACA;AAEA;AAMA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAKA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AAGA;AAGA;AACA;AA7FA;AACA;AACA;A;;;;;;;;;;;ACrBA;AAEA;AAkBA;AAIA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AAEA;AACA;AAKA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApFA;AACA;AACA;A;;;;;;;;;;;ACtBA;AASA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AARA;AACA;AACA;A;;;;;;;;;;;ACXA;AACA;AAGA;AAMA;AAAA;AACA;;;;;;;;;;;AAWA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AACA;AACA;A;;;;;;;;;;;ACnCA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAZA;AACA;AACA;A;;;;;;;;;;;ACRA;AACA;AAMA;AAAA;AACA;;;;AAIA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AAGA;AACA;AAjBA;AACA;AACA;A;;;;;;;;;;;ACjBA;AAKA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAnBA;AACA;AACA;A;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;A;;;;;;;;;;;AC5CA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAlCA;AACA;AACA;A;;;;;;;;;;;;;;;;;;;;ACTA;AAUA;AAMA;AACA;AACA;AACA;AACA;AAIA;AAEA;;;;;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;AACA;AACA;A;;;;;;;;;;;ACZA;AAEA;AACA;AAKA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAIA;AACA;AACA;AACA;AACA;AA3DA;AACA;AACA;A;;;;;;;;;;;ACVA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAxBA;AACA;AACA;A;;;;;;;;;;;ACNA;AAEA;AACA;AAGA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AApEA;AACA;AACA;A;;;;;;;;;;;ACTA;AACA;AAWA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AArBA;AACA;AACA;A;;;;;;;;ACdA;AACA;A;;;;;;;;ACDA;AACA;A;;;;;;;;ACDA;AACA;A;;;;;;;;ACDA;AACA;A;;;;;;;;ACDA;AACA;A;;;;;;;;ACDA;AACA;A;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvBA;AACA;AACA;AACA;;;;;A","sourceRoot":""}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js b/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js
index addab79..8b07db2 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js
@@ -26,6 +26,13 @@ class DefaultState extends State_1.State {
                 }
             }
         }));
+        // touch drags the canvas
+        this.registerAction(new Action_1.Action({
+            type: Action_1.InputType.TOUCH_START,
+            fire: (event) => {
+                this.transitionWithEvent(new DragCanvasState_1.DragCanvasState(), event);
+            }
+        }));
     }
 }
 exports.DefaultState = DefaultState;
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js.map
index 921bfdc..ca5bd2e 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/states/DefaultState.js.map
@@ -1 +1 @@
-{"version":3,"file":"DefaultState.js","sourceRoot":"","sources":["../../src/states/DefaultState.ts"],"names":[],"mappings":";;;AAAA,+CAA4C;AAC5C,mDAAwE;AAExE,uDAAoD;AACpD,qDAAkD;AAClD,qDAAkD;AAElD,MAAa,YAAa,SAAQ,aAAK;IACtC;QACC,KAAK,CAAC;YACL,IAAI,EAAE,SAAS;SACf,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,+BAAc,EAAE,CAAC,CAAC;QAE1C,gCAAgC;QAChC,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAExE,qEAAqE;gBACrE,IAAI,CAAC,OAAO,EAAE;oBACb,IAAI,CAAC,mBAAmB,CAAC,IAAI,iCAAe,EAAE,EAAE,KAAK,CAAC,CAAC;iBACvD;qBAAM;oBACN,IAAI,CAAC,mBAAmB,CAAC,IAAI,+BAAc,EAAE,EAAE,KAAK,CAAC,CAAC;iBACtD;YACF,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CACD;AAxBD,oCAwBC"}
\ No newline at end of file
+{"version":3,"file":"DefaultState.js","sourceRoot":"","sources":["../../src/states/DefaultState.ts"],"names":[],"mappings":";;;AAAA,+CAA4C;AAC5C,mDAAwE;AAExE,uDAAoD;AACpD,qDAAkD;AAClD,qDAAkD;AAElD,MAAa,YAAa,SAAQ,aAAK;IACtC;QACC,KAAK,CAAC;YACL,IAAI,EAAE,SAAS;SACf,CAAC,CAAC;QACH,IAAI,CAAC,WAAW,GAAG,CAAC,IAAI,+BAAc,EAAE,CAAC,CAAC;QAE1C,gCAAgC;QAChC,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,UAAU;YAC1B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;gBAExE,qEAAqE;gBACrE,IAAI,CAAC,OAAO,EAAE;oBACb,IAAI,CAAC,mBAAmB,CAAC,IAAI,iCAAe,EAAE,EAAE,KAAK,CAAC,CAAC;iBACvD;qBAAM;oBACN,IAAI,CAAC,mBAAmB,CAAC,IAAI,+BAAc,EAAE,EAAE,KAAK,CAAC,CAAC;iBACtD;YACF,CAAC;SACD,CAAC,CACF,CAAC;QAEF,yBAAyB;QACzB,IAAI,CAAC,cAAc,CAClB,IAAI,eAAM,CAAC;YACV,IAAI,EAAE,kBAAS,CAAC,WAAW;YAC3B,IAAI,EAAE,CAAC,KAA8B,EAAE,EAAE;gBACxC,IAAI,CAAC,mBAAmB,CAAC,IAAI,iCAAe,EAAE,EAAE,KAAK,CAAC,CAAC;YACxD,CAAC;SACD,CAAC,CACF,CAAC;IACH,CAAC;CACD;AAlCD,oCAkCC"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js b/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js
index 1dd9b1e..8fb8c5e 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js
+++ b/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js
@@ -21,7 +21,14 @@ class SelectionBoxState extends AbstractDisplacementState_1.AbstractDisplacement
         this.engine.repaintCanvas();
     }
     getBoxDimensions(event) {
-        const rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+        let rel;
+        if (event.event instanceof MouseEvent) {
+            rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+        }
+        else if (event.event instanceof TouchEvent) {
+            const touch = event.event.touches[0];
+            rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+        }
         return {
             left: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,
             top: rel.y > this.initialYRelative ? this.initialYRelative : rel.y,
diff --git a/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js.map b/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js.map
index 9a23966..e5fd2fd 100644
--- a/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js.map
+++ b/node_modules/@projectstorm/react-canvas-core/dist/states/SelectionBoxState.js.map
@@ -1 +1 @@
-{"version":3,"file":"SelectionBoxState.js","sourceRoot":"","sources":["../../src/states/SelectionBoxState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"SelectionBoxState.js","sourceRoot":"","sources":["../../src/states/SelectionBoxState.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/src/.DS_Store b/node_modules/@projectstorm/react-canvas-core/src/.DS_Store
deleted file mode 100644
index 9417b9a..0000000
Binary files a/node_modules/@projectstorm/react-canvas-core/src/.DS_Store and /dev/null differ
diff --git a/node_modules/@projectstorm/react-canvas-core/src/core-actions/Action.ts b/node_modules/@projectstorm/react-canvas-core/src/core-actions/Action.ts
index 931121f..3a95d40 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/core-actions/Action.ts
+++ b/node_modules/@projectstorm/react-canvas-core/src/core-actions/Action.ts
@@ -1,4 +1,4 @@
-import { MouseEvent, KeyboardEvent, WheelEvent, SyntheticEvent } from 'react';
+import { MouseEvent, KeyboardEvent, WheelEvent, TouchEvent, SyntheticEvent } from 'react';
 import { Toolkit } from '../Toolkit';
 import { CanvasEngine } from '../CanvasEngine';
 import { BaseModel } from '../core-models/BaseModel';
@@ -9,7 +9,10 @@ export enum InputType {
 	MOUSE_MOVE = 'mouse-move',
 	MOUSE_WHEEL = 'mouse-wheel',
 	KEY_DOWN = 'key-down',
-	KEY_UP = 'key-up'
+	KEY_UP = 'key-up',
+	TOUCH_START = 'touch-start',
+	TOUCH_END = 'touch-end',
+	TOUCH_MOVE = 'touch-move'
 }
 
 export interface Mapping {
@@ -19,6 +22,9 @@ export interface Mapping {
 	[InputType.MOUSE_WHEEL]: WheelEvent;
 	[InputType.KEY_DOWN]: KeyboardEvent;
 	[InputType.KEY_UP]: KeyboardEvent;
+	[InputType.TOUCH_START]: TouchEvent;
+	[InputType.TOUCH_END]: TouchEvent;
+	[InputType.TOUCH_MOVE]: TouchEvent;
 }
 
 export interface ActionEvent<Event extends SyntheticEvent = SyntheticEvent, Model extends BaseModel = BaseModel> {
diff --git a/node_modules/@projectstorm/react-canvas-core/src/core-actions/ActionEventBus.ts b/node_modules/@projectstorm/react-canvas-core/src/core-actions/ActionEventBus.ts
index d62e948..769ca39 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/core-actions/ActionEventBus.ts
+++ b/node_modules/@projectstorm/react-canvas-core/src/core-actions/ActionEventBus.ts
@@ -63,7 +63,14 @@ export class ActionEventBus {
 			return this.getActionsForType(InputType.MOUSE_MOVE);
 		} else if (event.type === 'wheel') {
 			return this.getActionsForType(InputType.MOUSE_WHEEL);
+		} else if (event.type === 'touchstart') {
+			return this.getActionsForType(InputType.TOUCH_START);
+		} else if (event.type === 'touchend') {
+			return this.getActionsForType(InputType.TOUCH_END);
+		} else if (event.type === 'touchmove') {
+			return this.getActionsForType(InputType.TOUCH_MOVE);
 		}
+
 		return [];
 	}
 
diff --git a/node_modules/@projectstorm/react-canvas-core/src/core-state/AbstractDisplacementState.ts b/node_modules/@projectstorm/react-canvas-core/src/core-state/AbstractDisplacementState.ts
index d8548af..5a4b332 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/core-state/AbstractDisplacementState.ts
+++ b/node_modules/@projectstorm/react-canvas-core/src/core-state/AbstractDisplacementState.ts
@@ -7,7 +7,7 @@ export interface AbstractDisplacementStateEvent {
 	displacementY: number;
 	virtualDisplacementX: number;
 	virtualDisplacementY: number;
-	event: React.MouseEvent;
+	event: React.MouseEvent | React.TouchEvent;
 }
 
 export abstract class AbstractDisplacementState<E extends CanvasEngine = CanvasEngine> extends State<E> {
@@ -63,6 +63,45 @@ export abstract class AbstractDisplacementState<E extends CanvasEngine = CanvasE
 				}
 			})
 		);
+
+		this.registerAction(
+			new Action({
+				type: InputType.TOUCH_START,
+				fire: (actionEvent: ActionEvent<React.TouchEvent>) => {
+					const touch = actionEvent.event.touches[0];
+					this.initialX = touch.clientX;
+					this.initialY = touch.clientY;
+					const rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+					this.initialXRelative = rel.x;
+					this.initialYRelative = rel.y;
+				}
+			})
+		);
+		this.registerAction(
+			new Action({
+				type: InputType.TOUCH_MOVE,
+				fire: (actionEvent: ActionEvent<React.TouchEvent>) => {
+					const { event } = actionEvent;
+					const touch = event.touches[0];
+					this.fireMouseMoved({
+						displacementX: touch.clientX - this.initialX,
+						displacementY: touch.clientY - this.initialY,
+						virtualDisplacementX: (touch.clientX - this.initialX) / (this.engine.getModel().getZoomLevel() / 100.0),
+						virtualDisplacementY: (touch.clientY - this.initialY) / (this.engine.getModel().getZoomLevel() / 100.0),
+						event: event
+					});
+				}
+			})
+		);
+		this.registerAction(
+			new Action({
+				type: InputType.TOUCH_END,
+				fire: (event: ActionEvent<React.TouchEvent>) => {
+					// when the mouse if up, we eject this state
+					this.eject();
+				}
+			})
+		);
 	}
 
 	abstract fireMouseMoved(event: AbstractDisplacementStateEvent);
diff --git a/node_modules/@projectstorm/react-canvas-core/src/entities/canvas/CanvasWidget.tsx b/node_modules/@projectstorm/react-canvas-core/src/entities/canvas/CanvasWidget.tsx
index 38e1546..77a06cf 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/entities/canvas/CanvasWidget.tsx
+++ b/node_modules/@projectstorm/react-canvas-core/src/entities/canvas/CanvasWidget.tsx
@@ -90,6 +90,15 @@ export class CanvasWidget extends React.Component<DiagramProps> {
 				}}
 				onMouseMove={(event) => {
 					this.props.engine.getActionEventBus().fireAction({ event });
+				}}
+				onTouchStart={(event) => {
+					this.props.engine.getActionEventBus().fireAction({ event });
+				}}
+				onTouchEnd={(event) => {
+					this.props.engine.getActionEventBus().fireAction({ event });
+				}}
+				onTouchMove={(event) => {
+					this.props.engine.getActionEventBus().fireAction({ event });
 				}}>
 				{model.getLayers().map((layer) => {
 					return (
diff --git a/node_modules/@projectstorm/react-canvas-core/src/entities/selection/SelectionBoxWidget.tsx b/node_modules/@projectstorm/react-canvas-core/src/entities/selection/SelectionBoxWidget.tsx
index d7642e5..314dde4 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/entities/selection/SelectionBoxWidget.tsx
+++ b/node_modules/@projectstorm/react-canvas-core/src/entities/selection/SelectionBoxWidget.tsx
@@ -16,6 +16,9 @@ namespace S {
 export class SelectionBoxWidget extends React.Component<SelectionBoxWidgetProps> {
 	render() {
 		const { rect } = this.props;
+
+		if (!rect) return;
+
 		return (
 			<S.Container
 				style={{
diff --git a/node_modules/@projectstorm/react-canvas-core/src/states/DefaultState.ts b/node_modules/@projectstorm/react-canvas-core/src/states/DefaultState.ts
index c929584..d5aaec1 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/states/DefaultState.ts
+++ b/node_modules/@projectstorm/react-canvas-core/src/states/DefaultState.ts
@@ -1,6 +1,6 @@
 import { State } from '../core-state/State';
 import { Action, ActionEvent, InputType } from '../core-actions/Action';
-import { MouseEvent } from 'react';
+import { MouseEvent, TouchEvent } from 'react';
 import { DragCanvasState } from './DragCanvasState';
 import { SelectingState } from './SelectingState';
 import { MoveItemsState } from './MoveItemsState';
@@ -28,5 +28,15 @@ export class DefaultState extends State {
 				}
 			})
 		);
+
+		// touch drags the canvas
+		this.registerAction(
+			new Action({
+				type: InputType.TOUCH_START,
+				fire: (event: ActionEvent<TouchEvent>) => {
+					this.transitionWithEvent(new DragCanvasState(), event);
+				}
+			})
+		);
 	}
 }
diff --git a/node_modules/@projectstorm/react-canvas-core/src/states/SelectionBoxState.ts b/node_modules/@projectstorm/react-canvas-core/src/states/SelectionBoxState.ts
index 6484334..5fa86cb 100644
--- a/node_modules/@projectstorm/react-canvas-core/src/states/SelectionBoxState.ts
+++ b/node_modules/@projectstorm/react-canvas-core/src/states/SelectionBoxState.ts
@@ -1,7 +1,8 @@
+import { MouseEvent, TouchEvent } from 'react';
 import { AbstractDisplacementState, AbstractDisplacementStateEvent } from '../core-state/AbstractDisplacementState';
 import { State } from '../core-state/State';
 import { SelectionLayerModel } from '../entities/selection/SelectionLayerModel';
-import { Rectangle } from '@projectstorm/geometry';
+import { Point, Rectangle } from '@projectstorm/geometry';
 import { ModelGeometryInterface } from '../core/ModelGeometryInterface';
 
 export class SelectionBoxState extends AbstractDisplacementState {
@@ -26,7 +27,13 @@ export class SelectionBoxState extends AbstractDisplacementState {
 	}
 
 	getBoxDimensions(event: AbstractDisplacementStateEvent): ClientRect {
-		const rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+		let rel: Point;
+		if (event.event instanceof MouseEvent) {
+			rel = this.engine.getRelativePoint(event.event.clientX, event.event.clientY);
+		} else if (event.event instanceof TouchEvent) {
+			const touch = event.event.touches[0];
+			rel = this.engine.getRelativePoint(touch.clientX, touch.clientY);
+		}
 
 		return {
 			left: rel.x > this.initialXRelative ? this.initialXRelative : rel.x,
diff --git a/node_modules/@projectstorm/react-canvas-core/tsconfig.json b/node_modules/@projectstorm/react-canvas-core/tsconfig.json
new file mode 100644
index 0000000..66dc7d8
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/tsconfig.json
@@ -0,0 +1,16 @@
+{
+	"extends": "../../tsconfig.base.json",
+	"compilerOptions": {
+		"outDir": "dist",
+		"rootDir": "src",
+		"declarationDir": "dist/@types"
+	},
+	"include": [
+		"./src"
+	],
+	"references": [
+		{
+			"path": "../geometry"
+		}
+	]
+}
diff --git a/node_modules/@projectstorm/react-canvas-core/tsconfig.tsbuildinfo b/node_modules/@projectstorm/react-canvas-core/tsconfig.tsbuildinfo
new file mode 100644
index 0000000..2ff8464
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/tsconfig.tsbuildinfo
@@ -0,0 +1,3762 @@
+{
+  "program": {
+    "fileInfos": {
+      "../../node_modules/typescript/lib/lib.es5.d.ts": {
+        "version": "b3584bc5798ed422ce2516df360ffa9cf2d80b5eae852867db9ba3743145f895",
+        "signature": "b3584bc5798ed422ce2516df360ffa9cf2d80b5eae852867db9ba3743145f895",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.d.ts": {
+        "version": "dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6",
+        "signature": "dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/typescript/lib/lib.es2016.d.ts": {
+        "version": "7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467",
+        "signature": "7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/typescript/lib/lib.es2017.d.ts": {
+        "version": "8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9",
+        "signature": "8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/typescript/lib/lib.es2018.d.ts": {
+        "version": "5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06",
+        "signature": "5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/typescript/lib/lib.dom.d.ts": {
+        "version": "feeeb1dd8a80fb76be42b0426e8f3ffa9bdef3c2f3c12c147e7660b1c5ba8b3b",
+        "signature": "feeeb1dd8a80fb76be42b0426e8f3ffa9bdef3c2f3c12c147e7660b1c5ba8b3b",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.core.d.ts": {
+        "version": "46ee15e9fefa913333b61eaf6b18885900b139867d89832a515059b62cf16a17",
+        "signature": "46ee15e9fefa913333b61eaf6b18885900b139867d89832a515059b62cf16a17",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.collection.d.ts": {
+        "version": "43fb1d932e4966a39a41b464a12a81899d9ae5f2c829063f5571b6b87e6d2f9c",
+        "signature": "43fb1d932e4966a39a41b464a12a81899d9ae5f2c829063f5571b6b87e6d2f9c",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.generator.d.ts": {
+        "version": "cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a",
+        "signature": "cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.iterable.d.ts": {
+        "version": "8b2a5df1ce95f78f6b74f1a555ccdb6baab0486b42d8345e0871dd82811f9b9a",
+        "signature": "8b2a5df1ce95f78f6b74f1a555ccdb6baab0486b42d8345e0871dd82811f9b9a",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.promise.d.ts": {
+        "version": "2bb4b3927299434052b37851a47bf5c39764f2ba88a888a107b32262e9292b7c",
+        "signature": "2bb4b3927299434052b37851a47bf5c39764f2ba88a888a107b32262e9292b7c",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.proxy.d.ts": {
+        "version": "810627a82ac06fb5166da5ada4159c4ec11978dfbb0805fe804c86406dab8357",
+        "signature": "810627a82ac06fb5166da5ada4159c4ec11978dfbb0805fe804c86406dab8357",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.reflect.d.ts": {
+        "version": "62d80405c46c3f4c527ee657ae9d43fda65a0bf582292429aea1e69144a522a6",
+        "signature": "62d80405c46c3f4c527ee657ae9d43fda65a0bf582292429aea1e69144a522a6",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.symbol.d.ts": {
+        "version": "3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93",
+        "signature": "3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts": {
+        "version": "9d122b7e8c1a5c72506eea50c0973cba55b92b5532d5cafa8a6ce2c547d57551",
+        "signature": "9d122b7e8c1a5c72506eea50c0973cba55b92b5532d5cafa8a6ce2c547d57551",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2016.array.include.d.ts": {
+        "version": "3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006",
+        "signature": "3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2017.object.d.ts": {
+        "version": "17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a",
+        "signature": "17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts": {
+        "version": "7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98",
+        "signature": "7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2017.string.d.ts": {
+        "version": "6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577",
+        "signature": "6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2017.intl.d.ts": {
+        "version": "12a310447c5d23c7d0d5ca2af606e3bd08afda69100166730ab92c62999ebb9d",
+        "signature": "12a310447c5d23c7d0d5ca2af606e3bd08afda69100166730ab92c62999ebb9d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts": {
+        "version": "b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e",
+        "signature": "b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts": {
+        "version": "0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a",
+        "signature": "0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts": {
+        "version": "a40c4d82bf13fcded295ac29f354eb7d40249613c15e07b53f2fc75e45e16359",
+        "signature": "a40c4d82bf13fcded295ac29f354eb7d40249613c15e07b53f2fc75e45e16359",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2018.intl.d.ts": {
+        "version": "df9c8a72ca8b0ed62f5470b41208a0587f0f73f0a7db28e5a1272cf92537518e",
+        "signature": "df9c8a72ca8b0ed62f5470b41208a0587f0f73f0a7db28e5a1272cf92537518e",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2018.promise.d.ts": {
+        "version": "bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c",
+        "signature": "bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2018.regexp.d.ts": {
+        "version": "c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8",
+        "signature": "c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.es2020.bigint.d.ts": {
+        "version": "7b5a10e3c897fabece5a51aa85b4111727d7adb53c2734b5d37230ff96802a09",
+        "signature": "7b5a10e3c897fabece5a51aa85b4111727d7adb53c2734b5d37230ff96802a09",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/typescript/lib/lib.esnext.intl.d.ts": {
+        "version": "506b80b9951c9381dc5f11897b31fca5e2a65731d96ddefa19687fbc26b23c6e",
+        "signature": "506b80b9951c9381dc5f11897b31fca5e2a65731d96ddefa19687fbc26b23c6e",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/lodash/common/common.d.ts": {
+        "version": "3594c022901a1c8993b0f78a3f534cfb81e7b619ed215348f7f6882f3db02abc",
+        "signature": "3594c022901a1c8993b0f78a3f534cfb81e7b619ed215348f7f6882f3db02abc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/array.d.ts": {
+        "version": "438284c7c455a29b9c0e2d1e72abc62ee93d9a163029ffe918a34c5db3b92da2",
+        "signature": "438284c7c455a29b9c0e2d1e72abc62ee93d9a163029ffe918a34c5db3b92da2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/collection.d.ts": {
+        "version": "0c75b204aed9cf6ff1c7b4bed87a3ece0d9d6fc857a6350c0c95ed0c38c814e8",
+        "signature": "0c75b204aed9cf6ff1c7b4bed87a3ece0d9d6fc857a6350c0c95ed0c38c814e8",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/date.d.ts": {
+        "version": "187119ff4f9553676a884e296089e131e8cc01691c546273b1d0089c3533ce42",
+        "signature": "187119ff4f9553676a884e296089e131e8cc01691c546273b1d0089c3533ce42",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/function.d.ts": {
+        "version": "c9f396e71966bd3a890d8a36a6a497dbf260e9b868158ea7824d4b5421210afe",
+        "signature": "c9f396e71966bd3a890d8a36a6a497dbf260e9b868158ea7824d4b5421210afe",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/lang.d.ts": {
+        "version": "509235563ea2b939e1bbe92aae17e71e6a82ceab8f568b45fb4fce7d72523a32",
+        "signature": "509235563ea2b939e1bbe92aae17e71e6a82ceab8f568b45fb4fce7d72523a32",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/math.d.ts": {
+        "version": "9364c7566b0be2f7b70ff5285eb34686f83ccb01bda529b82d23b2a844653bfb",
+        "signature": "9364c7566b0be2f7b70ff5285eb34686f83ccb01bda529b82d23b2a844653bfb",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/number.d.ts": {
+        "version": "00baffbe8a2f2e4875367479489b5d43b5fc1429ecb4a4cc98cfc3009095f52a",
+        "signature": "00baffbe8a2f2e4875367479489b5d43b5fc1429ecb4a4cc98cfc3009095f52a",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/object.d.ts": {
+        "version": "c311349ec71bb69399ffc4092853e7d8a86c1ca39ddb4cd129e775c19d985793",
+        "signature": "c311349ec71bb69399ffc4092853e7d8a86c1ca39ddb4cd129e775c19d985793",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/seq.d.ts": {
+        "version": "3c92b6dfd43cc1c2485d9eba5ff0b74a19bb8725b692773ef1d66dac48cda4bd",
+        "signature": "3c92b6dfd43cc1c2485d9eba5ff0b74a19bb8725b692773ef1d66dac48cda4bd",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/string.d.ts": {
+        "version": "4908e4c00832b26ce77a629de8501b0e23a903c094f9e79a7fec313a15da796a",
+        "signature": "4908e4c00832b26ce77a629de8501b0e23a903c094f9e79a7fec313a15da796a",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/common/util.d.ts": {
+        "version": "2630a7cbb597e85d713b7ef47f2946d4280d3d4c02733282770741d40672b1a5",
+        "signature": "2630a7cbb597e85d713b7ef47f2946d4280d3d4c02733282770741d40672b1a5",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/lodash/index.d.ts": {
+        "version": "0714e2046df66c0e93c3330d30dbc0565b3e8cd3ee302cf99e4ede6220e5fec8",
+        "signature": "0714e2046df66c0e93c3330d30dbc0565b3e8cd3ee302cf99e4ede6220e5fec8",
+        "affectsGlobalScope": true
+      },
+      "./src/Toolkit.ts": {
+        "version": "77ade4efe8f866bb81a5db01c738836b65a9fb6b6636c53a1dc8f515a9581d35",
+        "signature": "962bee99636c92f2d0f3f6da5c4472e8307f343a71b7a287ff63275ef9106c9c",
+        "affectsGlobalScope": false
+      },
+      "./src/core/BaseObserver.ts": {
+        "version": "51b2f98e6abbb2f41d417b854a726ccc8d21d51c50b05076b0d07c48d5f9f1f9",
+        "signature": "0176dfb9f1e92c346484b61ea703190def5a1c0679cffdae0abfc0b14e11dad4",
+        "affectsGlobalScope": false
+      },
+      "./src/core/FactoryBank.ts": {
+        "version": "ee7af21abd60b23ad98ac8d606252fa979b1e8a3996a26b98ca92e38f9a2180c",
+        "signature": "3e48fb63c503aa858a37742c492442bebed4c93af5ae6b3717c71fd6bc8233ed",
+        "affectsGlobalScope": false
+      },
+      "./src/core/AbstractFactory.ts": {
+        "version": "a9109d69f02a9c6920efac700e2f42643b19da6459f81385a6d911f53b7dc3e1",
+        "signature": "3b0b6c9f8ff600614d6b3cd24681021eaa19700682f59a643cc47eecf980c6cd",
+        "affectsGlobalScope": false
+      },
+      "./src/core-models/BaseModel.ts": {
+        "version": "945f6d022c99b0cd60e7c831004b882d81944ba41e9fc3a823b8f2f0b9ffc296",
+        "signature": "844bfd608a1c5849b975d49bcb22877b43f66db1bd97c7f139d158af1c9c3684",
+        "affectsGlobalScope": false
+      },
+      "./src/core/AbstractModelFactory.ts": {
+        "version": "a3d5dfb94efdc8d2c114d16aa60ae898be6a749b3bf68a1e36a14ccba7e81e9b",
+        "signature": "7e8eb55493d5b8a73c3802926b96f1d44dd840d6dccce30d68a678d8bd14f97d",
+        "affectsGlobalScope": false
+      },
+      "./src/core-models/BaseEntity.ts": {
+        "version": "5d04b0dc46090a48736ccfb6a706dc4bfc2fb71b2c582ce1a50d97e2b4f28d91",
+        "signature": "75e29ba1b99df969b0292dbe8e2e0bc4baa6c2d09d19e68349a99f510eb0d267",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/layer/LayerModel.ts": {
+        "version": "a90f1934a2bba40c7b05f0bf8d765c065eec22c3e755c70509f6ad89782b3d50",
+        "signature": "f694bdfea231fb5264664b64dd61a7dc287d328dc45f3572ea74ad474bbe1ea9",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/canvas/CanvasModel.ts": {
+        "version": "8c4140a01e110c4c783aefa5b20c3091b7b6ff4a65946d063cb4ecfd87a479f2",
+        "signature": "4954e5fc8374d667969e0effdbee02176cdbbcfe292a947a981232d46c488047",
+        "affectsGlobalScope": false
+      },
+      "./src/core/AbstractReactFactory.tsx": {
+        "version": "1e06ec7a55fa9c7bc07dabe0d7fbbcefb08be95b00699e6279d5e5df76722312",
+        "signature": "f45e79ac8969bfa63b2daa2a86d9461434b7135d47e93832f86dbf4de6294afd",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react/global.d.ts": {
+        "version": "ecf78e637f710f340ec08d5d92b3f31b134a46a4fcf2e758690d8c46ce62cba6",
+        "signature": "ecf78e637f710f340ec08d5d92b3f31b134a46a4fcf2e758690d8c46ce62cba6",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/csstype/index.d.ts": {
+        "version": "b3a4ee9791cdd4f5029b3ffe60b9cae1ac308a4238b0444f40a5222e4ecc5cc1",
+        "signature": "b3a4ee9791cdd4f5029b3ffe60b9cae1ac308a4238b0444f40a5222e4ecc5cc1",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/prop-types/index.d.ts": {
+        "version": "a7e32dcb90bf0c1b7a1e4ac89b0f7747cbcba25e7beddc1ebf17be1e161842ad",
+        "signature": "a7e32dcb90bf0c1b7a1e4ac89b0f7747cbcba25e7beddc1ebf17be1e161842ad",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/scheduler/tracing.d.ts": {
+        "version": "f5a8b384f182b3851cec3596ccc96cb7464f8d3469f48c74bf2befb782a19de5",
+        "signature": "f5a8b384f182b3851cec3596ccc96cb7464f8d3469f48c74bf2befb782a19de5",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react/index.d.ts": {
+        "version": "5d708266116e778d6a4140fca2ac36f71d99b4c68bc3be63a45ba8bf5ade5348",
+        "signature": "5d708266116e778d6a4140fca2ac36f71d99b4c68bc3be63a45ba8bf5ade5348",
+        "affectsGlobalScope": true
+      },
+      "../geometry/dist/@types/Matrix.d.ts": {
+        "version": "8d1f632e39ba70a80a603db30716170c616fb580877fff4e826900573117b86f",
+        "signature": "8d1f632e39ba70a80a603db30716170c616fb580877fff4e826900573117b86f",
+        "affectsGlobalScope": false
+      },
+      "../geometry/dist/@types/Point.d.ts": {
+        "version": "968d20d4b75a4bf2dcf6ede9af2e90a9d8c22fa2492d3ccdca07d0bf3ededa9b",
+        "signature": "968d20d4b75a4bf2dcf6ede9af2e90a9d8c22fa2492d3ccdca07d0bf3ededa9b",
+        "affectsGlobalScope": false
+      },
+      "../geometry/dist/@types/Rectangle.d.ts": {
+        "version": "13b261b1450d21c5d993de74522fe8d7a3a9f8d4ade2ef68b5e030f04b2a6fd1",
+        "signature": "13b261b1450d21c5d993de74522fe8d7a3a9f8d4ade2ef68b5e030f04b2a6fd1",
+        "affectsGlobalScope": false
+      },
+      "../geometry/dist/@types/Polygon.d.ts": {
+        "version": "b3e81b6bd5b7250ce078be9431064a4cab5208755c9fe8ac641a1467be23d3d4",
+        "signature": "b3e81b6bd5b7250ce078be9431064a4cab5208755c9fe8ac641a1467be23d3d4",
+        "affectsGlobalScope": false
+      },
+      "../geometry/dist/@types/BezierCurve.d.ts": {
+        "version": "1257e87945f1e930b9ccf3e646b8577dc62ab454e642d26afdae6a5aebe41b2d",
+        "signature": "1257e87945f1e930b9ccf3e646b8577dc62ab454e642d26afdae6a5aebe41b2d",
+        "affectsGlobalScope": false
+      },
+      "../geometry/dist/@types/index.d.ts": {
+        "version": "dc222f826ae8d67d5cabed4ac6725b7051344f159ee3fa7daeee67eb0a74768c",
+        "signature": "dc222f826ae8d67d5cabed4ac6725b7051344f159ee3fa7daeee67eb0a74768c",
+        "affectsGlobalScope": false
+      },
+      "./src/core-actions/Action.ts": {
+        "version": "44a186d36a576da0063cd8474bbfba02cc99089e47b2aa788d00f585fa2499b9",
+        "signature": "2d7cb9bec22d6029ef0ab2d7f576a91b4eea6a30503a01f0013b2375920418bb",
+        "affectsGlobalScope": false
+      },
+      "./src/core-actions/ActionEventBus.ts": {
+        "version": "a065dc2a5cc90273a59f78a79e199ca943dffe06bf37241286e6288885a4226d",
+        "signature": "bb75b028b3caf6200c3d5754b1c4c45f2b9d57e3298414bf8a6b94bfdc417c79",
+        "affectsGlobalScope": false
+      },
+      "./src/actions/ZoomCanvasAction.ts": {
+        "version": "588b3c61858d37b46e3fb9fbd4903e19b5070e432faa55d86d5dc5d47484fc26",
+        "signature": "0fe442beecd68d0e8bf0cbec8ba928f5fa78d51c69f589b8dae3701995135a4f",
+        "affectsGlobalScope": false
+      },
+      "./src/actions/DeleteItemsAction.ts": {
+        "version": "2340034169be34a1d504752a8d1ebda1493a63c018e8fbdd91595836a712e726",
+        "signature": "24d70592b8cf65d4ef01db06c08511434aee7079577f94d5f96b9e4a57c7a23d",
+        "affectsGlobalScope": false
+      },
+      "./src/core-state/State.ts": {
+        "version": "f3320cd9b091e4d7e8b85c59c6aff44e3bda8200cda26df8b30c8c8206051b1c",
+        "signature": "23a729f9d2d11e90428426d465763d3999a6895df98f6c14283a8b8bd67420c1",
+        "affectsGlobalScope": false
+      },
+      "./src/core-state/StateMachine.ts": {
+        "version": "c13c27efe3fb72a75c75d94f29d4987723eab25f6195b627179f579f4d48e552",
+        "signature": "92c8e22e6e2068d2c07809a885f9bfcdd11df6e7f770e4504ff65464759576ed",
+        "affectsGlobalScope": false
+      },
+      "./src/CanvasEngine.ts": {
+        "version": "d6027d4f0d791da2b98769bdbff1c3c0bfc95904463874c4439b813d3c16686b",
+        "signature": "e04f12f5f97ae8f555291c190845a664543e516936cc42d5e2fef85715ba0439",
+        "affectsGlobalScope": false
+      },
+      "./src/core/ModelGeometryInterface.ts": {
+        "version": "5bea1bff2241cfd9c11c3c7b13c547d57de91fbcfb97c9fb517e904a5b455f76",
+        "signature": "bb928dc1096520138fd1ce96807c14cd245ab922c576c9a87ad7828c3f3bf845",
+        "affectsGlobalScope": false
+      },
+      "./src/core-models/BasePositionModel.ts": {
+        "version": "2bc9c993b78b0516727aa05a7a2cb19121b397068ecef4f33ea3adf0ce2f41e8",
+        "signature": "94a76915c5d9d6657a607c5c675c8d95bfdf32a24532a994422cb10347bb14a5",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts": {
+        "version": "4b46f4712ae966996b2cc81949d482063887c55478706e25d942482a44b99b71",
+        "signature": "4b46f4712ae966996b2cc81949d482063887c55478706e25d942482a44b99b71",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts": {
+        "version": "71c1350814b0e0683b2725e5eb7d44abf44944d23d5b9ca215cd7e0efe0496e2",
+        "signature": "71c1350814b0e0683b2725e5eb7d44abf44944d23d5b9ca215cd7e0efe0496e2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts": {
+        "version": "93b24ca76698e62732d72800da132367639a4426363c821338bbbd7cf6b64443",
+        "signature": "93b24ca76698e62732d72800da132367639a4426363c821338bbbd7cf6b64443",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/types/jsx-namespace.d.ts": {
+        "version": "ecfa9ce3a5a37d15b813065e8a7cdf677a0f493018e47ce59815443dfbb9c910",
+        "signature": "ecfa9ce3a5a37d15b813065e8a7cdf677a0f493018e47ce59815443dfbb9c910",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/types/helper.d.ts": {
+        "version": "83e56d3337e1a6dbafdbe5a2502a84c330b1a328ed2860d689b2ded82b1f5c95",
+        "signature": "83e56d3337e1a6dbafdbe5a2502a84c330b1a328ed2860d689b2ded82b1f5c95",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/types/theming.d.ts": {
+        "version": "e630f8a3c49d5db0a8af774799abdb8f19675b940a6cfa25eca35e5280709f28",
+        "signature": "e630f8a3c49d5db0a8af774799abdb8f19675b940a6cfa25eca35e5280709f28",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/react/types/index.d.ts": {
+        "version": "413c03b679ca5bbe6456b8a38ac999fffb3834d0e4a9638bd186533d629ab8cb",
+        "signature": "413c03b679ca5bbe6456b8a38ac999fffb3834d0e4a9638bd186533d629ab8cb",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/styled/node_modules/@emotion/serialize/types/index.d.ts": {
+        "version": "93b24ca76698e62732d72800da132367639a4426363c821338bbbd7cf6b64443",
+        "signature": "93b24ca76698e62732d72800da132367639a4426363c821338bbbd7cf6b64443",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/styled/types/base.d.ts": {
+        "version": "ad41c7519202d7daf1ca369d8e85e607e5604474a25e6d2d2e75730922e9ca76",
+        "signature": "ad41c7519202d7daf1ca369d8e85e607e5604474a25e6d2d2e75730922e9ca76",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@emotion/styled/types/index.d.ts": {
+        "version": "137a44f0f62468569f6cb54ec0ee289b9694bf6acf872c749f20a80bf9e5b991",
+        "signature": "137a44f0f62468569f6cb54ec0ee289b9694bf6acf872c749f20a80bf9e5b991",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/layer/TransformLayerWidget.tsx": {
+        "version": "7ff4d9ca9b2a18f1a10f6483ef2da4a70cdacd9e61686f378d61b17ffff0c64b",
+        "signature": "a9476d0455491d0e6dcb14d2cd0245f8bce52e727a8f9c923f61fdaa94de317c",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/layer/SmartLayerWidget.tsx": {
+        "version": "8aba1cc3f7dd9c71dbe72eb3d8085fa3e336f3b41ba183c15b4af20ec2bf7f6e",
+        "signature": "011b09d59d690e9254778fefe0b804408d9f232987c10b1858b8e79141b990d2",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/canvas/CanvasWidget.tsx": {
+        "version": "17a741e1e53dcfbe2429cb8c69a495777a0f02cdaae02e8b812e16f0c324a488",
+        "signature": "32644fd39e4bc1426d881db1a4603d383d4e8d0f685022877cb0675216f25f66",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/selection/SelectionLayerModel.ts": {
+        "version": "1e0c283dee1d0a9a731e0de07ca650b441d1fef93397883f12e1763c728969c9",
+        "signature": "9c30973712ac0772365c8989105745a959ed058c7cf7e262312390ee516cbefe",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/selection/SelectionBoxWidget.tsx": {
+        "version": "4a7071610a3a89235f934ab22ddbca819bb4ea3b249de1059c7bc9658a6a9ceb",
+        "signature": "cf0ac01b4805e04fd933bede724b362aeda8aa614c6b0e78bb15e19cf094df5c",
+        "affectsGlobalScope": false
+      },
+      "./src/entities/selection/SelectionBoxLayerFactory.tsx": {
+        "version": "dd97a350cff748dc652cb62ee291ece9bbbc17ecaa52800af28d3a1c811deb13",
+        "signature": "c6a60dcd79006a2192333192a02256f012e954126c72e9e6c2d843984cdb227b",
+        "affectsGlobalScope": false
+      },
+      "./src/widgets/PeformanceWidget.tsx": {
+        "version": "14b7b13111bc6b0daacb67e6f357452b94bf10a1c56eb6176989c63edc1b535c",
+        "signature": "18d6b285e226889fcc7995f71738c4c8bc54cc1b407cabd138fbde9712da065d",
+        "affectsGlobalScope": false
+      },
+      "./src/core-state/AbstractDisplacementState.ts": {
+        "version": "f6eab39a301eb488a88b2ba7ddc0f9a1e2b2e1f6fea90d86b21ea879c0232b8d",
+        "signature": "7229f1f4cf1bc7a2a66070178c3de323bcda6558a9d37dbd559ba965edc3c9a0",
+        "affectsGlobalScope": false
+      },
+      "./src/states/DragCanvasState.ts": {
+        "version": "21b6dce277b8ff8bc31f3135b849311c683181dba617e1027bad56a54ce7515b",
+        "signature": "d6840a9dfebe3071b1774c95d5efb9571e6768d8f940b8755a4d21190f878087",
+        "affectsGlobalScope": false
+      },
+      "./src/states/SelectionBoxState.ts": {
+        "version": "afeb4e5db967e609c41059998a2cf3d830bdede24407ce6f8dbbc78fcfb19e66",
+        "signature": "c3a8022721a49e1615950042c2ad22d26ac7b0c5d95dab4a0870f8a37316c788",
+        "affectsGlobalScope": false
+      },
+      "./src/states/SelectingState.ts": {
+        "version": "c246cbcb40848c70eaf335607e6eb504db149d81485a1d169000868d144eec38",
+        "signature": "11eb9480348eba100064a55b1dc24a3e4a0bdec477b097e920060f904a5b5dc7",
+        "affectsGlobalScope": false
+      },
+      "./src/states/MoveItemsState.ts": {
+        "version": "272a96e2040f18fc7b8bf9e26e7f92ddb69ff833191d779e8746326c391945b8",
+        "signature": "99792cf2bc11fc8fecd64126c50d2cde4f25a32a202412278fa2add750b426fd",
+        "affectsGlobalScope": false
+      },
+      "./src/states/DefaultState.ts": {
+        "version": "14ee3cb1c62af8b0d0cc841e74ebdc06eae8fb37faf05f9e36ffa0fead52173a",
+        "signature": "0c907df70939d4ae6feb6a7ce84ca8bdb520bf4454ed500fd45b1d3e59c6dd66",
+        "affectsGlobalScope": false
+      },
+      "./src/index.ts": {
+        "version": "9c209f575847e62f449d3b028858d3d40c2ad6dd334ed7da6361d03ee14fc809",
+        "signature": "21fcc1e22048a0eb591f389722909bb0e858a1a726553fcfac3d592924658918",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/anymatch/index.d.ts": {
+        "version": "48b52264fa193879a074197839dbb4796fa07e86350ff888e5361e06aa46df76",
+        "signature": "48b52264fa193879a074197839dbb4796fa07e86350ff888e5361e06aa46df76",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@babel/types/lib/index.d.ts": {
+        "version": "f4d27b39be5d82eb94f12c54a15e61f65decb27fb289353d11ef238de49bf5c2",
+        "signature": "f4d27b39be5d82eb94f12c54a15e61f65decb27fb289353d11ef238de49bf5c2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/babel__generator/index.d.ts": {
+        "version": "b25c5f2970d06c729f464c0aeaa64b1a5b5f1355aa93554bb5f9c199b8624b1e",
+        "signature": "b25c5f2970d06c729f464c0aeaa64b1a5b5f1355aa93554bb5f9c199b8624b1e",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/babel__traverse/index.d.ts": {
+        "version": "ef91066d2057cca50511e3af2d4aa54e07913a15f9cee1748f256139318eb413",
+        "signature": "ef91066d2057cca50511e3af2d4aa54e07913a15f9cee1748f256139318eb413",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@babel/parser/typings/babel-parser.d.ts": {
+        "version": "04467c3822f065aee977f9e1225b86b9ac0e976cb42b0c8da0b893a3290920e1",
+        "signature": "04467c3822f065aee977f9e1225b86b9ac0e976cb42b0c8da0b893a3290920e1",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/babel__template/index.d.ts": {
+        "version": "3e0a34f7207431d967dc32d593d1cda0c23975e9484bc8895b39d96ffca4a0d8",
+        "signature": "3e0a34f7207431d967dc32d593d1cda0c23975e9484bc8895b39d96ffca4a0d8",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/babel__core/index.d.ts": {
+        "version": "7df3163944694feeac63067632a8dc2e2dea1350119ec8b43df277af69198369",
+        "signature": "7df3163944694feeac63067632a8dc2e2dea1350119ec8b43df277af69198369",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/braces/index.d.ts": {
+        "version": "cfb42d1c8aa66607ef3b1e2cee85d28148358ba62dc5e5146b317dae7bfd9a96",
+        "signature": "cfb42d1c8aa66607ef3b1e2cee85d28148358ba62dc5e5146b317dae7bfd9a96",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/globals.d.ts": {
+        "version": "25b4a0c4fab47c373ee49df4c239826ee3430019fc0c1b5e59edc3e398b7468d",
+        "signature": "25b4a0c4fab47c373ee49df4c239826ee3430019fc0c1b5e59edc3e398b7468d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/async_hooks.d.ts": {
+        "version": "7698983d080f951eaf53ff81e5c7bd61abc02e4a1a21266f1bd79ea85c0dc641",
+        "signature": "7698983d080f951eaf53ff81e5c7bd61abc02e4a1a21266f1bd79ea85c0dc641",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/buffer.d.ts": {
+        "version": "5726b5ce952dc5beaeb08d5f64236632501568a54a390363d2339ba1dc5393b1",
+        "signature": "5726b5ce952dc5beaeb08d5f64236632501568a54a390363d2339ba1dc5393b1",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/child_process.d.ts": {
+        "version": "674bedbfd2004e233e2a266a3d2286e524f0d58787a98522d834d6ccda1d215a",
+        "signature": "674bedbfd2004e233e2a266a3d2286e524f0d58787a98522d834d6ccda1d215a",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/cluster.d.ts": {
+        "version": "714637d594e1a38a075091fe464ca91c6abc0b154784b4287f6883200e28ccef",
+        "signature": "714637d594e1a38a075091fe464ca91c6abc0b154784b4287f6883200e28ccef",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/console.d.ts": {
+        "version": "23edba5f47d3409810c563fe8034ae2c59e718e1ef8570f4152ccdde1915a096",
+        "signature": "23edba5f47d3409810c563fe8034ae2c59e718e1ef8570f4152ccdde1915a096",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/constants.d.ts": {
+        "version": "0e9c55f894ca2d9cf63b5b0d43a8cec1772dd560233fd16275bc7a485eb82f83",
+        "signature": "0e9c55f894ca2d9cf63b5b0d43a8cec1772dd560233fd16275bc7a485eb82f83",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/crypto.d.ts": {
+        "version": "64813a6beff756b9e3f3c06d1b648d55e7c90af2b55c64d13a69d6c7f573643d",
+        "signature": "64813a6beff756b9e3f3c06d1b648d55e7c90af2b55c64d13a69d6c7f573643d",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/dgram.d.ts": {
+        "version": "5f0a09de75bd965c21dc6d73671ba88830272f9ed62897bb0aa9754b369b1eed",
+        "signature": "5f0a09de75bd965c21dc6d73671ba88830272f9ed62897bb0aa9754b369b1eed",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/dns.d.ts": {
+        "version": "2b34e7fcba9e1f24e7f54ba5c8be5a8895b0b8b444ccf6548e04acdee0899317",
+        "signature": "2b34e7fcba9e1f24e7f54ba5c8be5a8895b0b8b444ccf6548e04acdee0899317",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/domain.d.ts": {
+        "version": "06d2be99c3dd2ff52114d02ee443ba486ab482423df1941d3c97d6a92e924d70",
+        "signature": "06d2be99c3dd2ff52114d02ee443ba486ab482423df1941d3c97d6a92e924d70",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/events.d.ts": {
+        "version": "bfd4f140c07091b5e8a963c89e6fa3f44b6cfcbc11471b465cf63e2d020ad0eb",
+        "signature": "bfd4f140c07091b5e8a963c89e6fa3f44b6cfcbc11471b465cf63e2d020ad0eb",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/fs.d.ts": {
+        "version": "a106a0bea088b70879ac88ff606dc253c0cc474ea05ad3a282b8bfb1091ae576",
+        "signature": "a106a0bea088b70879ac88ff606dc253c0cc474ea05ad3a282b8bfb1091ae576",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/fs/promises.d.ts": {
+        "version": "c98ce957db9eebd75f53edda3f6893e05ab2d2283b5667b18e31bcdb6427ed10",
+        "signature": "c98ce957db9eebd75f53edda3f6893e05ab2d2283b5667b18e31bcdb6427ed10",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/http.d.ts": {
+        "version": "1f08bd8305d4a789a68f71ab622156dfff993aa51a2aa58b9ccf166cc6f9fcf7",
+        "signature": "1f08bd8305d4a789a68f71ab622156dfff993aa51a2aa58b9ccf166cc6f9fcf7",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/http2.d.ts": {
+        "version": "4c260129d649d69f0608cd123e7016e61364b553a5ca2de9b66b0398594959cf",
+        "signature": "4c260129d649d69f0608cd123e7016e61364b553a5ca2de9b66b0398594959cf",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/https.d.ts": {
+        "version": "1978992206803f5761e99e893d93b25abc818c5fe619674fdf2ae02b29f641ba",
+        "signature": "1978992206803f5761e99e893d93b25abc818c5fe619674fdf2ae02b29f641ba",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/inspector.d.ts": {
+        "version": "05fbe81f09fc455a2c343d2458d2b3c600c90b92b22926be765ee79326be9466",
+        "signature": "05fbe81f09fc455a2c343d2458d2b3c600c90b92b22926be765ee79326be9466",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/module.d.ts": {
+        "version": "8e7d6dae9e19bbe47600dcfd4418db85b30ae7351474ea0aad5e628f9845d340",
+        "signature": "8e7d6dae9e19bbe47600dcfd4418db85b30ae7351474ea0aad5e628f9845d340",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/net.d.ts": {
+        "version": "f20ea392f7f27feb7a90e5a24319a4e365b07bf83c39a547711fe7ff9df68657",
+        "signature": "f20ea392f7f27feb7a90e5a24319a4e365b07bf83c39a547711fe7ff9df68657",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/os.d.ts": {
+        "version": "32542c4660ecda892a333a533feedba31738ee538ef6a78eb73af647137bc3fc",
+        "signature": "32542c4660ecda892a333a533feedba31738ee538ef6a78eb73af647137bc3fc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/path.d.ts": {
+        "version": "0ecacea5047d1a7d350e7049dbd22f26435be5e8736a81a56afec5b3264db1ca",
+        "signature": "0ecacea5047d1a7d350e7049dbd22f26435be5e8736a81a56afec5b3264db1ca",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/perf_hooks.d.ts": {
+        "version": "ffcb4ebde21f83370ed402583888b28651d2eb7f05bfec9482eb46d82adedd7f",
+        "signature": "ffcb4ebde21f83370ed402583888b28651d2eb7f05bfec9482eb46d82adedd7f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/process.d.ts": {
+        "version": "06c004006016a51c4d1855527a523562c329dc44c473931c65f10373281f730e",
+        "signature": "06c004006016a51c4d1855527a523562c329dc44c473931c65f10373281f730e",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/punycode.d.ts": {
+        "version": "a7b43c69f9602d198825e403ee34e5d64f83c48b391b2897e8c0e6f72bca35f8",
+        "signature": "a7b43c69f9602d198825e403ee34e5d64f83c48b391b2897e8c0e6f72bca35f8",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/querystring.d.ts": {
+        "version": "f4a3fc4efc6944e7b7bd4ccfa45e0df68b6359808e6cf9d061f04fd964a7b2d3",
+        "signature": "f4a3fc4efc6944e7b7bd4ccfa45e0df68b6359808e6cf9d061f04fd964a7b2d3",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/readline.d.ts": {
+        "version": "73cad675aead7a2c05cf934e7e700c61d84b2037ac1d576c3f751199b25331da",
+        "signature": "73cad675aead7a2c05cf934e7e700c61d84b2037ac1d576c3f751199b25331da",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/repl.d.ts": {
+        "version": "8c3137ba3583ec18484429ec1c8eff89efdc42730542f157b38b102fdccc0c71",
+        "signature": "8c3137ba3583ec18484429ec1c8eff89efdc42730542f157b38b102fdccc0c71",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/stream.d.ts": {
+        "version": "d84300d886b45a198c346158e4ff7ae361cc7bc1c3deab44afb3db7de56b5d25",
+        "signature": "d84300d886b45a198c346158e4ff7ae361cc7bc1c3deab44afb3db7de56b5d25",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/string_decoder.d.ts": {
+        "version": "94ca7beec4e274d32362b54e0133152f7b4be9487db7b005070c03880b6363aa",
+        "signature": "94ca7beec4e274d32362b54e0133152f7b4be9487db7b005070c03880b6363aa",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/timers.d.ts": {
+        "version": "2d713cbcbd5bcc38d91546eaeea7bb1c8686dc4a2995a28556d957b1b9de11d9",
+        "signature": "2d713cbcbd5bcc38d91546eaeea7bb1c8686dc4a2995a28556d957b1b9de11d9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/tls.d.ts": {
+        "version": "bbf21f210782db4193359010a4710786add43e3b50aa42fc0d371f45b4e4d8d3",
+        "signature": "bbf21f210782db4193359010a4710786add43e3b50aa42fc0d371f45b4e4d8d3",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/trace_events.d.ts": {
+        "version": "0b7733d83619ac4e3963e2a9f7c75dc1e9af6850cb2354c9554977813092c10a",
+        "signature": "0b7733d83619ac4e3963e2a9f7c75dc1e9af6850cb2354c9554977813092c10a",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/tty.d.ts": {
+        "version": "3ce933f0c3955f67f67eb7d6b5c83c2c54a18472c1d6f2bb651e51dd40c84837",
+        "signature": "3ce933f0c3955f67f67eb7d6b5c83c2c54a18472c1d6f2bb651e51dd40c84837",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/url.d.ts": {
+        "version": "631e96db896d645f7132c488ad34a16d71fd2be9f44696f8c98289ee1c8cbfa9",
+        "signature": "631e96db896d645f7132c488ad34a16d71fd2be9f44696f8c98289ee1c8cbfa9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/util.d.ts": {
+        "version": "2c77230d381cba81eb6f87cda2fbfff6c0427c6546c2e2590110effff37c58f7",
+        "signature": "2c77230d381cba81eb6f87cda2fbfff6c0427c6546c2e2590110effff37c58f7",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/v8.d.ts": {
+        "version": "da86ee9a2f09a4583db1d5e37815894967e1f694ad9f3c25e84e0e4d40411e14",
+        "signature": "da86ee9a2f09a4583db1d5e37815894967e1f694ad9f3c25e84e0e4d40411e14",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/vm.d.ts": {
+        "version": "66679e8ffbf1fddef1796c60757e54e6e6551dd9823f75ef2f80176473bdaaff",
+        "signature": "66679e8ffbf1fddef1796c60757e54e6e6551dd9823f75ef2f80176473bdaaff",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/worker_threads.d.ts": {
+        "version": "ddc086b1adac44e2fccf55422da1e90fa970e659d77f99712422a421564b4877",
+        "signature": "ddc086b1adac44e2fccf55422da1e90fa970e659d77f99712422a421564b4877",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/zlib.d.ts": {
+        "version": "515ef1d99036ff0dafa5bf738e02222edea94e0d97a0aa0ff277ac5e96b57977",
+        "signature": "515ef1d99036ff0dafa5bf738e02222edea94e0d97a0aa0ff277ac5e96b57977",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/globals.global.d.ts": {
+        "version": "2708349d5a11a5c2e5f3a0765259ebe7ee00cdcc8161cb9990cb4910328442a1",
+        "signature": "2708349d5a11a5c2e5f3a0765259ebe7ee00cdcc8161cb9990cb4910328442a1",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/node/wasi.d.ts": {
+        "version": "780058f4a804c8bdcdd2f60e7af64b2bc57d149c1586ee3db732a84d659a50bf",
+        "signature": "780058f4a804c8bdcdd2f60e7af64b2bc57d149c1586ee3db732a84d659a50bf",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/ts3.6/base.d.ts": {
+        "version": "ae68a04912ee5a0f589276f9ec60b095f8c40d48128a4575b3fdd7d93806931c",
+        "signature": "ae68a04912ee5a0f589276f9ec60b095f8c40d48128a4575b3fdd7d93806931c",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/assert.d.ts": {
+        "version": "19d580a3b42ad5caeaee266ae958260e23f2df0549ee201c886c8bd7a4f01d4e",
+        "signature": "19d580a3b42ad5caeaee266ae958260e23f2df0549ee201c886c8bd7a4f01d4e",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/base.d.ts": {
+        "version": "e61a21e9418f279bc480394a94d1581b2dee73747adcbdef999b6737e34d721b",
+        "signature": "e61a21e9418f279bc480394a94d1581b2dee73747adcbdef999b6737e34d721b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node/index.d.ts": {
+        "version": "9c4c395e927045b324877acdc4bfb95f128f36bc9f073266a2f0342495075a4f",
+        "signature": "9c4c395e927045b324877acdc4bfb95f128f36bc9f073266a2f0342495075a4f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/source-map/source-map.d.ts": {
+        "version": "2887592574fcdfd087647c539dcb0fbe5af2521270dad4a37f9d17c16190d579",
+        "signature": "2887592574fcdfd087647c539dcb0fbe5af2521270dad4a37f9d17c16190d579",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/clean-css/index.d.ts": {
+        "version": "3f2a61d846a4087220683e8223cad731b1db37fa7083f0fa8c0449663b87cdfb",
+        "signature": "3f2a61d846a4087220683e8223cad731b1db37fa7083f0fa8c0449663b87cdfb",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/color-name/index.d.ts": {
+        "version": "f0cb4b3ab88193e3e51e9e2622e4c375955003f1f81239d72c5b7a95415dad3e",
+        "signature": "f0cb4b3ab88193e3e51e9e2622e4c375955003f1f81239d72c5b7a95415dad3e",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/dagre/index.d.ts": {
+        "version": "2649556bfc289b18570f9ef39666749306a5f54c9a2e13f43120fb29ab2f1f3b",
+        "signature": "2649556bfc289b18570f9ef39666749306a5f54c9a2e13f43120fb29ab2f1f3b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/eslint/helpers.d.ts": {
+        "version": "f345b0888d003fd69cb32bad3a0aa04c615ccafc572019e4bd86a52bd5e49e46",
+        "signature": "f345b0888d003fd69cb32bad3a0aa04c615ccafc572019e4bd86a52bd5e49e46",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/json-schema/index.d.ts": {
+        "version": "3a1e165b22a1cb8df82c44c9a09502fd2b33f160cd277de2cd3a055d8e5c6b27",
+        "signature": "3a1e165b22a1cb8df82c44c9a09502fd2b33f160cd277de2cd3a055d8e5c6b27",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/estree/index.d.ts": {
+        "version": "745a853d60bf782583a58584f59e202cae5c7a898b0c92696442602a3ef17a87",
+        "signature": "745a853d60bf782583a58584f59e202cae5c7a898b0c92696442602a3ef17a87",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/eslint/index.d.ts": {
+        "version": "ffa048767a32a0f6354e611b15d8b53d882da1a9a35455c35c3f6811f2416d17",
+        "signature": "ffa048767a32a0f6354e611b15d8b53d882da1a9a35455c35c3f6811f2416d17",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/eslint-scope/index.d.ts": {
+        "version": "274bda283ef15f4205603ca9967313fc013aa77ae89f2cbeab5fbd51439e96ed",
+        "signature": "274bda283ef15f4205603ca9967313fc013aa77ae89f2cbeab5fbd51439e96ed",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/minimatch/index.d.ts": {
+        "version": "1d1e6bd176eee5970968423d7e215bfd66828b6db8d54d17afec05a831322633",
+        "signature": "1d1e6bd176eee5970968423d7e215bfd66828b6db8d54d17afec05a831322633",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/glob/index.d.ts": {
+        "version": "393137c76bd922ba70a2f8bf1ade4f59a16171a02fb25918c168d48875b0cfb0",
+        "signature": "393137c76bd922ba70a2f8bf1ade4f59a16171a02fb25918c168d48875b0cfb0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/glob-base/index.d.ts": {
+        "version": "d1ae472dde31ac39e68d52e1e21dcccba3989d146b7b8472f03525d0caad1775",
+        "signature": "d1ae472dde31ac39e68d52e1e21dcccba3989d146b7b8472f03525d0caad1775",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/graceful-fs/index.d.ts": {
+        "version": "2c7dca525f4e2e5f2b357dacb58ab6c8777995e6d505ef652bcbbf9789ac558f",
+        "signature": "2c7dca525f4e2e5f2b357dacb58ab6c8777995e6d505ef652bcbbf9789ac558f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/unist/index.d.ts": {
+        "version": "1320ee42b30487cceb6da9f230354fc34826111f76bf12f0ad76c717c12625b0",
+        "signature": "1320ee42b30487cceb6da9f230354fc34826111f76bf12f0ad76c717c12625b0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/hast/index.d.ts": {
+        "version": "b6e83cdeca61289e5ffd770e55ed035babdffadd87d1ffa42b03e9fe8411333f",
+        "signature": "b6e83cdeca61289e5ffd770e55ed035babdffadd87d1ffa42b03e9fe8411333f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/DOMUtils.d.ts": {
+        "version": "271cde49dfd9b398ccc91bb3aaa43854cf76f4d14e10fed91cbac649aa6cbc63",
+        "signature": "271cde49dfd9b398ccc91bb3aaa43854cf76f4d14e10fed91cbac649aa6cbc63",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/history/createBrowserHistory.d.ts": {
+        "version": "c6f2572e21f626260d2e4a65e4e1e42b9b273b6f43b5c3bc115c2926417d3eca",
+        "signature": "c6f2572e21f626260d2e4a65e4e1e42b9b273b6f43b5c3bc115c2926417d3eca",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/createHashHistory.d.ts": {
+        "version": "374ab77e05e0bf5a52acad6d65121d4bd31068108f23d70186dba5fcd7d6a1a3",
+        "signature": "374ab77e05e0bf5a52acad6d65121d4bd31068108f23d70186dba5fcd7d6a1a3",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/createMemoryHistory.d.ts": {
+        "version": "a4ecd4bb653aa71093375845fba6250ca0f3c633d0e933fc9bf4b301834eab27",
+        "signature": "a4ecd4bb653aa71093375845fba6250ca0f3c633d0e933fc9bf4b301834eab27",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/LocationUtils.d.ts": {
+        "version": "25d91fb9ed77a828cc6c7a863236fb712dafcd52f816eec481bd0c1f589f4404",
+        "signature": "25d91fb9ed77a828cc6c7a863236fb712dafcd52f816eec481bd0c1f589f4404",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/PathUtils.d.ts": {
+        "version": "4cd14cea22eed1bfb0dc76183e56989f897ac5b14c0e2a819e5162eafdcfe243",
+        "signature": "4cd14cea22eed1bfb0dc76183e56989f897ac5b14c0e2a819e5162eafdcfe243",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/history/index.d.ts": {
+        "version": "cc53cba64efb30576f2a36f1d7107e4453e84cbd0f371d49cd1dfd208e11233b",
+        "signature": "cc53cba64efb30576f2a36f1d7107e4453e84cbd0f371d49cd1dfd208e11233b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/uglify-js/index.d.ts": {
+        "version": "dbef1822091af2c0ee24d2be8222502dc1160473ea0b4709ba5f3856cec93537",
+        "signature": "dbef1822091af2c0ee24d2be8222502dc1160473ea0b4709ba5f3856cec93537",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/relateurl/index.d.ts": {
+        "version": "a523644fe1d30f36465118be107642c78c36afe0d885f93eae399b3c44dc8fe9",
+        "signature": "a523644fe1d30f36465118be107642c78c36afe0d885f93eae399b3c44dc8fe9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/html-minifier/index.d.ts": {
+        "version": "e966621f305cecf5ed6460197ff1652208257b5ca7da402a4285cc57589f6f36",
+        "signature": "e966621f305cecf5ed6460197ff1652208257b5ca7da402a4285cc57589f6f36",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/html-minifier-terser/index.d.ts": {
+        "version": "7505ea08af82f5d51c975a04d16fe0fc0bd34f3e22958acf2bc06959c53c64cc",
+        "signature": "7505ea08af82f5d51c975a04d16fe0fc0bd34f3e22958acf2bc06959c53c64cc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts": {
+        "version": "67f129ed8b372622ff36b8b10e39d03e09e363a5ff7821105f92f085b8d1ccba",
+        "signature": "67f129ed8b372622ff36b8b10e39d03e09e363a5ff7821105f92f085b8d1ccba",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts": {
+        "version": "62a05210201c793349ec28254f06a01814c5b4f5591f6d1921941286db78ea2a",
+        "signature": "62a05210201c793349ec28254f06a01814c5b4f5591f6d1921941286db78ea2a",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts": {
+        "version": "327f42ab31ff4539ba868d0374f8825af328b104b5f78d26b2e3ce9cc17b43a0",
+        "signature": "327f42ab31ff4539ba868d0374f8825af328b104b5f78d26b2e3ce9cc17b43a0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/webpack/node_modules/tapable/tapable.d.ts": {
+        "version": "b395ec0779c66de885f97974534e95ee2c8bbf9acaf5857a6782ddc32972b6d8",
+        "signature": "b395ec0779c66de885f97974534e95ee2c8bbf9acaf5857a6782ddc32972b6d8",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/webpack/types.d.ts": {
+        "version": "524bf354f7ce94fae4e54dd576d747ee5dc470fcc1cc07afe14c6576a7dbbb53",
+        "signature": "524bf354f7ce94fae4e54dd576d747ee5dc470fcc1cc07afe14c6576a7dbbb53",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/tapable/index.d.ts": {
+        "version": "d558a0fe921ebcc88d3212c2c42108abf9f0d694d67ebdeba37d7728c044f579",
+        "signature": "d558a0fe921ebcc88d3212c2c42108abf9f0d694d67ebdeba37d7728c044f579",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/html-webpack-plugin/index.d.ts": {
+        "version": "38f98428b07519a2aabe45d3ec405ee02c0c5957cf73ea855b42d889a1891d65",
+        "signature": "38f98428b07519a2aabe45d3ec405ee02c0c5957cf73ea855b42d889a1891d65",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/is-function/index.d.ts": {
+        "version": "11ef35fa1e8aef8229ce6b62ac1a6a0761d1d4bb4de1538bce6d10762a919139",
+        "signature": "11ef35fa1e8aef8229ce6b62ac1a6a0761d1d4bb4de1538bce6d10762a919139",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/istanbul-lib-coverage/index.d.ts": {
+        "version": "de18acda71730bac52f4b256ce7511bb56cc21f6f114c59c46782eff2f632857",
+        "signature": "de18acda71730bac52f4b256ce7511bb56cc21f6f114c59c46782eff2f632857",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/istanbul-lib-report/index.d.ts": {
+        "version": "7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee",
+        "signature": "7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/istanbul-reports/index.d.ts": {
+        "version": "905c3e8f7ddaa6c391b60c05b2f4c3931d7127ad717a080359db3df510b7bdab",
+        "signature": "905c3e8f7ddaa6c391b60c05b2f4c3931d7127ad717a080359db3df510b7bdab",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-diff/build/cleanupSemantic.d.ts": {
+        "version": "d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322",
+        "signature": "d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-diff/build/types.d.ts": {
+        "version": "69da61a7b5093dac77fa3bec8be95dcf9a74c95a0e9161edb98bb24e30e439d2",
+        "signature": "69da61a7b5093dac77fa3bec8be95dcf9a74c95a0e9161edb98bb24e30e439d2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-diff/build/diffLines.d.ts": {
+        "version": "561eca7a381b96d6ccac6e4061e6d2ae53f5bc44203f3fd9f5b26864c32ae6e9",
+        "signature": "561eca7a381b96d6ccac6e4061e6d2ae53f5bc44203f3fd9f5b26864c32ae6e9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-diff/build/printDiffs.d.ts": {
+        "version": "62ea38627e3ebab429f7616812a9394d327c2bc271003dfba985de9b4137369f",
+        "signature": "62ea38627e3ebab429f7616812a9394d327c2bc271003dfba985de9b4137369f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-diff/build/index.d.ts": {
+        "version": "b4439890c168d646357928431100daac5cbdee1d345a34e6bf6eca9f3abe22bc",
+        "signature": "b4439890c168d646357928431100daac5cbdee1d345a34e6bf6eca9f3abe22bc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/pretty-format/build/types.d.ts": {
+        "version": "5d72971a459517c44c1379dab9ed248e87a61ba0a1e0f25c9d67e1e640cd9a09",
+        "signature": "5d72971a459517c44c1379dab9ed248e87a61ba0a1e0f25c9d67e1e640cd9a09",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/pretty-format/build/index.d.ts": {
+        "version": "02d734976af36f4273d930bea88b3e62adf6b078cf120c1c63d49aa8d8427c5c",
+        "signature": "02d734976af36f4273d930bea88b3e62adf6b078cf120c1c63d49aa8d8427c5c",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/jest/index.d.ts": {
+        "version": "71f30fba971582dc744373cbc8b06c1eb64dc24a6ccbc9b457f94fb68c67cb4e",
+        "signature": "71f30fba971582dc744373cbc8b06c1eb64dc24a6ccbc9b457f94fb68c67cb4e",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@jest/types/build/Global.d.ts": {
+        "version": "9fbfee041c92b843920dbdea5377e4898720323bf8f721b8c059b7dda8ea23b2",
+        "signature": "9fbfee041c92b843920dbdea5377e4898720323bf8f721b8c059b7dda8ea23b2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/types/build/Circus.d.ts": {
+        "version": "d6cdc8d2ec9611272c9c36777990800e4acf908883af1adb052de3ca6660a076",
+        "signature": "d6cdc8d2ec9611272c9c36777990800e4acf908883af1adb052de3ca6660a076",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/chalk/index.d.ts": {
+        "version": "0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2",
+        "signature": "0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/yargs-parser/index.d.ts": {
+        "version": "fdfbe321c556c39a2ecf791d537b999591d0849e971dd938d88f460fea0186f6",
+        "signature": "fdfbe321c556c39a2ecf791d537b999591d0849e971dd938d88f460fea0186f6",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/yargs/index.d.ts": {
+        "version": "f25155b269deef8cad52e0c5eb057188c337aa544b3964a9e30621fd03b18a2c",
+        "signature": "f25155b269deef8cad52e0c5eb057188c337aa544b3964a9e30621fd03b18a2c",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/types/build/Config.d.ts": {
+        "version": "6e5bbd05958225631788d68c613088aa88313c62840c36f96ead45564a651acb",
+        "signature": "6e5bbd05958225631788d68c613088aa88313c62840c36f96ead45564a651acb",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/types/build/TestResult.d.ts": {
+        "version": "ef62b4aa372f77458d84c26614b44129f929e263c81b5cd1034f5828a5530412",
+        "signature": "ef62b4aa372f77458d84c26614b44129f929e263c81b5cd1034f5828a5530412",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/types/build/Transform.d.ts": {
+        "version": "4be75f5a584748db901246e3419b2e9348e27bae34fd13dd02be0e999fd5f83b",
+        "signature": "4be75f5a584748db901246e3419b2e9348e27bae34fd13dd02be0e999fd5f83b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/types/build/index.d.ts": {
+        "version": "0b0feb9837c561c0a67b61024328045bb16bac6e4b10f7b0b217d3b8b43b0b12",
+        "signature": "0b0feb9837c561c0a67b61024328045bb16bac6e4b10f7b0b217d3b8b43b0b12",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/stack-utils/index.d.ts": {
+        "version": "c6c4fea9acc55d5e38ff2b70d57ab0b5cdbd08f8bc5d7a226e322cea128c5b57",
+        "signature": "c6c4fea9acc55d5e38ff2b70d57ab0b5cdbd08f8bc5d7a226e322cea128c5b57",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-message-util/build/types.d.ts": {
+        "version": "d1c6c35d174dbe63a76ed8ac6621cca8dbe8794961a2121feb5f0239747d1b7e",
+        "signature": "d1c6c35d174dbe63a76ed8ac6621cca8dbe8794961a2121feb5f0239747d1b7e",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-message-util/build/index.d.ts": {
+        "version": "051c1bc0efd3690031a97ac49133c9486c22bd07852e75a11ed4b40ceb722569",
+        "signature": "051c1bc0efd3690031a97ac49133c9486c22bd07852e75a11ed4b40ceb722569",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-mock/build/index.d.ts": {
+        "version": "181f84e43a395f0966e79e090961a2933f7d56dbce7b306fba5f2acb7815497d",
+        "signature": "181f84e43a395f0966e79e090961a2933f7d56dbce7b306fba5f2acb7815497d",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts": {
+        "version": "945a3636ba09f12945914d423c4230c54e5a2239ebb65941a43db34af947b28d",
+        "signature": "945a3636ba09f12945914d423c4230c54e5a2239ebb65941a43db34af947b28d",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts": {
+        "version": "870124e4c757c4dda3df97911c4590726cd5eb573bb598ba0a80ec043cd5b12f",
+        "signature": "870124e4c757c4dda3df97911c4590726cd5eb573bb598ba0a80ec043cd5b12f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/fake-timers/build/index.d.ts": {
+        "version": "b63b8dfe391e40354edfb991062b8e8e28ef36a28644a7904f6a38f51a8a2386",
+        "signature": "b63b8dfe391e40354edfb991062b8e8e28ef36a28644a7904f6a38f51a8a2386",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@jest/environment/build/index.d.ts": {
+        "version": "46428bc2a2314658756e8fe2227029739ea1e257e4c736d2e27136de940aa608",
+        "signature": "46428bc2a2314658756e8fe2227029739ea1e257e4c736d2e27136de940aa608",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/jest-environment-node/build/index.d.ts": {
+        "version": "1d2ffe7510cbbaa1411715e20164339466738d2d96f15cc611f1562185f1ddd0",
+        "signature": "1d2ffe7510cbbaa1411715e20164339466738d2d96f15cc611f1562185f1ddd0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/Errors.d.ts": {
+        "version": "24074eb89fe21d5d7d8a5ed86e6c56939cf32d533f68bae213b0cdac74e03d3b",
+        "signature": "24074eb89fe21d5d7d8a5ed86e6c56939cf32d533f68bae213b0cdac74e03d3b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/DeviceDescriptors.d.ts": {
+        "version": "c9c23a4476436315c1a675f807128457b5aeadc8d3d75340e1f4b93af73551ce",
+        "signature": "c9c23a4476436315c1a675f807128457b5aeadc8d3d75340e1f4b93af73551ce",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts": {
+        "version": "c65b3f931726d33c700346b1c6aad062afee60691b450cf1d2ca208fc92c11c9",
+        "signature": "c65b3f931726d33c700346b1c6aad062afee60691b450cf1d2ca208fc92c11c9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/jest-environment-puppeteer/index.d.ts": {
+        "version": "a234b319df9a4fba05db7ad0bf41ed89d27a43c7acab0b6e637d25374625f449",
+        "signature": "a234b319df9a4fba05db7ad0bf41ed89d27a43c7acab0b6e637d25374625f449",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/global.d.ts": {
+        "version": "ecf78e637f710f340ec08d5d92b3f31b134a46a4fcf2e758690d8c46ce62cba6",
+        "signature": "ecf78e637f710f340ec08d5d92b3f31b134a46a4fcf2e758690d8c46ce62cba6",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/markdown-to-jsx/index.d.ts": {
+        "version": "b6e9a00f0a0d3830ef295fec7d1acebd50a8290e5b28fd00900c577e5e15d638",
+        "signature": "b6e9a00f0a0d3830ef295fec7d1acebd50a8290e5b28fd00900c577e5e15d638",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/micromatch/index.d.ts": {
+        "version": "9c36d6df17ca69a65a2a654d9bbd86d74c6d6055e566429cd0a1de82827680eb",
+        "signature": "9c36d6df17ca69a65a2a654d9bbd86d74c6d6055e566429cd0a1de82827680eb",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/minimist/index.d.ts": {
+        "version": "3602dfff3072caea42f23a9b63fb34a7b0c95a62b93ce2add5fe6b159447845e",
+        "signature": "3602dfff3072caea42f23a9b63fb34a7b0c95a62b93ce2add5fe6b159447845e",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/form-data/index.d.ts": {
+        "version": "cbb7029e32a6a72178cda8baa9129b1ee6d1d779a35e46c780e38b4909d42a89",
+        "signature": "cbb7029e32a6a72178cda8baa9129b1ee6d1d779a35e46c780e38b4909d42a89",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node-fetch/externals.d.ts": {
+        "version": "972f1e91dab93b182624a17eeed02f683b8cb3fefbda7b689cc84570029d5f73",
+        "signature": "972f1e91dab93b182624a17eeed02f683b8cb3fefbda7b689cc84570029d5f73",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/node-fetch/index.d.ts": {
+        "version": "f51382950fa81e3a54e9fd9f343fe583cfbb221f15a51936e12411699347effe",
+        "signature": "f51382950fa81e3a54e9fd9f343fe583cfbb221f15a51936e12411699347effe",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/normalize-package-data/index.d.ts": {
+        "version": "c9ad058b2cc9ce6dc2ed92960d6d009e8c04bef46d3f5312283debca6869f613",
+        "signature": "c9ad058b2cc9ce6dc2ed92960d6d009e8c04bef46d3f5312283debca6869f613",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/npmlog/index.d.ts": {
+        "version": "0d65b782b1a9b5891802ef2022c78481b19dfe133ba8d9f7596fe1320314342d",
+        "signature": "0d65b782b1a9b5891802ef2022c78481b19dfe133ba8d9f7596fe1320314342d",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/overlayscrollbars/index.d.ts": {
+        "version": "1502b874bbaafdb762b3907945740f787058a6aabff5e27377f9b45e4bb08ff3",
+        "signature": "1502b874bbaafdb762b3907945740f787058a6aabff5e27377f9b45e4bb08ff3",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/parse-json/index.d.ts": {
+        "version": "2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b",
+        "signature": "2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/prettier/index.d.ts": {
+        "version": "38433e50f876a09a45b665837a2954003ae14606270a157491f2bb52edf10382",
+        "signature": "38433e50f876a09a45b665837a2954003ae14606270a157491f2bb52edf10382",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/promise/index.d.ts": {
+        "version": "8f38833c2d1cbf13cd897ede8c89369115644f56096f17bb92628c02c6730701",
+        "signature": "8f38833c2d1cbf13cd897ede8c89369115644f56096f17bb92628c02c6730701",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/puppeteer/index.d.ts": {
+        "version": "66858b90c4b60a4b4259e8b09d914c37a0570b156789d949634a6147170e1e88",
+        "signature": "66858b90c4b60a4b4259e8b09d914c37a0570b156789d949634a6147170e1e88",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/qs/index.d.ts": {
+        "version": "c236451df6139a965bb9b8fba15a43a8bebf4400ca589998e2bdc5e1291fa0f9",
+        "signature": "c236451df6139a965bb9b8fba15a43a8bebf4400ca589998e2bdc5e1291fa0f9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/reach__router/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/reach__router/index.d.ts": {
+        "version": "50ae7132d927a01f4c32f5bc1ea392d969f530fcbc37c03ff883a7cfe0dfc776",
+        "signature": "50ae7132d927a01f4c32f5bc1ea392d969f530fcbc37c03ff883a7cfe0dfc776",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/reactcss/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/reactcss/index.d.ts": {
+        "version": "16d120299a27bbd862a2e2e6befdfa8d84c5723d9d58a3490d2ec53d0fc5ed2c",
+        "signature": "16d120299a27bbd862a2e2e6befdfa8d84c5723d9d58a3490d2ec53d0fc5ed2c",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts": {
+        "version": "00b6f45000229b4e3543828539c45c22464c0a68a31f61858507322f74b623f0",
+        "signature": "00b6f45000229b4e3543828539c45c22464c0a68a31f61858507322f74b623f0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/block/Block.d.ts": {
+        "version": "f985765aba898ee871d1218cff0e094c34eaa62282dad92051b6f2835ab937de",
+        "signature": "f985765aba898ee871d1218cff0e094c34eaa62282dad92051b6f2835ab937de",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts": {
+        "version": "64847b419bcd609d9e820df57e4401c6e2f9fbda1f375fc79f6895db0f507939",
+        "signature": "64847b419bcd609d9e820df57e4401c6e2f9fbda1f375fc79f6895db0f507939",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts": {
+        "version": "146e3a9b7f9e946b6a37f169c73161572118b7f9c79717d3568f9ab156fbe7f8",
+        "signature": "146e3a9b7f9e946b6a37f169c73161572118b7f9c79717d3568f9ab156fbe7f8",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts": {
+        "version": "4dc85e28c2667fe4bda7bb00202497b6e030475afe212e757e8f3b4d97f081ed",
+        "signature": "4dc85e28c2667fe4bda7bb00202497b6e030475afe212e757e8f3b4d97f081ed",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts": {
+        "version": "00c96c800c4afcf22e3ed424b94dfc5c49e21e5d5e9d58991f151d5e405131d1",
+        "signature": "00c96c800c4afcf22e3ed424b94dfc5c49e21e5d5e9d58991f151d5e405131d1",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/github/Github.d.ts": {
+        "version": "d4b3a6a76a85846092c15e80b9061b66087c85ddff45d9d8523140c3ee0735a0",
+        "signature": "d4b3a6a76a85846092c15e80b9061b66087c85ddff45d9d8523140c3ee0735a0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts": {
+        "version": "d13627e1139ba60a60fc432ef2d6da1429f5bd94b2afe9729c4eecac899347b5",
+        "signature": "d13627e1139ba60a60fc432ef2d6da1429f5bd94b2afe9729c4eecac899347b5",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/material/Material.d.ts": {
+        "version": "606e865ef6827f7c9d15378662f3870d8b6bc6d3f595ff8031f08698eed2f2d0",
+        "signature": "606e865ef6827f7c9d15378662f3870d8b6bc6d3f595ff8031f08698eed2f2d0",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts": {
+        "version": "cbb71ec4fd9cf2044f33268b380bd542b175763577afdfe671d16ffc78868edc",
+        "signature": "cbb71ec4fd9cf2044f33268b380bd542b175763577afdfe671d16ffc78868edc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts": {
+        "version": "e6cad696acf6a89867015c31adb6cb7261c210400e691a5705ccb0adf0ba8eb6",
+        "signature": "e6cad696acf6a89867015c31adb6cb7261c210400e691a5705ccb0adf0ba8eb6",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts": {
+        "version": "a25cb49718b0ec7f6f49c8c40d194fd49a9f4d894df3a00b615e3b6a9e4ab097",
+        "signature": "a25cb49718b0ec7f6f49c8c40d194fd49a9f4d894df3a00b615e3b6a9e4ab097",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts": {
+        "version": "8aa4b9f3b463c78aaa89cefbff1cd8ce3a37b2236c10dd0833331e104ce1da17",
+        "signature": "8aa4b9f3b463c78aaa89cefbff1cd8ce3a37b2236c10dd0833331e104ce1da17",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts": {
+        "version": "96e9c257ca435ebd5f5ca20a8434cd760129d222f7bc9b9718f93529532e0bf7",
+        "signature": "96e9c257ca435ebd5f5ca20a8434cd760129d222f7bc9b9718f93529532e0bf7",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts": {
+        "version": "52cd4fa238b709532bf9eef3ef20c8ce40873f379b65945b7559a241e7ead40b",
+        "signature": "52cd4fa238b709532bf9eef3ef20c8ce40873f379b65945b7559a241e7ead40b",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-color/index.d.ts": {
+        "version": "c7b8121e93804228df43df4f24a75148d11f29945db8b163c38aff8dbb89d5a3",
+        "signature": "c7b8121e93804228df43df4f24a75148d11f29945db8b163c38aff8dbb89d5a3",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/react-syntax-highlighter/index.d.ts": {
+        "version": "83800fe6ed3ecb114e0ddb6f82f9ac621e2847fa6f77f9f04a56c0c51d13a162",
+        "signature": "83800fe6ed3ecb114e0ddb6f82f9ac621e2847fa6f77f9f04a56c0c51d13a162",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/index.d.ts": {
+        "version": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "signature": "0290ce481d9430774f1d41e757d087e9324b497e1ee0a9e908cf57a9f8bc6e0d",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/react-textarea-autosize/index.d.ts": {
+        "version": "654bd884851f74a93fc2165c9d3d7ec9a6346c5c4ca8a00caa49868c72ad2363",
+        "signature": "654bd884851f74a93fc2165c9d3d7ec9a6346c5c4ca8a00caa49868c72ad2363",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/scheduler/index.d.ts": {
+        "version": "3169db033165677f1d414baf0c82ba27801089ca1b66d97af464512a47df31b5",
+        "signature": "3169db033165677f1d414baf0c82ba27801089ca1b66d97af464512a47df31b5",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/source-list-map/index.d.ts": {
+        "version": "67fc055eb86a0632e2e072838f889ffe1754083cb13c8c80a06a7d895d877aae",
+        "signature": "67fc055eb86a0632e2e072838f889ffe1754083cb13c8c80a06a7d895d877aae",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/tinycolor2/index.d.ts": {
+        "version": "27bd05635cf2be7e3f75f375de542eab00cbb24c6b9961d37a0bf99fd344d1fc",
+        "signature": "27bd05635cf2be7e3f75f375de542eab00cbb24c6b9961d37a0bf99fd344d1fc",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/anymatch/index.d.ts": {
+        "version": "4fb0b7d532aa6fb850b6cd2f1ee4f00802d877b5c66a51903bc1fb0624126349",
+        "signature": "4fb0b7d532aa6fb850b6cd2f1ee4f00802d877b5c66a51903bc1fb0624126349",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/webpack-sources/node_modules/source-map/source-map.d.ts": {
+        "version": "b90c59ac4682368a01c83881b814738eb151de8a58f52eb7edadea2bcffb11b9",
+        "signature": "b90c59ac4682368a01c83881b814738eb151de8a58f52eb7edadea2bcffb11b9",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/webpack-sources/index.d.ts": {
+        "version": "7602c4f661609b5595f558ff7292e00d85ee854d253ad1a2912e8c65d09ace19",
+        "signature": "7602c4f661609b5595f558ff7292e00d85ee854d253ad1a2912e8c65d09ace19",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/webpack/index.d.ts": {
+        "version": "f7391eb1cb10ab561aa3ce7c610ea97aa4ab33fc709ee5e2adde541defde882f",
+        "signature": "f7391eb1cb10ab561aa3ce7c610ea97aa4ab33fc709ee5e2adde541defde882f",
+        "affectsGlobalScope": false
+      },
+      "../../node_modules/@types/webpack-env/index.d.ts": {
+        "version": "5b3e6ce357a7a1a07c858432a3d2002750058725874db09a03a0a9e899d861f5",
+        "signature": "5b3e6ce357a7a1a07c858432a3d2002750058725874db09a03a0a9e899d861f5",
+        "affectsGlobalScope": true
+      },
+      "../../node_modules/@types/yauzl/index.d.ts": {
+        "version": "3845d3b64286c12c60d39fc90ac1cc5e47cbc951530658d2567d578b2faa1f26",
+        "signature": "3845d3b64286c12c60d39fc90ac1cc5e47cbc951530658d2567d578b2faa1f26",
+        "affectsGlobalScope": false
+      }
+    },
+    "options": {
+      "suppressExcessPropertyErrors": true,
+      "declaration": true,
+      "composite": true,
+      "incremental": true,
+      "strictNullChecks": false,
+      "sourceMap": true,
+      "skipLibCheck": true,
+      "jsx": 2,
+      "target": 2,
+      "module": 1,
+      "strict": false,
+      "lib": [
+        "lib.dom.d.ts",
+        "lib.es2015.d.ts"
+      ],
+      "outDir": "./dist",
+      "rootDir": "./src",
+      "declarationDir": "./dist/@types",
+      "configFilePath": "./tsconfig.json"
+    },
+    "referencedMap": {
+      "../../node_modules/@babel/parser/typings/babel-parser.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/helper.d.ts": [
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts",
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/helper.d.ts",
+        "../../node_modules/@emotion/react/types/jsx-namespace.d.ts",
+        "../../node_modules/@emotion/react/types/theming.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/jsx-namespace.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/theming.d.ts": [
+        "../../node_modules/@emotion/react/types/helper.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/node_modules/@emotion/serialize/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/types/base.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/types/index.d.ts": [
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@emotion/styled/types/base.d.ts"
+      ],
+      "../../node_modules/@jest/environment/build/index.d.ts": [
+        "../../node_modules/@jest/fake-timers/build/index.d.ts",
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/index.d.ts": [
+        "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts",
+        "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts": [
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/jest-message-util/build/index.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts": [
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/jest-message-util/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Circus.d.ts": [
+        "../../node_modules/@jest/types/build/Global.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Config.d.ts": [
+        "../../node_modules/@types/istanbul-reports/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/yargs/index.d.ts",
+        "../../node_modules/chalk/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Global.d.ts": [
+        "../../node_modules/@types/istanbul-lib-coverage/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/index.d.ts": [
+        "../../node_modules/@jest/types/build/Circus.d.ts",
+        "../../node_modules/@jest/types/build/Config.d.ts",
+        "../../node_modules/@jest/types/build/Global.d.ts",
+        "../../node_modules/@jest/types/build/TestResult.d.ts",
+        "../../node_modules/@jest/types/build/Transform.d.ts"
+      ],
+      "../../node_modules/@types/babel__core/index.d.ts": [
+        "../../node_modules/@babel/parser/typings/babel-parser.d.ts",
+        "../../node_modules/@babel/types/lib/index.d.ts",
+        "../../node_modules/@types/babel__generator/index.d.ts",
+        "../../node_modules/@types/babel__template/index.d.ts",
+        "../../node_modules/@types/babel__traverse/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__generator/index.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__template/index.d.ts": [
+        "../../node_modules/@babel/parser/typings/babel-parser.d.ts",
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__traverse/index.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/clean-css/index.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/eslint-scope/index.d.ts": [
+        "../../node_modules/@types/eslint/index.d.ts",
+        "../../node_modules/@types/estree/index.d.ts"
+      ],
+      "../../node_modules/@types/eslint/index.d.ts": [
+        "../../node_modules/@types/eslint/helpers.d.ts",
+        "../../node_modules/@types/estree/index.d.ts",
+        "../../node_modules/@types/json-schema/index.d.ts"
+      ],
+      "../../node_modules/@types/glob/index.d.ts": [
+        "../../node_modules/@types/minimatch/index.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/graceful-fs/index.d.ts": [
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/hast/index.d.ts": [
+        "../../node_modules/@types/unist/index.d.ts"
+      ],
+      "../../node_modules/@types/history/LocationUtils.d.ts": [
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/PathUtils.d.ts": [
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createBrowserHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createHashHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createMemoryHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/index.d.ts": [
+        "../../node_modules/@types/history/LocationUtils.d.ts",
+        "../../node_modules/@types/history/PathUtils.d.ts",
+        "../../node_modules/@types/history/createBrowserHistory.d.ts",
+        "../../node_modules/@types/history/createHashHistory.d.ts",
+        "../../node_modules/@types/history/createMemoryHistory.d.ts"
+      ],
+      "../../node_modules/@types/html-minifier/index.d.ts": [
+        "../../node_modules/@types/clean-css/index.d.ts",
+        "../../node_modules/@types/relateurl/index.d.ts",
+        "../../node_modules/@types/uglify-js/index.d.ts"
+      ],
+      "../../node_modules/@types/html-webpack-plugin/index.d.ts": [
+        "../../node_modules/@types/html-minifier/index.d.ts",
+        "../../node_modules/@types/tapable/index.d.ts",
+        "../../node_modules/webpack/types.d.ts"
+      ],
+      "../../node_modules/@types/istanbul-lib-report/index.d.ts": [
+        "../../node_modules/@types/istanbul-lib-coverage/index.d.ts"
+      ],
+      "../../node_modules/@types/istanbul-reports/index.d.ts": [
+        "../../node_modules/@types/istanbul-lib-report/index.d.ts"
+      ],
+      "../../node_modules/@types/jest-environment-puppeteer/index.d.ts": [
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-environment-node/build/index.d.ts"
+      ],
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts": [
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/DeviceDescriptors.d.ts",
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/Errors.d.ts",
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/jest/index.d.ts": [
+        "../../node_modules/jest-diff/build/index.d.ts",
+        "../../node_modules/pretty-format/build/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/array.d.ts": [
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/collection.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/common.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/date.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/function.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/lang.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/math.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/number.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/object.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/seq.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/string.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/util.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/index.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts"
+      ],
+      "../../node_modules/@types/markdown-to-jsx/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/global.d.ts",
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/micromatch/index.d.ts": [
+        "../../node_modules/@types/braces/index.d.ts"
+      ],
+      "../../node_modules/@types/node-fetch/index.d.ts": [
+        "../../node_modules/@types/node-fetch/externals.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/form-data/index.d.ts"
+      ],
+      "../../node_modules/@types/node/assert.d.ts": [
+        "../../node_modules/@types/node/assert.d.ts"
+      ],
+      "../../node_modules/@types/node/async_hooks.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts"
+      ],
+      "../../node_modules/@types/node/base.d.ts": [
+        "../../node_modules/@types/node/assert.d.ts",
+        "../../node_modules/@types/node/ts3.6/base.d.ts"
+      ],
+      "../../node_modules/@types/node/buffer.d.ts": [
+        "../../node_modules/@types/node/buffer.d.ts"
+      ],
+      "../../node_modules/@types/node/child_process.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/cluster.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/cluster.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts"
+      ],
+      "../../node_modules/@types/node/console.d.ts": [
+        "../../node_modules/@types/node/util.d.ts"
+      ],
+      "../../node_modules/@types/node/constants.d.ts": [
+        "../../node_modules/@types/node/constants.d.ts",
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/os.d.ts"
+      ],
+      "../../node_modules/@types/node/crypto.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/dgram.d.ts": [
+        "../../node_modules/@types/node/dgram.d.ts",
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts"
+      ],
+      "../../node_modules/@types/node/dns.d.ts": [
+        "../../node_modules/@types/node/dns.d.ts"
+      ],
+      "../../node_modules/@types/node/domain.d.ts": [
+        "../../node_modules/@types/node/domain.d.ts",
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/node/events.d.ts": [
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/node/fs.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/fs/promises.d.ts": [
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts"
+      ],
+      "../../node_modules/@types/node/http.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/http2.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/http2.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/https.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/index.d.ts": [
+        "../../node_modules/@types/node/base.d.ts"
+      ],
+      "../../node_modules/@types/node/inspector.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/inspector.d.ts"
+      ],
+      "../../node_modules/@types/node/module.d.ts": [
+        "../../node_modules/@types/node/module.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/net.d.ts": [
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/os.d.ts": [
+        "../../node_modules/@types/node/os.d.ts"
+      ],
+      "../../node_modules/@types/node/path.d.ts": [
+        "../../node_modules/@types/node/path.d.ts"
+      ],
+      "../../node_modules/@types/node/perf_hooks.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts",
+        "../../node_modules/@types/node/perf_hooks.d.ts"
+      ],
+      "../../node_modules/@types/node/process.d.ts": [
+        "../../node_modules/@types/node/tty.d.ts"
+      ],
+      "../../node_modules/@types/node/punycode.d.ts": [
+        "../../node_modules/@types/node/punycode.d.ts"
+      ],
+      "../../node_modules/@types/node/querystring.d.ts": [
+        "../../node_modules/@types/node/querystring.d.ts"
+      ],
+      "../../node_modules/@types/node/readline.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/readline.d.ts"
+      ],
+      "../../node_modules/@types/node/repl.d.ts": [
+        "../../node_modules/@types/node/readline.d.ts",
+        "../../node_modules/@types/node/repl.d.ts",
+        "../../node_modules/@types/node/util.d.ts",
+        "../../node_modules/@types/node/vm.d.ts"
+      ],
+      "../../node_modules/@types/node/stream.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/string_decoder.d.ts": [
+        "../../node_modules/@types/node/string_decoder.d.ts"
+      ],
+      "../../node_modules/@types/node/timers.d.ts": [
+        "../../node_modules/@types/node/timers.d.ts"
+      ],
+      "../../node_modules/@types/node/tls.d.ts": [
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/tls.d.ts"
+      ],
+      "../../node_modules/@types/node/trace_events.d.ts": [
+        "../../node_modules/@types/node/trace_events.d.ts"
+      ],
+      "../../node_modules/@types/node/ts3.6/base.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts",
+        "../../node_modules/@types/node/buffer.d.ts",
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/cluster.d.ts",
+        "../../node_modules/@types/node/console.d.ts",
+        "../../node_modules/@types/node/constants.d.ts",
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/dgram.d.ts",
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/domain.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/globals.d.ts",
+        "../../node_modules/@types/node/globals.global.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/http2.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/inspector.d.ts",
+        "../../node_modules/@types/node/module.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/os.d.ts",
+        "../../node_modules/@types/node/path.d.ts",
+        "../../node_modules/@types/node/perf_hooks.d.ts",
+        "../../node_modules/@types/node/process.d.ts",
+        "../../node_modules/@types/node/punycode.d.ts",
+        "../../node_modules/@types/node/querystring.d.ts",
+        "../../node_modules/@types/node/readline.d.ts",
+        "../../node_modules/@types/node/repl.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/string_decoder.d.ts",
+        "../../node_modules/@types/node/timers.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/trace_events.d.ts",
+        "../../node_modules/@types/node/tty.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/@types/node/util.d.ts",
+        "../../node_modules/@types/node/v8.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/@types/node/wasi.d.ts",
+        "../../node_modules/@types/node/worker_threads.d.ts",
+        "../../node_modules/@types/node/zlib.d.ts"
+      ],
+      "../../node_modules/@types/node/tty.d.ts": [
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/tty.d.ts"
+      ],
+      "../../node_modules/@types/node/url.d.ts": [
+        "../../node_modules/@types/node/querystring.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/util.d.ts": [
+        "../../node_modules/@types/node/util.d.ts"
+      ],
+      "../../node_modules/@types/node/v8.d.ts": [
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/v8.d.ts"
+      ],
+      "../../node_modules/@types/node/vm.d.ts": [
+        "../../node_modules/@types/node/vm.d.ts"
+      ],
+      "../../node_modules/@types/node/wasi.d.ts": [
+        "../../node_modules/@types/node/wasi.d.ts"
+      ],
+      "../../node_modules/@types/node/worker_threads.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/@types/node/worker_threads.d.ts"
+      ],
+      "../../node_modules/@types/node/zlib.d.ts": [
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/zlib.d.ts"
+      ],
+      "../../node_modules/@types/npmlog/index.d.ts": [
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/puppeteer/index.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/reach__router/index.d.ts": [
+        "../../node_modules/@types/history/index.d.ts",
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/reach__router/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/reach__router/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts",
+        "../../node_modules/@types/react-color/lib/components/block/Block.d.ts",
+        "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts",
+        "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts",
+        "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts",
+        "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts",
+        "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts",
+        "../../node_modules/@types/react-color/lib/components/github/Github.d.ts",
+        "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts",
+        "../../node_modules/@types/react-color/lib/components/material/Material.d.ts",
+        "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts",
+        "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts",
+        "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts",
+        "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts",
+        "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/block/Block.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/github/Github.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/material/Material.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-color/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-syntax-highlighter/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-syntax-highlighter/index.d.ts"
+      ],
+      "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-textarea-autosize/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react/global.d.ts",
+        "../../node_modules/@types/scheduler/tracing.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/reactcss/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/reactcss/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/reactcss/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/uglify-js/index.d.ts": [
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/webpack-sources/index.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/source-list-map/index.d.ts",
+        "../../node_modules/@types/webpack-sources/node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/webpack/index.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/tapable/index.d.ts",
+        "../../node_modules/@types/uglify-js/index.d.ts",
+        "../../node_modules/@types/webpack-sources/index.d.ts",
+        "../../node_modules/anymatch/index.d.ts",
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/yargs/index.d.ts": [
+        "../../node_modules/@types/yargs-parser/index.d.ts"
+      ],
+      "../../node_modules/@types/yauzl/index.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/form-data/index.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/diffLines.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/index.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/diffLines.d.ts",
+        "../../node_modules/jest-diff/build/printDiffs.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/printDiffs.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-environment-node/build/index.d.ts": [
+        "../../node_modules/@jest/environment/build/index.d.ts",
+        "../../node_modules/@jest/fake-timers/build/index.d.ts",
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/jest-message-util/build/index.d.ts": [
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/jest-message-util/build/types.d.ts"
+      ],
+      "../../node_modules/jest-message-util/build/types.d.ts": [
+        "../../node_modules/@types/stack-utils/index.d.ts"
+      ],
+      "../../node_modules/jest-mock/build/index.d.ts": [
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/pretty-format/build/index.d.ts": [
+        "../../node_modules/pretty-format/build/types.d.ts"
+      ],
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts": [
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts"
+      ],
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts": [
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts"
+      ],
+      "../../node_modules/webpack/types.d.ts": [
+        "../../node_modules/@types/estree/index.d.ts",
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts",
+        "../../node_modules/webpack/node_modules/tapable/tapable.d.ts"
+      ],
+      "../geometry/dist/@types/BezierCurve.d.ts": [
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts"
+      ],
+      "../geometry/dist/@types/Point.d.ts": [
+        "../geometry/dist/@types/Matrix.d.ts"
+      ],
+      "../geometry/dist/@types/Polygon.d.ts": [
+        "../geometry/dist/@types/Matrix.d.ts",
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Rectangle.d.ts"
+      ],
+      "../geometry/dist/@types/Rectangle.d.ts": [
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts"
+      ],
+      "../geometry/dist/@types/index.d.ts": [
+        "../geometry/dist/@types/BezierCurve.d.ts",
+        "../geometry/dist/@types/Matrix.d.ts",
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts",
+        "../geometry/dist/@types/Rectangle.d.ts"
+      ],
+      "./src/CanvasEngine.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "../geometry/dist/@types/index.d.ts",
+        "./src/actions/DeleteItemsAction.ts",
+        "./src/actions/ZoomCanvasAction.ts",
+        "./src/core-actions/ActionEventBus.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-state/StateMachine.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/core/BaseObserver.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/canvas/CanvasModel.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/actions/DeleteItemsAction.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-actions/Action.ts"
+      ],
+      "./src/actions/ZoomCanvasAction.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-actions/Action.ts"
+      ],
+      "./src/core-actions/Action.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/Toolkit.ts",
+        "./src/core-models/BaseModel.ts"
+      ],
+      "./src/core-actions/ActionEventBus.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-models/BaseModel.ts"
+      ],
+      "./src/core-models/BaseEntity.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/Toolkit.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/BaseObserver.ts"
+      ],
+      "./src/core-models/BaseModel.ts": [
+        "./src/core-models/BaseEntity.ts",
+        "./src/entities/canvas/CanvasModel.ts"
+      ],
+      "./src/core-models/BasePositionModel.ts": [
+        "../geometry/dist/@types/index.d.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/ModelGeometryInterface.ts"
+      ],
+      "./src/core-state/AbstractDisplacementState.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/core-state/State.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts"
+      ],
+      "./src/core-state/StateMachine.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-state/State.ts",
+        "./src/core/BaseObserver.ts"
+      ],
+      "./src/core/AbstractFactory.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core/FactoryBank.ts"
+      ],
+      "./src/core/AbstractModelFactory.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractFactory.ts"
+      ],
+      "./src/core/AbstractReactFactory.tsx": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts"
+      ],
+      "./src/core/BaseObserver.ts": [
+        "./src/Toolkit.ts"
+      ],
+      "./src/core/FactoryBank.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "./src/core/AbstractFactory.ts",
+        "./src/core/BaseObserver.ts"
+      ],
+      "./src/core/ModelGeometryInterface.ts": [
+        "../geometry/dist/@types/index.d.ts"
+      ],
+      "./src/entities/canvas/CanvasModel.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/canvas/CanvasWidget.tsx": [
+        "../../node_modules/@emotion/styled/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/entities/layer/SmartLayerWidget.tsx",
+        "./src/entities/layer/TransformLayerWidget.tsx"
+      ],
+      "./src/entities/layer/LayerModel.ts": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/canvas/CanvasModel.ts"
+      ],
+      "./src/entities/layer/SmartLayerWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/layer/TransformLayerWidget.tsx": [
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@emotion/styled/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/selection/SelectionBoxLayerFactory.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/entities/selection/SelectionBoxWidget.tsx",
+        "./src/entities/selection/SelectionLayerModel.ts"
+      ],
+      "./src/entities/selection/SelectionBoxWidget.tsx": [
+        "../../node_modules/@emotion/styled/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "./src/entities/selection/SelectionLayerModel.ts": [
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/index.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/Toolkit.ts",
+        "./src/actions/DeleteItemsAction.ts",
+        "./src/actions/ZoomCanvasAction.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-actions/ActionEventBus.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-models/BasePositionModel.ts",
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts",
+        "./src/core-state/StateMachine.ts",
+        "./src/core/AbstractFactory.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/core/BaseObserver.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/core/ModelGeometryInterface.ts",
+        "./src/entities/canvas/CanvasModel.ts",
+        "./src/entities/canvas/CanvasWidget.tsx",
+        "./src/entities/layer/LayerModel.ts",
+        "./src/entities/layer/SmartLayerWidget.tsx",
+        "./src/entities/layer/TransformLayerWidget.tsx",
+        "./src/entities/selection/SelectionBoxLayerFactory.tsx",
+        "./src/entities/selection/SelectionBoxWidget.tsx",
+        "./src/entities/selection/SelectionLayerModel.ts",
+        "./src/states/DefaultState.ts",
+        "./src/states/DragCanvasState.ts",
+        "./src/states/MoveItemsState.ts",
+        "./src/states/SelectingState.ts",
+        "./src/states/SelectionBoxState.ts",
+        "./src/widgets/PeformanceWidget.tsx"
+      ],
+      "./src/states/DefaultState.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-state/State.ts",
+        "./src/states/DragCanvasState.ts",
+        "./src/states/MoveItemsState.ts",
+        "./src/states/SelectingState.ts"
+      ],
+      "./src/states/DragCanvasState.ts": [
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/MoveItemsState.ts": [
+        "../geometry/dist/@types/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-models/BasePositionModel.ts",
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/SelectingState.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-state/State.ts",
+        "./src/states/SelectionBoxState.ts"
+      ],
+      "./src/states/SelectionBoxState.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "../geometry/dist/@types/index.d.ts",
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts",
+        "./src/core/ModelGeometryInterface.ts",
+        "./src/entities/selection/SelectionLayerModel.ts"
+      ],
+      "./src/widgets/PeformanceWidget.tsx": [
+        "../../node_modules/@types/lodash/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-models/BaseModel.ts"
+      ]
+    },
+    "exportedModulesMap": {
+      "../../node_modules/@babel/parser/typings/babel-parser.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/helper.d.ts": [
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts",
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/helper.d.ts",
+        "../../node_modules/@emotion/react/types/jsx-namespace.d.ts",
+        "../../node_modules/@emotion/react/types/theming.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/jsx-namespace.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/react/types/theming.d.ts": [
+        "../../node_modules/@emotion/react/types/helper.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/node_modules/@emotion/serialize/types/index.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/types/base.d.ts": [
+        "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@emotion/styled/types/index.d.ts": [
+        "../../node_modules/@emotion/react/types/index.d.ts",
+        "../../node_modules/@emotion/styled/types/base.d.ts"
+      ],
+      "../../node_modules/@jest/environment/build/index.d.ts": [
+        "../../node_modules/@jest/fake-timers/build/index.d.ts",
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/index.d.ts": [
+        "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts",
+        "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts": [
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/jest-message-util/build/index.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts": [
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/jest-message-util/build/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Circus.d.ts": [
+        "../../node_modules/@jest/types/build/Global.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Config.d.ts": [
+        "../../node_modules/@types/istanbul-reports/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/yargs/index.d.ts",
+        "../../node_modules/chalk/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/Global.d.ts": [
+        "../../node_modules/@types/istanbul-lib-coverage/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@jest/types/build/index.d.ts": [
+        "../../node_modules/@jest/types/build/Circus.d.ts",
+        "../../node_modules/@jest/types/build/Config.d.ts",
+        "../../node_modules/@jest/types/build/Global.d.ts",
+        "../../node_modules/@jest/types/build/TestResult.d.ts",
+        "../../node_modules/@jest/types/build/Transform.d.ts"
+      ],
+      "../../node_modules/@types/babel__core/index.d.ts": [
+        "../../node_modules/@babel/parser/typings/babel-parser.d.ts",
+        "../../node_modules/@babel/types/lib/index.d.ts",
+        "../../node_modules/@types/babel__generator/index.d.ts",
+        "../../node_modules/@types/babel__template/index.d.ts",
+        "../../node_modules/@types/babel__traverse/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__generator/index.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__template/index.d.ts": [
+        "../../node_modules/@babel/parser/typings/babel-parser.d.ts",
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/babel__traverse/index.d.ts": [
+        "../../node_modules/@babel/types/lib/index.d.ts"
+      ],
+      "../../node_modules/@types/clean-css/index.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/eslint-scope/index.d.ts": [
+        "../../node_modules/@types/eslint/index.d.ts",
+        "../../node_modules/@types/estree/index.d.ts"
+      ],
+      "../../node_modules/@types/eslint/index.d.ts": [
+        "../../node_modules/@types/eslint/helpers.d.ts",
+        "../../node_modules/@types/estree/index.d.ts",
+        "../../node_modules/@types/json-schema/index.d.ts"
+      ],
+      "../../node_modules/@types/glob/index.d.ts": [
+        "../../node_modules/@types/minimatch/index.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/graceful-fs/index.d.ts": [
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/hast/index.d.ts": [
+        "../../node_modules/@types/unist/index.d.ts"
+      ],
+      "../../node_modules/@types/history/LocationUtils.d.ts": [
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/PathUtils.d.ts": [
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createBrowserHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createHashHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/createMemoryHistory.d.ts": [
+        "../../node_modules/@types/history/DOMUtils.d.ts",
+        "../../node_modules/@types/history/index.d.ts"
+      ],
+      "../../node_modules/@types/history/index.d.ts": [
+        "../../node_modules/@types/history/LocationUtils.d.ts",
+        "../../node_modules/@types/history/PathUtils.d.ts",
+        "../../node_modules/@types/history/createBrowserHistory.d.ts",
+        "../../node_modules/@types/history/createHashHistory.d.ts",
+        "../../node_modules/@types/history/createMemoryHistory.d.ts"
+      ],
+      "../../node_modules/@types/html-minifier/index.d.ts": [
+        "../../node_modules/@types/clean-css/index.d.ts",
+        "../../node_modules/@types/relateurl/index.d.ts",
+        "../../node_modules/@types/uglify-js/index.d.ts"
+      ],
+      "../../node_modules/@types/html-webpack-plugin/index.d.ts": [
+        "../../node_modules/@types/html-minifier/index.d.ts",
+        "../../node_modules/@types/tapable/index.d.ts",
+        "../../node_modules/webpack/types.d.ts"
+      ],
+      "../../node_modules/@types/istanbul-lib-report/index.d.ts": [
+        "../../node_modules/@types/istanbul-lib-coverage/index.d.ts"
+      ],
+      "../../node_modules/@types/istanbul-reports/index.d.ts": [
+        "../../node_modules/@types/istanbul-lib-report/index.d.ts"
+      ],
+      "../../node_modules/@types/jest-environment-puppeteer/index.d.ts": [
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-environment-node/build/index.d.ts"
+      ],
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts": [
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/DeviceDescriptors.d.ts",
+        "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/Errors.d.ts",
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/jest/index.d.ts": [
+        "../../node_modules/jest-diff/build/index.d.ts",
+        "../../node_modules/pretty-format/build/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/array.d.ts": [
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/collection.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/common.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/date.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/function.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/lang.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/math.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/number.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/object.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/seq.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/string.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/common/util.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/index.d.ts"
+      ],
+      "../../node_modules/@types/lodash/index.d.ts": [
+        "../../node_modules/@types/lodash/common/array.d.ts",
+        "../../node_modules/@types/lodash/common/collection.d.ts",
+        "../../node_modules/@types/lodash/common/common.d.ts",
+        "../../node_modules/@types/lodash/common/date.d.ts",
+        "../../node_modules/@types/lodash/common/function.d.ts",
+        "../../node_modules/@types/lodash/common/lang.d.ts",
+        "../../node_modules/@types/lodash/common/math.d.ts",
+        "../../node_modules/@types/lodash/common/number.d.ts",
+        "../../node_modules/@types/lodash/common/object.d.ts",
+        "../../node_modules/@types/lodash/common/seq.d.ts",
+        "../../node_modules/@types/lodash/common/string.d.ts",
+        "../../node_modules/@types/lodash/common/util.d.ts"
+      ],
+      "../../node_modules/@types/markdown-to-jsx/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/global.d.ts",
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/micromatch/index.d.ts": [
+        "../../node_modules/@types/braces/index.d.ts"
+      ],
+      "../../node_modules/@types/node-fetch/index.d.ts": [
+        "../../node_modules/@types/node-fetch/externals.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/form-data/index.d.ts"
+      ],
+      "../../node_modules/@types/node/assert.d.ts": [
+        "../../node_modules/@types/node/assert.d.ts"
+      ],
+      "../../node_modules/@types/node/async_hooks.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts"
+      ],
+      "../../node_modules/@types/node/base.d.ts": [
+        "../../node_modules/@types/node/assert.d.ts",
+        "../../node_modules/@types/node/ts3.6/base.d.ts"
+      ],
+      "../../node_modules/@types/node/buffer.d.ts": [
+        "../../node_modules/@types/node/buffer.d.ts"
+      ],
+      "../../node_modules/@types/node/child_process.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/cluster.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/cluster.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts"
+      ],
+      "../../node_modules/@types/node/console.d.ts": [
+        "../../node_modules/@types/node/util.d.ts"
+      ],
+      "../../node_modules/@types/node/constants.d.ts": [
+        "../../node_modules/@types/node/constants.d.ts",
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/os.d.ts"
+      ],
+      "../../node_modules/@types/node/crypto.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/dgram.d.ts": [
+        "../../node_modules/@types/node/dgram.d.ts",
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts"
+      ],
+      "../../node_modules/@types/node/dns.d.ts": [
+        "../../node_modules/@types/node/dns.d.ts"
+      ],
+      "../../node_modules/@types/node/domain.d.ts": [
+        "../../node_modules/@types/node/domain.d.ts",
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/node/events.d.ts": [
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/node/fs.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/fs/promises.d.ts": [
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts"
+      ],
+      "../../node_modules/@types/node/http.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/http2.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/http2.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/https.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/index.d.ts": [
+        "../../node_modules/@types/node/base.d.ts"
+      ],
+      "../../node_modules/@types/node/inspector.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/inspector.d.ts"
+      ],
+      "../../node_modules/@types/node/module.d.ts": [
+        "../../node_modules/@types/node/module.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/net.d.ts": [
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/os.d.ts": [
+        "../../node_modules/@types/node/os.d.ts"
+      ],
+      "../../node_modules/@types/node/path.d.ts": [
+        "../../node_modules/@types/node/path.d.ts"
+      ],
+      "../../node_modules/@types/node/perf_hooks.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts",
+        "../../node_modules/@types/node/perf_hooks.d.ts"
+      ],
+      "../../node_modules/@types/node/process.d.ts": [
+        "../../node_modules/@types/node/tty.d.ts"
+      ],
+      "../../node_modules/@types/node/punycode.d.ts": [
+        "../../node_modules/@types/node/punycode.d.ts"
+      ],
+      "../../node_modules/@types/node/querystring.d.ts": [
+        "../../node_modules/@types/node/querystring.d.ts"
+      ],
+      "../../node_modules/@types/node/readline.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/readline.d.ts"
+      ],
+      "../../node_modules/@types/node/repl.d.ts": [
+        "../../node_modules/@types/node/readline.d.ts",
+        "../../node_modules/@types/node/repl.d.ts",
+        "../../node_modules/@types/node/util.d.ts",
+        "../../node_modules/@types/node/vm.d.ts"
+      ],
+      "../../node_modules/@types/node/stream.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/@types/node/string_decoder.d.ts": [
+        "../../node_modules/@types/node/string_decoder.d.ts"
+      ],
+      "../../node_modules/@types/node/timers.d.ts": [
+        "../../node_modules/@types/node/timers.d.ts"
+      ],
+      "../../node_modules/@types/node/tls.d.ts": [
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/tls.d.ts"
+      ],
+      "../../node_modules/@types/node/trace_events.d.ts": [
+        "../../node_modules/@types/node/trace_events.d.ts"
+      ],
+      "../../node_modules/@types/node/ts3.6/base.d.ts": [
+        "../../node_modules/@types/node/async_hooks.d.ts",
+        "../../node_modules/@types/node/buffer.d.ts",
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/cluster.d.ts",
+        "../../node_modules/@types/node/console.d.ts",
+        "../../node_modules/@types/node/constants.d.ts",
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/dgram.d.ts",
+        "../../node_modules/@types/node/dns.d.ts",
+        "../../node_modules/@types/node/domain.d.ts",
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/globals.d.ts",
+        "../../node_modules/@types/node/globals.global.d.ts",
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/http2.d.ts",
+        "../../node_modules/@types/node/https.d.ts",
+        "../../node_modules/@types/node/inspector.d.ts",
+        "../../node_modules/@types/node/module.d.ts",
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/os.d.ts",
+        "../../node_modules/@types/node/path.d.ts",
+        "../../node_modules/@types/node/perf_hooks.d.ts",
+        "../../node_modules/@types/node/process.d.ts",
+        "../../node_modules/@types/node/punycode.d.ts",
+        "../../node_modules/@types/node/querystring.d.ts",
+        "../../node_modules/@types/node/readline.d.ts",
+        "../../node_modules/@types/node/repl.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/string_decoder.d.ts",
+        "../../node_modules/@types/node/timers.d.ts",
+        "../../node_modules/@types/node/tls.d.ts",
+        "../../node_modules/@types/node/trace_events.d.ts",
+        "../../node_modules/@types/node/tty.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/@types/node/util.d.ts",
+        "../../node_modules/@types/node/v8.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/@types/node/wasi.d.ts",
+        "../../node_modules/@types/node/worker_threads.d.ts",
+        "../../node_modules/@types/node/zlib.d.ts"
+      ],
+      "../../node_modules/@types/node/tty.d.ts": [
+        "../../node_modules/@types/node/net.d.ts",
+        "../../node_modules/@types/node/tty.d.ts"
+      ],
+      "../../node_modules/@types/node/url.d.ts": [
+        "../../node_modules/@types/node/querystring.d.ts",
+        "../../node_modules/@types/node/url.d.ts"
+      ],
+      "../../node_modules/@types/node/util.d.ts": [
+        "../../node_modules/@types/node/util.d.ts"
+      ],
+      "../../node_modules/@types/node/v8.d.ts": [
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/v8.d.ts"
+      ],
+      "../../node_modules/@types/node/vm.d.ts": [
+        "../../node_modules/@types/node/vm.d.ts"
+      ],
+      "../../node_modules/@types/node/wasi.d.ts": [
+        "../../node_modules/@types/node/wasi.d.ts"
+      ],
+      "../../node_modules/@types/node/worker_threads.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/fs/promises.d.ts",
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/url.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/@types/node/worker_threads.d.ts"
+      ],
+      "../../node_modules/@types/node/zlib.d.ts": [
+        "../../node_modules/@types/node/stream.d.ts",
+        "../../node_modules/@types/node/zlib.d.ts"
+      ],
+      "../../node_modules/@types/npmlog/index.d.ts": [
+        "../../node_modules/@types/node/events.d.ts"
+      ],
+      "../../node_modules/@types/puppeteer/index.d.ts": [
+        "../../node_modules/@types/node/child_process.d.ts",
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/@types/reach__router/index.d.ts": [
+        "../../node_modules/@types/history/index.d.ts",
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/reach__router/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/reach__router/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts",
+        "../../node_modules/@types/react-color/lib/components/block/Block.d.ts",
+        "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts",
+        "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts",
+        "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts",
+        "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts",
+        "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts",
+        "../../node_modules/@types/react-color/lib/components/github/Github.d.ts",
+        "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts",
+        "../../node_modules/@types/react-color/lib/components/material/Material.d.ts",
+        "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts",
+        "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts",
+        "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts",
+        "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts",
+        "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/block/Block.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/github/Github.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/material/Material.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-color/index.d.ts",
+        "../../node_modules/@types/reactcss/index.d.ts"
+      ],
+      "../../node_modules/@types/react-color/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-color/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-syntax-highlighter/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+        "../../node_modules/@types/react-syntax-highlighter/index.d.ts"
+      ],
+      "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react-textarea-autosize/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/react/global.d.ts",
+        "../../node_modules/@types/scheduler/tracing.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/reactcss/index.d.ts": [
+        "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts"
+      ],
+      "../../node_modules/@types/reactcss/node_modules/@types/react/index.d.ts": [
+        "../../node_modules/@types/prop-types/index.d.ts",
+        "../../node_modules/@types/reactcss/node_modules/@types/react/global.d.ts",
+        "../../node_modules/csstype/index.d.ts"
+      ],
+      "../../node_modules/@types/uglify-js/index.d.ts": [
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/webpack-sources/index.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/source-list-map/index.d.ts",
+        "../../node_modules/@types/webpack-sources/node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/webpack/index.d.ts": [
+        "../../node_modules/@types/node/crypto.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/tapable/index.d.ts",
+        "../../node_modules/@types/uglify-js/index.d.ts",
+        "../../node_modules/@types/webpack-sources/index.d.ts",
+        "../../node_modules/anymatch/index.d.ts",
+        "../../node_modules/source-map/source-map.d.ts"
+      ],
+      "../../node_modules/@types/yargs/index.d.ts": [
+        "../../node_modules/@types/yargs-parser/index.d.ts"
+      ],
+      "../../node_modules/@types/yauzl/index.d.ts": [
+        "../../node_modules/@types/node/events.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/form-data/index.d.ts": [
+        "../../node_modules/@types/node/http.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/stream.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/diffLines.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/index.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/diffLines.d.ts",
+        "../../node_modules/jest-diff/build/printDiffs.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-diff/build/printDiffs.d.ts": [
+        "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+        "../../node_modules/jest-diff/build/types.d.ts"
+      ],
+      "../../node_modules/jest-environment-node/build/index.d.ts": [
+        "../../node_modules/@jest/environment/build/index.d.ts",
+        "../../node_modules/@jest/fake-timers/build/index.d.ts",
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/@types/node/index.d.ts",
+        "../../node_modules/@types/node/vm.d.ts",
+        "../../node_modules/jest-mock/build/index.d.ts"
+      ],
+      "../../node_modules/jest-message-util/build/index.d.ts": [
+        "../../node_modules/@jest/types/build/index.d.ts",
+        "../../node_modules/jest-message-util/build/types.d.ts"
+      ],
+      "../../node_modules/jest-message-util/build/types.d.ts": [
+        "../../node_modules/@types/stack-utils/index.d.ts"
+      ],
+      "../../node_modules/jest-mock/build/index.d.ts": [
+        "../../node_modules/@types/node/index.d.ts"
+      ],
+      "../../node_modules/pretty-format/build/index.d.ts": [
+        "../../node_modules/pretty-format/build/types.d.ts"
+      ],
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts": [
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts"
+      ],
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts": [
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts"
+      ],
+      "../../node_modules/webpack/types.d.ts": [
+        "../../node_modules/@types/estree/index.d.ts",
+        "../../node_modules/@types/json-schema/index.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts",
+        "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts",
+        "../../node_modules/webpack/node_modules/tapable/tapable.d.ts"
+      ],
+      "../geometry/dist/@types/BezierCurve.d.ts": [
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts"
+      ],
+      "../geometry/dist/@types/Point.d.ts": [
+        "../geometry/dist/@types/Matrix.d.ts"
+      ],
+      "../geometry/dist/@types/Polygon.d.ts": [
+        "../geometry/dist/@types/Matrix.d.ts",
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Rectangle.d.ts"
+      ],
+      "../geometry/dist/@types/Rectangle.d.ts": [
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts"
+      ],
+      "../geometry/dist/@types/index.d.ts": [
+        "../geometry/dist/@types/BezierCurve.d.ts",
+        "../geometry/dist/@types/Matrix.d.ts",
+        "../geometry/dist/@types/Point.d.ts",
+        "../geometry/dist/@types/Polygon.d.ts",
+        "../geometry/dist/@types/Rectangle.d.ts"
+      ],
+      "./src/CanvasEngine.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "../geometry/dist/@types/index.d.ts",
+        "./src/core-actions/ActionEventBus.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-state/StateMachine.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/core/BaseObserver.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/canvas/CanvasModel.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/actions/DeleteItemsAction.ts": [
+        "./src/core-actions/Action.ts"
+      ],
+      "./src/actions/ZoomCanvasAction.ts": [
+        "./src/core-actions/Action.ts"
+      ],
+      "./src/core-actions/Action.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts"
+      ],
+      "./src/core-actions/ActionEventBus.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-models/BaseModel.ts"
+      ],
+      "./src/core-models/BaseEntity.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/BaseObserver.ts"
+      ],
+      "./src/core-models/BaseModel.ts": [
+        "./src/core-models/BaseEntity.ts",
+        "./src/entities/canvas/CanvasModel.ts"
+      ],
+      "./src/core-models/BasePositionModel.ts": [
+        "../geometry/dist/@types/index.d.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/ModelGeometryInterface.ts"
+      ],
+      "./src/core-state/AbstractDisplacementState.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/core-state/State.ts": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-actions/Action.ts",
+        "./src/index.ts"
+      ],
+      "./src/core-state/StateMachine.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-state/State.ts",
+        "./src/core/BaseObserver.ts",
+        "./src/index.ts"
+      ],
+      "./src/core/AbstractFactory.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core/FactoryBank.ts"
+      ],
+      "./src/core/AbstractModelFactory.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractFactory.ts"
+      ],
+      "./src/core/AbstractReactFactory.tsx": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts"
+      ],
+      "./src/core/FactoryBank.ts": [
+        "./src/core/AbstractFactory.ts",
+        "./src/core/BaseObserver.ts"
+      ],
+      "./src/core/ModelGeometryInterface.ts": [
+        "../geometry/dist/@types/index.d.ts"
+      ],
+      "./src/entities/canvas/CanvasModel.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/canvas/CanvasWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts"
+      ],
+      "./src/entities/layer/LayerModel.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/canvas/CanvasModel.ts"
+      ],
+      "./src/entities/layer/SmartLayerWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/layer/TransformLayerWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/entities/selection/SelectionBoxLayerFactory.tsx": [
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/entities/selection/SelectionLayerModel.ts"
+      ],
+      "./src/entities/selection/SelectionBoxWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts"
+      ],
+      "./src/entities/selection/SelectionLayerModel.ts": [
+        "./src/core-models/BaseModel.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/entities/layer/LayerModel.ts"
+      ],
+      "./src/index.ts": [
+        "./src/CanvasEngine.ts",
+        "./src/Toolkit.ts",
+        "./src/actions/DeleteItemsAction.ts",
+        "./src/actions/ZoomCanvasAction.ts",
+        "./src/core-actions/Action.ts",
+        "./src/core-actions/ActionEventBus.ts",
+        "./src/core-models/BaseEntity.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-models/BasePositionModel.ts",
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts",
+        "./src/core-state/StateMachine.ts",
+        "./src/core/AbstractFactory.ts",
+        "./src/core/AbstractModelFactory.ts",
+        "./src/core/AbstractReactFactory.tsx",
+        "./src/core/BaseObserver.ts",
+        "./src/core/FactoryBank.ts",
+        "./src/core/ModelGeometryInterface.ts",
+        "./src/entities/canvas/CanvasModel.ts",
+        "./src/entities/canvas/CanvasWidget.tsx",
+        "./src/entities/layer/LayerModel.ts",
+        "./src/entities/layer/SmartLayerWidget.tsx",
+        "./src/entities/layer/TransformLayerWidget.tsx",
+        "./src/entities/selection/SelectionBoxLayerFactory.tsx",
+        "./src/entities/selection/SelectionBoxWidget.tsx",
+        "./src/entities/selection/SelectionLayerModel.ts",
+        "./src/states/DefaultState.ts",
+        "./src/states/DragCanvasState.ts",
+        "./src/states/MoveItemsState.ts",
+        "./src/states/SelectingState.ts",
+        "./src/states/SelectionBoxState.ts",
+        "./src/widgets/PeformanceWidget.tsx"
+      ],
+      "./src/states/DefaultState.ts": [
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/DragCanvasState.ts": [
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/MoveItemsState.ts": [
+        "../geometry/dist/@types/index.d.ts",
+        "./src/CanvasEngine.ts",
+        "./src/core-models/BaseModel.ts",
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/SelectingState.ts": [
+        "./src/core-state/State.ts"
+      ],
+      "./src/states/SelectionBoxState.ts": [
+        "./src/core-state/AbstractDisplacementState.ts",
+        "./src/core-state/State.ts",
+        "./src/entities/selection/SelectionLayerModel.ts"
+      ],
+      "./src/widgets/PeformanceWidget.tsx": [
+        "../../node_modules/@types/react/index.d.ts",
+        "./src/core-models/BaseModel.ts"
+      ]
+    },
+    "semanticDiagnosticsPerFile": [
+      "../../node_modules/@babel/parser/typings/babel-parser.d.ts",
+      "../../node_modules/@babel/types/lib/index.d.ts",
+      "../../node_modules/@emotion/react/node_modules/@emotion/cache/types/index.d.ts",
+      "../../node_modules/@emotion/react/node_modules/@emotion/serialize/types/index.d.ts",
+      "../../node_modules/@emotion/react/node_modules/@emotion/utils/types/index.d.ts",
+      "../../node_modules/@emotion/react/types/helper.d.ts",
+      "../../node_modules/@emotion/react/types/index.d.ts",
+      "../../node_modules/@emotion/react/types/jsx-namespace.d.ts",
+      "../../node_modules/@emotion/react/types/theming.d.ts",
+      "../../node_modules/@emotion/styled/node_modules/@emotion/serialize/types/index.d.ts",
+      "../../node_modules/@emotion/styled/types/base.d.ts",
+      "../../node_modules/@emotion/styled/types/index.d.ts",
+      "../../node_modules/@jest/environment/build/index.d.ts",
+      "../../node_modules/@jest/fake-timers/build/index.d.ts",
+      "../../node_modules/@jest/fake-timers/build/legacyFakeTimers.d.ts",
+      "../../node_modules/@jest/fake-timers/build/modernFakeTimers.d.ts",
+      "../../node_modules/@jest/types/build/Circus.d.ts",
+      "../../node_modules/@jest/types/build/Config.d.ts",
+      "../../node_modules/@jest/types/build/Global.d.ts",
+      "../../node_modules/@jest/types/build/TestResult.d.ts",
+      "../../node_modules/@jest/types/build/Transform.d.ts",
+      "../../node_modules/@jest/types/build/index.d.ts",
+      "../../node_modules/@types/anymatch/index.d.ts",
+      "../../node_modules/@types/babel__core/index.d.ts",
+      "../../node_modules/@types/babel__generator/index.d.ts",
+      "../../node_modules/@types/babel__template/index.d.ts",
+      "../../node_modules/@types/babel__traverse/index.d.ts",
+      "../../node_modules/@types/braces/index.d.ts",
+      "../../node_modules/@types/clean-css/index.d.ts",
+      "../../node_modules/@types/color-name/index.d.ts",
+      "../../node_modules/@types/dagre/index.d.ts",
+      "../../node_modules/@types/eslint-scope/index.d.ts",
+      "../../node_modules/@types/eslint/helpers.d.ts",
+      "../../node_modules/@types/eslint/index.d.ts",
+      "../../node_modules/@types/estree/index.d.ts",
+      "../../node_modules/@types/glob-base/index.d.ts",
+      "../../node_modules/@types/glob/index.d.ts",
+      "../../node_modules/@types/graceful-fs/index.d.ts",
+      "../../node_modules/@types/hast/index.d.ts",
+      "../../node_modules/@types/history/DOMUtils.d.ts",
+      "../../node_modules/@types/history/LocationUtils.d.ts",
+      "../../node_modules/@types/history/PathUtils.d.ts",
+      "../../node_modules/@types/history/createBrowserHistory.d.ts",
+      "../../node_modules/@types/history/createHashHistory.d.ts",
+      "../../node_modules/@types/history/createMemoryHistory.d.ts",
+      "../../node_modules/@types/history/index.d.ts",
+      "../../node_modules/@types/html-minifier-terser/index.d.ts",
+      "../../node_modules/@types/html-minifier/index.d.ts",
+      "../../node_modules/@types/html-webpack-plugin/index.d.ts",
+      "../../node_modules/@types/is-function/index.d.ts",
+      "../../node_modules/@types/istanbul-lib-coverage/index.d.ts",
+      "../../node_modules/@types/istanbul-lib-report/index.d.ts",
+      "../../node_modules/@types/istanbul-reports/index.d.ts",
+      "../../node_modules/@types/jest-environment-puppeteer/index.d.ts",
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/DeviceDescriptors.d.ts",
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/Errors.d.ts",
+      "../../node_modules/@types/jest-environment-puppeteer/node_modules/@types/puppeteer/index.d.ts",
+      "../../node_modules/@types/jest/index.d.ts",
+      "../../node_modules/@types/json-schema/index.d.ts",
+      "../../node_modules/@types/lodash/common/array.d.ts",
+      "../../node_modules/@types/lodash/common/collection.d.ts",
+      "../../node_modules/@types/lodash/common/common.d.ts",
+      "../../node_modules/@types/lodash/common/date.d.ts",
+      "../../node_modules/@types/lodash/common/function.d.ts",
+      "../../node_modules/@types/lodash/common/lang.d.ts",
+      "../../node_modules/@types/lodash/common/math.d.ts",
+      "../../node_modules/@types/lodash/common/number.d.ts",
+      "../../node_modules/@types/lodash/common/object.d.ts",
+      "../../node_modules/@types/lodash/common/seq.d.ts",
+      "../../node_modules/@types/lodash/common/string.d.ts",
+      "../../node_modules/@types/lodash/common/util.d.ts",
+      "../../node_modules/@types/lodash/index.d.ts",
+      "../../node_modules/@types/markdown-to-jsx/index.d.ts",
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/global.d.ts",
+      "../../node_modules/@types/markdown-to-jsx/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/micromatch/index.d.ts",
+      "../../node_modules/@types/minimatch/index.d.ts",
+      "../../node_modules/@types/minimist/index.d.ts",
+      "../../node_modules/@types/node-fetch/externals.d.ts",
+      "../../node_modules/@types/node-fetch/index.d.ts",
+      "../../node_modules/@types/node/assert.d.ts",
+      "../../node_modules/@types/node/async_hooks.d.ts",
+      "../../node_modules/@types/node/base.d.ts",
+      "../../node_modules/@types/node/buffer.d.ts",
+      "../../node_modules/@types/node/child_process.d.ts",
+      "../../node_modules/@types/node/cluster.d.ts",
+      "../../node_modules/@types/node/console.d.ts",
+      "../../node_modules/@types/node/constants.d.ts",
+      "../../node_modules/@types/node/crypto.d.ts",
+      "../../node_modules/@types/node/dgram.d.ts",
+      "../../node_modules/@types/node/dns.d.ts",
+      "../../node_modules/@types/node/domain.d.ts",
+      "../../node_modules/@types/node/events.d.ts",
+      "../../node_modules/@types/node/fs.d.ts",
+      "../../node_modules/@types/node/fs/promises.d.ts",
+      "../../node_modules/@types/node/globals.d.ts",
+      "../../node_modules/@types/node/globals.global.d.ts",
+      "../../node_modules/@types/node/http.d.ts",
+      "../../node_modules/@types/node/http2.d.ts",
+      "../../node_modules/@types/node/https.d.ts",
+      "../../node_modules/@types/node/index.d.ts",
+      "../../node_modules/@types/node/inspector.d.ts",
+      "../../node_modules/@types/node/module.d.ts",
+      "../../node_modules/@types/node/net.d.ts",
+      "../../node_modules/@types/node/os.d.ts",
+      "../../node_modules/@types/node/path.d.ts",
+      "../../node_modules/@types/node/perf_hooks.d.ts",
+      "../../node_modules/@types/node/process.d.ts",
+      "../../node_modules/@types/node/punycode.d.ts",
+      "../../node_modules/@types/node/querystring.d.ts",
+      "../../node_modules/@types/node/readline.d.ts",
+      "../../node_modules/@types/node/repl.d.ts",
+      "../../node_modules/@types/node/stream.d.ts",
+      "../../node_modules/@types/node/string_decoder.d.ts",
+      "../../node_modules/@types/node/timers.d.ts",
+      "../../node_modules/@types/node/tls.d.ts",
+      "../../node_modules/@types/node/trace_events.d.ts",
+      "../../node_modules/@types/node/ts3.6/base.d.ts",
+      "../../node_modules/@types/node/tty.d.ts",
+      "../../node_modules/@types/node/url.d.ts",
+      "../../node_modules/@types/node/util.d.ts",
+      "../../node_modules/@types/node/v8.d.ts",
+      "../../node_modules/@types/node/vm.d.ts",
+      "../../node_modules/@types/node/wasi.d.ts",
+      "../../node_modules/@types/node/worker_threads.d.ts",
+      "../../node_modules/@types/node/zlib.d.ts",
+      "../../node_modules/@types/normalize-package-data/index.d.ts",
+      "../../node_modules/@types/npmlog/index.d.ts",
+      "../../node_modules/@types/overlayscrollbars/index.d.ts",
+      "../../node_modules/@types/parse-json/index.d.ts",
+      "../../node_modules/@types/prettier/index.d.ts",
+      "../../node_modules/@types/promise/index.d.ts",
+      "../../node_modules/@types/prop-types/index.d.ts",
+      "../../node_modules/@types/puppeteer/index.d.ts",
+      "../../node_modules/@types/qs/index.d.ts",
+      "../../node_modules/@types/reach__router/index.d.ts",
+      "../../node_modules/@types/reach__router/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/react-color/index.d.ts",
+      "../../node_modules/@types/react-color/lib/components/alpha/Alpha.d.ts",
+      "../../node_modules/@types/react-color/lib/components/block/Block.d.ts",
+      "../../node_modules/@types/react-color/lib/components/chrome/Chrome.d.ts",
+      "../../node_modules/@types/react-color/lib/components/circle/Circle.d.ts",
+      "../../node_modules/@types/react-color/lib/components/common/Checkboard.d.ts",
+      "../../node_modules/@types/react-color/lib/components/common/ColorWrap.d.ts",
+      "../../node_modules/@types/react-color/lib/components/compact/Compact.d.ts",
+      "../../node_modules/@types/react-color/lib/components/github/Github.d.ts",
+      "../../node_modules/@types/react-color/lib/components/hue/Hue.d.ts",
+      "../../node_modules/@types/react-color/lib/components/material/Material.d.ts",
+      "../../node_modules/@types/react-color/lib/components/photoshop/Photoshop.d.ts",
+      "../../node_modules/@types/react-color/lib/components/sketch/Sketch.d.ts",
+      "../../node_modules/@types/react-color/lib/components/slider/Slider.d.ts",
+      "../../node_modules/@types/react-color/lib/components/swatches/Swatches.d.ts",
+      "../../node_modules/@types/react-color/lib/components/twitter/Twitter.d.ts",
+      "../../node_modules/@types/react-color/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/react-syntax-highlighter/index.d.ts",
+      "../../node_modules/@types/react-syntax-highlighter/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/react-textarea-autosize/index.d.ts",
+      "../../node_modules/@types/react-textarea-autosize/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/react/global.d.ts",
+      "../../node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/reactcss/index.d.ts",
+      "../../node_modules/@types/reactcss/node_modules/@types/react/index.d.ts",
+      "../../node_modules/@types/relateurl/index.d.ts",
+      "../../node_modules/@types/scheduler/index.d.ts",
+      "../../node_modules/@types/scheduler/tracing.d.ts",
+      "../../node_modules/@types/source-list-map/index.d.ts",
+      "../../node_modules/@types/stack-utils/index.d.ts",
+      "../../node_modules/@types/tapable/index.d.ts",
+      "../../node_modules/@types/tinycolor2/index.d.ts",
+      "../../node_modules/@types/uglify-js/index.d.ts",
+      "../../node_modules/@types/unist/index.d.ts",
+      "../../node_modules/@types/webpack-env/index.d.ts",
+      "../../node_modules/@types/webpack-sources/index.d.ts",
+      "../../node_modules/@types/webpack-sources/node_modules/source-map/source-map.d.ts",
+      "../../node_modules/@types/webpack/index.d.ts",
+      "../../node_modules/@types/yargs-parser/index.d.ts",
+      "../../node_modules/@types/yargs/index.d.ts",
+      "../../node_modules/@types/yauzl/index.d.ts",
+      "../../node_modules/anymatch/index.d.ts",
+      "../../node_modules/chalk/index.d.ts",
+      "../../node_modules/csstype/index.d.ts",
+      "../../node_modules/form-data/index.d.ts",
+      "../../node_modules/jest-diff/build/cleanupSemantic.d.ts",
+      "../../node_modules/jest-diff/build/diffLines.d.ts",
+      "../../node_modules/jest-diff/build/index.d.ts",
+      "../../node_modules/jest-diff/build/printDiffs.d.ts",
+      "../../node_modules/jest-diff/build/types.d.ts",
+      "../../node_modules/jest-environment-node/build/index.d.ts",
+      "../../node_modules/jest-message-util/build/index.d.ts",
+      "../../node_modules/jest-message-util/build/types.d.ts",
+      "../../node_modules/jest-mock/build/index.d.ts",
+      "../../node_modules/pretty-format/build/index.d.ts",
+      "../../node_modules/pretty-format/build/types.d.ts",
+      "../../node_modules/source-map/source-map.d.ts",
+      "../../node_modules/typescript/lib/lib.dom.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.collection.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.core.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.generator.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.iterable.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.promise.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.proxy.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.reflect.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.symbol.d.ts",
+      "../../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts",
+      "../../node_modules/typescript/lib/lib.es2016.array.include.d.ts",
+      "../../node_modules/typescript/lib/lib.es2016.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.intl.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.object.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.string.d.ts",
+      "../../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.intl.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.promise.d.ts",
+      "../../node_modules/typescript/lib/lib.es2018.regexp.d.ts",
+      "../../node_modules/typescript/lib/lib.es2020.bigint.d.ts",
+      "../../node_modules/typescript/lib/lib.es5.d.ts",
+      "../../node_modules/typescript/lib/lib.esnext.intl.d.ts",
+      "../../node_modules/webpack/node_modules/ajv/lib/ajv.d.ts",
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/ValidationError.d.ts",
+      "../../node_modules/webpack/node_modules/schema-utils/declarations/validate.d.ts",
+      "../../node_modules/webpack/node_modules/tapable/tapable.d.ts",
+      "../../node_modules/webpack/types.d.ts",
+      "../geometry/dist/@types/BezierCurve.d.ts",
+      "../geometry/dist/@types/Matrix.d.ts",
+      "../geometry/dist/@types/Point.d.ts",
+      "../geometry/dist/@types/Polygon.d.ts",
+      "../geometry/dist/@types/Rectangle.d.ts",
+      "../geometry/dist/@types/index.d.ts",
+      "./src/CanvasEngine.ts",
+      "./src/Toolkit.ts",
+      "./src/actions/DeleteItemsAction.ts",
+      "./src/actions/ZoomCanvasAction.ts",
+      "./src/core-actions/Action.ts",
+      "./src/core-actions/ActionEventBus.ts",
+      "./src/core-models/BaseEntity.ts",
+      "./src/core-models/BaseModel.ts",
+      "./src/core-models/BasePositionModel.ts",
+      "./src/core-state/AbstractDisplacementState.ts",
+      "./src/core-state/State.ts",
+      "./src/core-state/StateMachine.ts",
+      "./src/core/AbstractFactory.ts",
+      "./src/core/AbstractModelFactory.ts",
+      "./src/core/AbstractReactFactory.tsx",
+      "./src/core/BaseObserver.ts",
+      "./src/core/FactoryBank.ts",
+      "./src/core/ModelGeometryInterface.ts",
+      "./src/entities/canvas/CanvasModel.ts",
+      "./src/entities/canvas/CanvasWidget.tsx",
+      "./src/entities/layer/LayerModel.ts",
+      "./src/entities/layer/SmartLayerWidget.tsx",
+      "./src/entities/layer/TransformLayerWidget.tsx",
+      "./src/entities/selection/SelectionBoxLayerFactory.tsx",
+      "./src/entities/selection/SelectionBoxWidget.tsx",
+      "./src/entities/selection/SelectionLayerModel.ts",
+      "./src/index.ts",
+      "./src/states/DefaultState.ts",
+      "./src/states/DragCanvasState.ts",
+      "./src/states/MoveItemsState.ts",
+      "./src/states/SelectingState.ts",
+      "./src/states/SelectionBoxState.ts",
+      "./src/widgets/PeformanceWidget.tsx"
+    ]
+  },
+  "version": "4.2.3"
+}
\ No newline at end of file
diff --git a/node_modules/@projectstorm/react-canvas-core/webpack.config.js b/node_modules/@projectstorm/react-canvas-core/webpack.config.js
new file mode 100644
index 0000000..16fc237
--- /dev/null
+++ b/node_modules/@projectstorm/react-canvas-core/webpack.config.js
@@ -0,0 +1,8 @@
+const config = require('../../webpack.shared')(__dirname);
+module.exports = {
+	...config,
+	output: {
+		...config.output,
+		library: 'projectstorm/react-canvas-core'
+	}
+};
